"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@walletconnect+sign-client@2.17.3_@react-native-async-storage+async-storage@1.24.0_react-nati_m34b64qedclwzfsxvz22tzpafe";
exports.ids = ["vendor-chunks/@walletconnect+sign-client@2.17.3_@react-native-async-storage+async-storage@1.24.0_react-nati_m34b64qedclwzfsxvz22tzpafe"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@walletconnect+sign-client@2.17.3_@react-native-async-storage+async-storage@1.24.0_react-nati_m34b64qedclwzfsxvz22tzpafe/node_modules/@walletconnect/sign-client/dist/index.es.js":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@walletconnect+sign-client@2.17.3_@react-native-async-storage+async-storage@1.24.0_react-nati_m34b64qedclwzfsxvz22tzpafe/node_modules/@walletconnect/sign-client/dist/index.es.js ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AUTH_CONTEXT: () => (/* binding */ pt),\n/* harmony export */   AUTH_KEYS_CONTEXT: () => (/* binding */ ht),\n/* harmony export */   AUTH_PAIRING_TOPIC_CONTEXT: () => (/* binding */ dt),\n/* harmony export */   AUTH_PROTOCOL: () => (/* binding */ lt),\n/* harmony export */   AUTH_PUBLIC_KEY_NAME: () => (/* binding */ ae),\n/* harmony export */   AUTH_REQUEST_CONTEXT: () => (/* binding */ ut),\n/* harmony export */   AUTH_STORAGE_PREFIX: () => (/* binding */ oe),\n/* harmony export */   AUTH_VERSION: () => (/* binding */ gs),\n/* harmony export */   ENGINE_CONTEXT: () => (/* binding */ ot),\n/* harmony export */   ENGINE_QUEUE_STATES: () => (/* binding */ x),\n/* harmony export */   ENGINE_RPC_OPTS: () => (/* binding */ v),\n/* harmony export */   HISTORY_CONTEXT: () => (/* binding */ hs),\n/* harmony export */   HISTORY_EVENTS: () => (/* binding */ ps),\n/* harmony export */   HISTORY_STORAGE_VERSION: () => (/* binding */ ds),\n/* harmony export */   METHODS_TO_VERIFY: () => (/* binding */ ct),\n/* harmony export */   PROPOSAL_CONTEXT: () => (/* binding */ it),\n/* harmony export */   PROPOSAL_EXPIRY: () => (/* binding */ us),\n/* harmony export */   PROPOSAL_EXPIRY_MESSAGE: () => (/* binding */ rt),\n/* harmony export */   REQUEST_CONTEXT: () => (/* binding */ at),\n/* harmony export */   SESSION_CONTEXT: () => (/* binding */ nt),\n/* harmony export */   SESSION_EXPIRY: () => (/* binding */ H),\n/* harmony export */   SESSION_REQUEST_EXPIRY_BOUNDARIES: () => (/* binding */ me),\n/* harmony export */   SIGN_CLIENT_CONTEXT: () => (/* binding */ xe),\n/* harmony export */   SIGN_CLIENT_DEFAULT: () => (/* binding */ we),\n/* harmony export */   SIGN_CLIENT_EVENTS: () => (/* binding */ cs),\n/* harmony export */   SIGN_CLIENT_PROTOCOL: () => (/* binding */ Ce),\n/* harmony export */   SIGN_CLIENT_STORAGE_OPTIONS: () => (/* binding */ ls),\n/* harmony export */   SIGN_CLIENT_STORAGE_PREFIX: () => (/* binding */ ye),\n/* harmony export */   SIGN_CLIENT_VERSION: () => (/* binding */ Le),\n/* harmony export */   SessionStore: () => (/* binding */ Ns),\n/* harmony export */   SignClient: () => (/* binding */ Ps),\n/* harmony export */   WALLETCONNECT_DEEPLINK_CHOICE: () => (/* binding */ De),\n/* harmony export */   \"default\": () => (/* binding */ _e)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/core */ \"(ssr)/./node_modules/.pnpm/@walletconnect+core@2.17.3_@react-native-async-storage+async-storage@1.24.0_react-native@0.76_s47g2unuoqkjestoikiwqqvxlm/node_modules/@walletconnect/core/dist/index.es.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/logger */ \"(ssr)/./node_modules/.pnpm/@walletconnect+logger@2.1.2/node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/types */ \"(ssr)/./node_modules/.pnpm/@walletconnect+types@2.17.3_@react-native-async-storage+async-storage@1.24.0_react-native@0.7_qmomdiifgrqdduddngdgs3slcm/node_modules/@walletconnect/types/dist/index.es.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/utils */ \"(ssr)/./node_modules/.pnpm/@walletconnect+utils@2.17.3_@react-native-async-storage+async-storage@1.24.0_react-native@0.7_s252bfwxtq5vq2uomopfdat5i4/node_modules/@walletconnect/utils/dist/index.es.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\nconst Ce=\"wc\",Le=2,xe=\"client\",ye=`${Ce}@${Le}:${xe}:`,we={name:xe,logger:\"error\",controller:!1,relayUrl:\"wss://relay.walletconnect.org\"},cs={session_proposal:\"session_proposal\",session_update:\"session_update\",session_extend:\"session_extend\",session_ping:\"session_ping\",session_delete:\"session_delete\",session_expire:\"session_expire\",session_request:\"session_request\",session_request_sent:\"session_request_sent\",session_event:\"session_event\",proposal_expire:\"proposal_expire\",session_authenticate:\"session_authenticate\",session_request_expire:\"session_request_expire\"},ls={database:\":memory:\"},De=\"WALLETCONNECT_DEEPLINK_CHOICE\",ps={created:\"history_created\",updated:\"history_updated\",deleted:\"history_deleted\",sync:\"history_sync\"},hs=\"history\",ds=\"0.3\",it=\"proposal\",us=_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.THIRTY_DAYS,rt=\"Proposal expired\",nt=\"session\",H=_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.SEVEN_DAYS,ot=\"engine\",v={wc_sessionPropose:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1104},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1106},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1112},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1114},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1119}}},me={min:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,max:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.SEVEN_DAYS},x={idle:\"IDLE\",active:\"ACTIVE\"},at=\"request\",ct=[\"wc_sessionPropose\",\"wc_sessionRequest\",\"wc_authRequest\",\"wc_sessionAuthenticate\"],lt=\"wc\",gs=1.5,pt=\"auth\",ht=\"authKeys\",dt=\"pairingTopics\",ut=\"requests\",oe=`${lt}@${1.5}:${pt}:`,ae=`${oe}:PUB_KEY`;var ys=Object.defineProperty,ws=Object.defineProperties,ms=Object.getOwnPropertyDescriptors,gt=Object.getOwnPropertySymbols,_s=Object.prototype.hasOwnProperty,Es=Object.prototype.propertyIsEnumerable,yt=(q,o,e)=>o in q?ys(q,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):q[o]=e,I=(q,o)=>{for(var e in o||(o={}))_s.call(o,e)&&yt(q,e,o[e]);if(gt)for(var e of gt(o))Es.call(o,e)&&yt(q,e,o[e]);return q},D=(q,o)=>ws(q,ms(o));class Rs extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__.IEngine{constructor(o){super(o),this.name=ot,this.events=new (events__WEBPACK_IMPORTED_MODULE_2___default()),this.initialized=!1,this.requestQueue={state:x.idle,queue:[]},this.sessionRequestQueue={state:x.idle,queue:[]},this.requestQueueDelay=_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(v)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.toMiliseconds)(this.requestQueueDelay)))},this.connect=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const t=D(I({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:r,sessionProperties:n,relays:a}=t;let c=s,h,p=!1;try{c&&(p=this.client.core.pairing.pairings.get(c).active)}catch(E){throw this.client.logger.error(`connect() -> pairing.get(${c}) failed`),E}if(!c||!p){const{topic:E,uri:S}=await this.client.core.pairing.create();c=E,h=S}if(!c){const{message:E}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`connect() pairing topic: ${c}`);throw new Error(E)}const d=await this.client.core.crypto.generateKeyPair(),l=v.wc_sessionPropose.req.ttl||_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,w=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(l),m=I({requiredNamespaces:i,optionalNamespaces:r,relays:a??[{protocol:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:d,metadata:this.client.metadata},expiryTimestamp:w,pairingTopic:c},n&&{sessionProperties:n}),{reject:y,resolve:_,done:R}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(l,rt);this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\"),async({error:E,session:S})=>{if(E)y(E);else if(S){S.self.publicKey=d;const M=D(I({},S),{pairingTopic:m.pairingTopic,requiredNamespaces:m.requiredNamespaces,optionalNamespaces:m.optionalNamespaces,transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay});await this.client.session.set(S.topic,M),await this.setExpiry(S.topic,S.expiry),c&&await this.client.core.pairing.updateMetadata({topic:c,metadata:S.peer.metadata}),this.cleanupDuplicatePairings(M),_(M)}});const V=await this.sendRequest({topic:c,method:\"wc_sessionPropose\",params:m,throwOnFailedPublish:!0});return await this.setProposal(V,I({id:V},m)),{uri:h,approval:R}},this.pair=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(t){throw this.client.logger.error(\"pair() failed\"),t}},this.approve=async e=>{var t,s,i;const r=this.client.core.eventClient.createEvent({properties:{topic:(t=e?.id)==null?void 0:t.toString(),trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(N){throw r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.no_internet_connection),N}try{await this.isValidProposalId(e?.id)}catch(N){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.proposal_not_found),N}try{await this.isValidApprove(e)}catch(N){throw this.client.logger.error(\"approve() -> isValidApprove() failed\"),r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_approve_namespace_validation_failure),N}const{id:n,relayProtocol:a,namespaces:c,sessionProperties:h,sessionConfig:p}=e,d=this.client.proposal.get(n);this.client.core.eventClient.deleteEvent({eventId:r.eventId});const{pairingTopic:l,proposer:w,requiredNamespaces:m,optionalNamespaces:y}=d;let _=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:l});_||(_=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started,properties:{topic:l,trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started,_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_namespaces_validation_success]}}));const R=await this.client.core.crypto.generateKeyPair(),V=w.publicKey,E=await this.client.core.crypto.generateSharedKey(R,V),S=I(I({relay:{protocol:a??\"irn\"},namespaces:c,controller:{publicKey:R,metadata:this.client.metadata},expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(H)},h&&{sessionProperties:h}),p&&{sessionConfig:p}),M=_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.subscribing_session_topic);try{await this.client.core.relayer.subscribe(E,{transportType:M})}catch(N){throw _.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.subscribe_session_topic_failure),N}_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.subscribe_session_topic_success);const W=D(I({},S),{topic:E,requiredNamespaces:m,optionalNamespaces:y,pairingTopic:l,acknowledged:!1,self:S.controller,peer:{publicKey:w.publicKey,metadata:w.metadata},controller:R,transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay});await this.client.session.set(E,W),_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.store_session);try{_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.publishing_session_settle),await this.sendRequest({topic:E,method:\"wc_sessionSettle\",params:S,throwOnFailedPublish:!0}).catch(N=>{throw _?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_settle_publish_failure),N}),_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_settle_publish_success),_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.publishing_session_approve),await this.sendResult({id:n,topic:l,result:{relay:{protocol:a??\"irn\"},responderPublicKey:R},throwOnFailedPublish:!0}).catch(N=>{throw _?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_approve_publish_failure),N}),_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_publish_success)}catch(N){throw this.client.logger.error(N),this.client.session.delete(E,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),await this.client.core.relayer.unsubscribe(E),N}return this.client.core.eventClient.deleteEvent({eventId:_.eventId}),await this.client.core.pairing.updateMetadata({topic:l,metadata:w.metadata}),await this.client.proposal.delete(n,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),await this.client.core.pairing.activate({topic:l}),await this.setExpiry(E,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(H)),{topic:E,acknowledged:()=>Promise.resolve(this.client.session.get(E))}},this.reject=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(r){throw this.client.logger.error(\"reject() -> isValidReject() failed\"),r}const{id:t,reason:s}=e;let i;try{i=this.client.proposal.get(t).pairingTopic}catch(r){throw this.client.logger.error(`reject() -> proposal.get(${t}) failed`),r}i&&(await this.sendError({id:t,topic:i,error:s,rpcOpts:v.wc_sessionPropose.reject}),await this.client.proposal.delete(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")))},this.update=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(p){throw this.client.logger.error(\"update() -> isValidUpdate() failed\"),p}const{topic:t,namespaces:s}=e,{done:i,resolve:r,reject:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(),a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),c=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),h=this.client.session.get(t).namespaces;return this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",a),({error:p})=>{p?n(p):r()}),await this.client.session.update(t,{namespaces:s}),await this.sendRequest({topic:t,method:\"wc_sessionUpdate\",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:a,relayRpcId:c}).catch(p=>{this.client.logger.error(p),this.client.session.update(t,{namespaces:h}),n(p)}),{acknowledged:i}},this.extend=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(a){throw this.client.logger.error(\"extend() -> isValidExtend() failed\"),a}const{topic:t}=e,s=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),{done:i,resolve:r,reject:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)();return this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),({error:a})=>{a?n(a):r()}),await this.setExpiry(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(H)),this.sendRequest({topic:t,method:\"wc_sessionExtend\",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(a=>{n(a)}),{acknowledged:i}},this.request=async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(w){throw this.client.logger.error(\"request() -> isValidRequest() failed\"),w}const{chainId:t,request:s,topic:i,expiry:r=v.wc_sessionRequest.req.ttl}=e,n=this.client.session.get(i);n?.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),c=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),{done:h,resolve:p,reject:d}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(r,\"Request expired. Please try again.\");this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",a),({error:w,result:m})=>{w?d(w):p(m)});const l=this.getAppLinkIfEnabled(n.peer.metadata,n.transportType);return l?(await this.sendRequest({clientRpcId:a,relayRpcId:c,topic:i,method:\"wc_sessionRequest\",params:{request:D(I({},s),{expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(r)}),chainId:t},expiry:r,throwOnFailedPublish:!0,appLink:l}).catch(w=>d(w)),this.client.events.emit(\"session_request_sent\",{topic:i,request:s,chainId:t,id:a}),await h()):await Promise.all([new Promise(async w=>{await this.sendRequest({clientRpcId:a,relayRpcId:c,topic:i,method:\"wc_sessionRequest\",params:{request:D(I({},s),{expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(r)}),chainId:t},expiry:r,throwOnFailedPublish:!0}).catch(m=>d(m)),this.client.events.emit(\"session_request_sent\",{topic:i,request:s,chainId:t,id:a}),w()}),new Promise(async w=>{var m;if(!((m=n.sessionConfig)!=null&&m.disableDeepLink)){const y=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDeepLink)(this.client.core.storage,De);await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.handleDeeplinkRedirect)({id:a,topic:i,wcDeepLink:y})}w()}),h()]).then(w=>w[2])},this.respond=async e=>{this.isInitialized(),await this.isValidRespond(e);const{topic:t,response:s}=e,{id:i}=s,r=this.client.session.get(t);r.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const n=this.getAppLinkIfEnabled(r.peer.metadata,r.transportType);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(s)?await this.sendResult({id:i,topic:t,result:s.result,throwOnFailedPublish:!0,appLink:n}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(s)&&await this.sendError({id:i,topic:t,error:s.error,appLink:n}),this.cleanupAfterResponse(e)},this.ping=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(s){throw this.client.logger.error(\"ping() -> isValidPing() failed\"),s}const{topic:t}=e;if(this.client.session.keys.includes(t)){const s=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),i=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),{done:r,resolve:n,reject:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)();this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),({error:c})=>{c?a(c):n()}),await Promise.all([this.sendRequest({topic:t,method:\"wc_sessionPing\",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),r()])}else this.client.core.pairing.pairings.keys.includes(t)&&await this.client.core.pairing.ping({topic:t})},this.emit=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);const{topic:t,event:s,chainId:i}=e,r=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),n=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)();await this.sendRequest({topic:t,method:\"wc_sessionEvent\",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:r,clientRpcId:n})},this.disconnect=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);const{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:\"wc_sessionDelete\",params:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(t))await this.client.core.pairing.disconnect({topic:t});else{const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISMATCHED_TOPIC\",`Session or pairing topic not found: ${t}`);throw new Error(s)}},this.find=e=>(this.isInitialized(),this.client.session.getAll().filter(t=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isSessionCompatible)(t,e))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(e,t)=>{var s;this.isInitialized(),this.isValidAuthenticate(e);const i=t&&this.client.core.linkModeSupportedApps.includes(t)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),r=i?_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;r===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const{chains:n,statement:a=\"\",uri:c,domain:h,nonce:p,type:d,exp:l,nbf:w,methods:m=[],expiry:y}=e,_=[...e.resources||[]],{topic:R,uri:V}=await this.client.core.pairing.create({methods:[\"wc_sessionAuthenticate\"],transportType:r});this.client.logger.info({message:\"Generated new pairing\",pairing:{topic:R,uri:V}});const E=await this.client.core.crypto.generateKeyPair(),S=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(E);if(await Promise.all([this.client.auth.authKeys.set(ae,{responseTopic:S,publicKey:E}),this.client.auth.pairingTopics.set(S,{topic:S,pairingTopic:R})]),await this.client.core.relayer.subscribe(S,{transportType:r}),this.client.logger.info(`sending request to new pairing topic: ${R}`),m.length>0){const{namespace:O}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(n[0]);let T=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createEncodedRecap)(O,\"request\",m);(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(_)&&(T=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeEncodedRecaps)(T,_.pop())),_.push(T)}const M=y&&y>v.wc_sessionAuthenticate.req.ttl?y:v.wc_sessionAuthenticate.req.ttl,W={authPayload:{type:d??\"caip122\",chains:n,statement:a,aud:c,domain:h,version:\"1\",nonce:p,iat:new Date().toISOString(),exp:l,nbf:w,resources:_},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(M)},N={eip155:{chains:n,methods:[...new Set([\"personal_sign\",...m])],events:[\"chainChanged\",\"accountsChanged\"]}},Ve={requiredNamespaces:{},optionalNamespaces:N,relays:[{protocol:\"irn\"}],pairingTopic:R,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(v.wc_sessionPropose.req.ttl)},{done:mt,resolve:Me,reject:Ee}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(M,\"Request expired\"),ce=async({error:O,session:T})=>{if(this.events.off((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",G),Re),O)Ee(O);else if(T){T.self.publicKey=E,await this.client.session.set(T.topic,T),await this.setExpiry(T.topic,T.expiry),R&&await this.client.core.pairing.updateMetadata({topic:R,metadata:T.peer.metadata});const le=this.client.session.get(T.topic);await this.deleteProposal(Z),Me({session:le})}},Re=async O=>{var T,le,ke;if(await this.deletePendingAuthRequest(G,{message:\"fulfilled\",code:0}),O.error){const te=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",\"wc_sessionAuthenticate\");return O.error.code===te.code?void 0:(this.events.off((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\"),ce),Ee(O.error.message))}await this.deleteProposal(Z),this.events.off((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\"),ce);const{cacaos:$e,responder:j}=O.result,Ie=[],Ke=[];for(const te of $e){await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.validateSignedCacao)({cacao:te,projectId:this.client.core.projectId})||(this.client.logger.error(te,\"Signature verification failed\"),Ee((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\")));const{p:fe}=te,ve=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(fe.resources),Ue=[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNamespacedDidChainId)(fe.iss)],_t=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDidAddress)(fe.iss);if(ve){const qe=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getMethodsFromRecap)(ve),Et=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getChainsFromRecap)(ve);Ie.push(...qe),Ue.push(...Et)}for(const qe of Ue)Ke.push(`${qe}:${_t}`)}const ee=await this.client.core.crypto.generateSharedKey(E,j.publicKey);let pe;Ie.length>0&&(pe={topic:ee,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:j,controller:j.publicKey,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(H),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:R,namespaces:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildNamespacesFromAuth)([...new Set(Ie)],[...new Set(Ke)]),transportType:r},await this.client.core.relayer.subscribe(ee,{transportType:r}),await this.client.session.set(ee,pe),R&&await this.client.core.pairing.updateMetadata({topic:R,metadata:j.metadata}),pe=this.client.session.get(ee)),(T=this.client.metadata.redirect)!=null&&T.linkMode&&(le=j.metadata.redirect)!=null&&le.linkMode&&(ke=j.metadata.redirect)!=null&&ke.universal&&t&&(this.client.core.addLinkModeSupportedApp(j.metadata.redirect.universal),this.client.session.update(ee,{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode})),Me({auths:$e,session:pe})},G=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),Z=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)();this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\"),ce),this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",G),Re);let Se;try{if(i){const O=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionAuthenticate\",W,G);this.client.core.history.set(R,O);const T=await this.client.core.crypto.encode(\"\",O,{type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_2,encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL});Se=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(t,R,T)}else await Promise.all([this.sendRequest({topic:R,method:\"wc_sessionAuthenticate\",params:W,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:G}),this.sendRequest({topic:R,method:\"wc_sessionPropose\",params:Ve,expiry:v.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:Z})])}catch(O){throw this.events.off((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\"),ce),this.events.off((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",G),Re),O}return await this.setProposal(Z,I({id:Z},Ve)),await this.setAuthRequest(G,{request:D(I({},W),{verifyContext:{}}),pairingTopic:R,transportType:r}),{uri:Se??V,response:mt}},this.approveSessionAuthenticate=async e=>{const{id:t,auths:s}=e,i=this.client.core.eventClient.createEvent({properties:{topic:t.toString(),trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.no_internet_connection),y}const r=this.getPendingAuthRequest(t);if(!r)throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${t}`);const n=r.transportType||_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;n===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const a=r.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(a),p={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:a,senderPublicKey:c},d=[],l=[];for(const y of s){if(!await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.validateSignedCacao)({cacao:y,projectId:this.client.core.projectId})){i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.invalid_cacao);const S=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\");throw await this.sendError({id:t,topic:h,error:S,encodeOpts:p}),new Error(S.message)}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.cacaos_verified);const{p:_}=y,R=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(_.resources),V=[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNamespacedDidChainId)(_.iss)],E=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDidAddress)(_.iss);if(R){const S=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getMethodsFromRecap)(R),M=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getChainsFromRecap)(R);d.push(...S),V.push(...M)}for(const S of V)l.push(`${S}:${E}`)}const w=await this.client.core.crypto.generateSharedKey(c,a);i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.create_authenticated_session_topic);let m;if(d?.length>0){m={topic:w,acknowledged:!0,self:{publicKey:c,metadata:this.client.metadata},peer:{publicKey:a,metadata:r.requester.metadata},controller:a,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(H),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:r.pairingTopic,namespaces:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildNamespacesFromAuth)([...new Set(d)],[...new Set(l)]),transportType:n},i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(w,{transportType:n})}catch(y){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.subscribe_authenticated_session_topic_failure),y}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribe_authenticated_session_topic_success),await this.client.session.set(w,m),i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:r.pairingTopic,metadata:r.requester.metadata})}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.publishing_authenticated_session_approve);try{await this.sendResult({topic:h,id:t,result:{cacaos:s,responder:{publicKey:c,metadata:this.client.metadata}},encodeOpts:p,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(r.requester.metadata,n)})}catch(y){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(t,{message:\"fulfilled\",code:0}),await this.client.core.pairing.activate({topic:r.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:m}},this.rejectSessionAuthenticate=async e=>{this.isInitialized();const{id:t,reason:s}=e,i=this.getPendingAuthRequest(t);if(!i)throw new Error(`Could not find pending auth request with id ${t}`);i.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const r=i.requester.publicKey,n=await this.client.core.crypto.generateKeyPair(),a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(r),c={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:r,senderPublicKey:n};await this.sendError({id:t,topic:a,error:s,encodeOpts:c,rpcOpts:v.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(t,{message:\"rejected\",code:0}),await this.client.proposal.delete(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"))},this.formatAuthMessage=e=>{this.isInitialized();const{request:t,iss:s}=e;return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.formatMessage)(t,s)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}},50)},this.cleanupDuplicatePairings=async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var r,n;return((r=i.peerMetadata)==null?void 0:r.url)&&((n=i.peerMetadata)==null?void 0:n.url)===e.peer.metadata.url&&i.topic&&i.topic!==t.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info(\"Duplicate pairings clean up finished\")}catch(t){this.client.logger.error(t)}},this.deleteSession=async e=>{var t;const{topic:s,expirerHasDeleted:i=!1,emitEvent:r=!0,id:n=0}=e,{self:a}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),this.addToRecentlyDeleted(s,\"session\"),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(De).catch(c=>this.client.logger.warn(c)),this.getPendingSessionRequests().forEach(c=>{c.topic===s&&this.deletePendingSessionRequest(c.id,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"))}),s===((t=this.sessionRequestQueue.queue[0])==null?void 0:t.topic)&&(this.sessionRequestQueue.state=x.idle),r&&this.client.events.emit(\"session_delete\",{id:n,topic:s})},this.deleteProposal=async(e,t)=>{if(t)try{const s=this.client.proposal.get(e),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,\"proposal\")},this.deletePendingSessionRequest=async(e,t,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),s?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,\"request\"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==e),s&&(this.sessionRequestQueue.state=x.idle,this.client.events.emit(\"session_request_expire\",{id:e}))},this.deletePendingAuthRequest=async(e,t,s=!1)=>{await Promise.all([this.client.auth.requests.delete(e,t),s?Promise.resolve():this.client.core.expirer.del(e)])},this.setExpiry=async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))},this.setProposal=async(e,t)=>{this.client.core.expirer.set(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(v.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)},this.setAuthRequest=async(e,t)=>{const{request:s,pairingTopic:i,transportType:r=_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay}=t;this.client.core.expirer.set(e,s.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:e,pairingTopic:i,verifyContext:s.verifyContext,transportType:r})},this.setPendingSessionRequest=async e=>{const{id:t,topic:s,params:i,verifyContext:r}=e,n=i.request.expiryTimestamp||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(v.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,n),await this.client.pendingRequest.set(t,{id:t,topic:s,params:i,verifyContext:r})},this.sendRequest=async e=>{const{topic:t,method:s,params:i,expiry:r,relayRpcId:n,clientRpcId:a,throwOnFailedPublish:c,appLink:h}=e,p=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(s,i,a);let d;const l=!!h;try{const y=l?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;d=await this.client.core.crypto.encode(t,p,{encoding:y})}catch(y){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${t} failed`),y}let w;if(ct.includes(s)){const y=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(p)),_=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(d);w=await this.client.core.verify.register({id:_,decryptedId:y})}const m=v[s].req;if(m.attestation=w,r&&(m.ttl=r),n&&(m.id=n),this.client.core.history.set(t,p),l){const y=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(h,t,d);await global.Linking.openURL(y,this.client.name)}else{const y=v[s].req;r&&(y.ttl=r),n&&(y.id=n),c?(y.internal=D(I({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,d,y)):this.client.core.relayer.publish(t,d,y).catch(_=>this.client.logger.error(_))}return p.id},this.sendResult=async e=>{const{id:t,topic:s,result:i,throwOnFailedPublish:r,encodeOpts:n,appLink:a}=e,c=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcResult)(t,i);let h;const p=a&&typeof(global==null?void 0:global.Linking)<\"u\";try{const l=p?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;h=await this.client.core.crypto.encode(s,c,D(I({},n||{}),{encoding:l}))}catch(l){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),l}let d;try{d=await this.client.core.history.get(s,t)}catch(l){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${t}) failed`),l}if(p){const l=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(a,s,h);await global.Linking.openURL(l,this.client.name)}else{const l=v[d.request.method].res;r?(l.internal=D(I({},l.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,h,l)):this.client.core.relayer.publish(s,h,l).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(c)},this.sendError=async e=>{const{id:t,topic:s,error:i,encodeOpts:r,rpcOpts:n,appLink:a}=e,c=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcError)(t,i);let h;const p=a&&typeof(global==null?void 0:global.Linking)<\"u\";try{const l=p?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;h=await this.client.core.crypto.encode(s,c,D(I({},r||{}),{encoding:l}))}catch(l){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),l}let d;try{d=await this.client.core.history.get(s,t)}catch(l){throw this.client.logger.error(`sendError() -> history.get(${s}, ${t}) failed`),l}if(p){const l=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(a,s,h);await global.Linking.openURL(l,this.client.name)}else{const l=n||v[d.request.method].res;this.client.core.relayer.publish(s,h,l)}await this.client.core.history.resolve(c)},this.cleanup=async()=>{const e=[],t=[];this.client.session.getAll().forEach(s=>{let i=!1;(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&e.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(s.expiryTimestamp)&&t.push(s.id)}),await Promise.all([...e.map(s=>this.deleteSession({topic:s})),...t.map(s=>this.deleteProposal(s))])},this.onRelayEventRequest=async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===x.active){this.client.logger.info(\"Request queue already active, skipping...\");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=x.active;const e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(t){this.client.logger.warn(t)}}this.requestQueue.state=x.idle},this.processRequest=async e=>{const{topic:t,payload:s,attestation:i,transportType:r,encryptedId:n}=e,a=s.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:a}))switch(a){case\"wc_sessionPropose\":return await this.onSessionProposeRequest({topic:t,payload:s,attestation:i,encryptedId:n});case\"wc_sessionSettle\":return await this.onSessionSettleRequest(t,s);case\"wc_sessionUpdate\":return await this.onSessionUpdateRequest(t,s);case\"wc_sessionExtend\":return await this.onSessionExtendRequest(t,s);case\"wc_sessionPing\":return await this.onSessionPingRequest(t,s);case\"wc_sessionDelete\":return await this.onSessionDeleteRequest(t,s);case\"wc_sessionRequest\":return await this.onSessionRequest({topic:t,payload:s,attestation:i,encryptedId:n,transportType:r});case\"wc_sessionEvent\":return await this.onSessionEventRequest(t,s);case\"wc_sessionAuthenticate\":return await this.onSessionAuthenticateRequest({topic:t,payload:s,attestation:i,encryptedId:n,transportType:r});default:return this.client.logger.info(`Unsupported request method ${a}`)}},this.onRelayEventResponse=async e=>{const{topic:t,payload:s,transportType:i}=e,r=(await this.client.core.history.get(t,s.id)).request.method;switch(r){case\"wc_sessionPropose\":return this.onSessionProposeResponse(t,s,i);case\"wc_sessionSettle\":return this.onSessionSettleResponse(t,s);case\"wc_sessionUpdate\":return this.onSessionUpdateResponse(t,s);case\"wc_sessionExtend\":return this.onSessionExtendResponse(t,s);case\"wc_sessionPing\":return this.onSessionPingResponse(t,s);case\"wc_sessionRequest\":return this.onSessionRequestResponse(t,s);case\"wc_sessionAuthenticate\":return this.onSessionAuthenticateResponse(t,s);default:return this.client.logger.info(`Unsupported response method ${r}`)}},this.onRelayEventUnknownPayload=e=>{const{topic:t}=e,{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)},this.shouldIgnorePairingRequest=e=>{const{topic:t,requestMethod:s}=e,i=this.expectedPairingMethodMap.get(t);return!i||i.includes(s)?!1:!!(i.includes(\"wc_sessionAuthenticate\")&&this.client.events.listenerCount(\"session_authenticate\")>0)},this.onSessionProposeRequest=async e=>{const{topic:t,payload:s,attestation:i,encryptedId:r}=e,{params:n,id:a}=s;try{const c=this.client.core.eventClient.getEvent({topic:t});this.client.events.listenerCount(\"session_proposal\")===0&&(console.warn(\"No listener for session_proposal event\"),c?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_PAIRING_ERRORS.proposal_listener_not_found)),this.isValidConnect(I({},s.params));const h=n.expiryTimestamp||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(v.wc_sessionPropose.req.ttl),p=I({id:a,pairingTopic:t,expiryTimestamp:h},n);await this.setProposal(a,p);const d=await this.getVerifyContext({attestationId:i,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(s)),encryptedId:r,metadata:p.proposer.metadata});c?.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_PAIRING_TRACES.emit_session_proposal),this.client.events.emit(\"session_proposal\",{id:a,params:p,verifyContext:d})}catch(c){await this.sendError({id:a,topic:t,error:c,rpcOpts:v.wc_sessionPropose.autoReject}),this.client.logger.error(c)}},this.onSessionProposeResponse=async(e,t,s)=>{const{id:i}=t;if((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)){const{result:r}=t;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",result:r});const n=this.client.proposal.get(i);this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",proposal:n});const a=n.proposer.publicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",selfPublicKey:a});const c=r.responderPublicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",peerPublicKey:c});const h=await this.client.core.crypto.generateSharedKey(a,c);this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",sessionTopic:h});const p=await this.client.core.relayer.subscribe(h,{transportType:s});this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",subscriptionId:p}),await this.client.core.pairing.activate({topic:e})}else if((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)){await this.client.proposal.delete(i,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"));const r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\");if(this.events.listenerCount(r)===0)throw new Error(`emitting ${r} without any listeners, 954`);this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\"),{error:t.error})}},this.onSessionSettleRequest=async(e,t)=>{const{id:s,params:i}=t;try{this.isValidSessionSettleRequest(i);const{relay:r,controller:n,expiry:a,namespaces:c,sessionProperties:h,sessionConfig:p}=t.params,d=D(I(I({topic:e,relay:r,expiry:a,namespaces:c,acknowledged:!0,pairingTopic:\"\",requiredNamespaces:{},optionalNamespaces:{},controller:n.publicKey,self:{publicKey:\"\",metadata:this.client.metadata},peer:{publicKey:n.publicKey,metadata:n.metadata}},h&&{sessionProperties:h}),p&&{sessionConfig:p}),{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay}),l=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\");if(this.events.listenerCount(l)===0)throw new Error(`emitting ${l} without any listeners 997`);this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\"),{session:d}),await this.sendResult({id:t.id,topic:e,result:!0,throwOnFailedPublish:!0})}catch(r){await this.sendError({id:s,topic:e,error:r}),this.client.logger.error(r)}},this.onSessionSettleResponse=async(e,t)=>{const{id:s}=t;(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_approve\",s),{})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&(await this.client.session.delete(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_approve\",s),{error:t.error}))},this.onSessionUpdateRequest=async(e,t)=>{const{params:s,id:i}=t;try{const r=`${e}_session_update`,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.get(r);if(n&&this.isRequestOutOfSync(n,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:e,error:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"INVALID_UPDATE_REQUEST\")});return}this.isValidUpdate(I({topic:e},s));try{_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.set(r,i),await this.client.session.update(e,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:e,result:!0,throwOnFailedPublish:!0})}catch(a){throw _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.delete(r),a}this.client.events.emit(\"session_update\",{id:i,topic:e,params:s})}catch(r){await this.sendError({id:i,topic:e,error:r}),this.client.logger.error(r)}},this.isRequestOutOfSync=(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3),this.onSessionUpdateResponse=(e,t)=>{const{id:s}=t,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s),{error:t.error})},this.onSessionExtendRequest=async(e,t)=>{const{id:s}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(H)),await this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit(\"session_extend\",{id:s,topic:e})}catch(i){await this.sendError({id:s,topic:e,error:i}),this.client.logger.error(i)}},this.onSessionExtendResponse=(e,t)=>{const{id:s}=t,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),{error:t.error})},this.onSessionPingRequest=async(e,t)=>{const{id:s}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit(\"session_ping\",{id:s,topic:e})}catch(i){await this.sendError({id:s,topic:e,error:i}),this.client.logger.error(i)}},this.onSessionPingResponse=(e,t)=>{const{id:s}=t,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);setTimeout(()=>{(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),{error:t.error})},500)},this.onSessionDeleteRequest=async(e,t)=>{const{id:s}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_EVENTS.publish,async()=>{i(await this.deleteSession({topic:e,id:s}))})}),this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}},this.onSessionRequest=async e=>{var t,s,i;const{topic:r,payload:n,attestation:a,encryptedId:c,transportType:h}=e,{id:p,params:d}=n;try{await this.isValidRequest(I({topic:r},d));const l=this.client.session.get(r),w=await this.getVerifyContext({attestationId:a,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionRequest\",d,p))),encryptedId:c,metadata:l.peer.metadata,transportType:h}),m={id:p,topic:r,params:d,verifyContext:w};await this.setPendingSessionRequest(m),h===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode&&(t=l.peer.metadata.redirect)!=null&&t.universal&&this.client.core.addLinkModeSupportedApp((s=l.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(l){await this.sendError({id:p,topic:r,error:l}),this.client.logger.error(l)}},this.onSessionRequestResponse=(e,t)=>{const{id:s}=t,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{result:t.result}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{error:t.error})},this.onSessionEventRequest=async(e,t)=>{const{id:s,params:i}=t;try{const r=`${e}_session_event_${i.event.name}`,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.get(r);if(n&&this.isRequestOutOfSync(n,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(I({topic:e},i)),this.client.events.emit(\"session_event\",{id:s,topic:e,params:i}),_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.set(r,s)}catch(r){await this.sendError({id:s,topic:e,error:r}),this.client.logger.error(r)}},this.onSessionAuthenticateResponse=(e,t)=>{const{id:s}=t;this.client.logger.trace({type:\"method\",method:\"onSessionAuthenticateResponse\",topic:e,payload:t}),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{result:t.result}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{error:t.error})},this.onSessionAuthenticateRequest=async e=>{var t;const{topic:s,payload:i,attestation:r,encryptedId:n,transportType:a}=e;try{const{requester:c,authPayload:h,expiryTimestamp:p}=i.params,d=await this.getVerifyContext({attestationId:r,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(i)),encryptedId:n,metadata:c.metadata,transportType:a}),l={requester:c,pairingTopic:s,id:i.id,authPayload:h,verifyContext:d,expiryTimestamp:p};await this.setAuthRequest(i.id,{request:l,pairingTopic:s,transportType:a}),a===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode&&(t=c.metadata.redirect)!=null&&t.universal&&this.client.core.addLinkModeSupportedApp(c.metadata.redirect.universal),this.client.events.emit(\"session_authenticate\",{topic:s,params:i.params,id:i.id,verifyContext:d})}catch(c){this.client.logger.error(c);const h=i.params.requester.publicKey,p=await this.client.core.crypto.generateKeyPair(),d=this.getAppLinkIfEnabled(i.params.requester.metadata,a),l={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:h,senderPublicKey:p};await this.sendError({id:i.id,topic:s,error:c,encodeOpts:l,rpcOpts:v.wc_sessionAuthenticate.autoReject,appLink:d})}},this.addSessionRequestToSessionRequestQueue=e=>{this.sessionRequestQueue.queue.push(e)},this.cleanupAfterResponse=e=>{this.deletePendingSessionRequest(e.response.id,{message:\"fulfilled\",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=x.idle,this.processSessionRequestQueue()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.toMiliseconds)(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:e,error:t})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===e&&i.request.method===\"wc_sessionRequest\").forEach(i=>{const r=i.request.id,n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",r);if(this.events.listenerCount(n)===0)throw new Error(`emitting ${n} without any listeners`);this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",i.request.id),{error:t})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===x.active){this.client.logger.info(\"session request queue is already active.\");return}const e=this.sessionRequestQueue.queue[0];if(!e){this.client.logger.info(\"session request queue is empty.\");return}try{this.sessionRequestQueue.state=x.active,this.emitSessionRequest(e)}catch(t){this.client.logger.error(t)}},this.emitSessionRequest=e=>{this.client.events.emit(\"session_request\",e)},this.onPairingCreated=e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;const t=this.client.proposal.getAll().find(s=>s.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionPropose\",{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties},t.id)})},this.isValidConnect=async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`connect() params: ${JSON.stringify(e)}`);throw new Error(a)}const{pairingTopic:t,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:r,relays:n}=e;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(t)||await this.isValidPairingTopic(t),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRelays)(n,!0)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`connect() relays: ${n}`);throw new Error(a)}!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(s)&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(s)!==0&&this.validateNamespaces(s,\"requiredNamespaces\"),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(i)&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(i)!==0&&this.validateNamespaces(i,\"optionalNamespaces\"),(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(r)||this.validateSessionProps(r,\"sessionProperties\")},this.validateNamespaces=(e,t)=>{const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequiredNamespaces)(e,\"connect()\",t);if(s)throw new Error(s.message)},this.isValidApprove=async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e))throw new Error((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`approve() params: ${e}`).message);const{id:t,namespaces:s,relayProtocol:i,sessionProperties:r}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);const n=this.client.proposal.get(t),a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(s,\"approve()\");if(a)throw new Error(a.message);const c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isConformingNamespaces)(n.requiredNamespaces,s,\"approve()\");if(c)throw new Error(c.message);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(i,!0)){const{message:h}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`approve() relayProtocol: ${i}`);throw new Error(h)}(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(r)||this.validateSessionProps(r,\"sessionProperties\")},this.isValidReject=async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`reject() params: ${e}`);throw new Error(i)}const{id:t,reason:s}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidErrorReason)(s)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}},this.isValidSessionSettleRequest=e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:c}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`onSessionSettleRequest() params: ${e}`);throw new Error(c)}const{relay:t,controller:s,namespaces:i,expiry:r}=e;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRelay)(t)){const{message:c}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",\"onSessionSettleRequest() relay protocol should be a string\");throw new Error(c)}const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidController)(s,\"onSessionSettleRequest()\");if(n)throw new Error(n.message);const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(i,\"onSessionSettleRequest()\");if(a)throw new Error(a.message);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(r)){const{message:c}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",\"onSessionSettleRequest()\");throw new Error(c)}},this.isValidUpdate=async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`update() params: ${e}`);throw new Error(a)}const{topic:t,namespaces:s}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const i=this.client.session.get(t),r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(s,\"update()\");if(r)throw new Error(r.message);const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isConformingNamespaces)(i.requiredNamespaces,s,\"update()\");if(n)throw new Error(n.message)},this.isValidExtend=async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`extend() params: ${e}`);throw new Error(s)}const{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)},this.isValidRequest=async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() params: ${e}`);throw new Error(a)}const{topic:t,request:s,chainId:i,expiry:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const{namespaces:n}=this.client.session.get(t);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesChainId)(n,i)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() chainId: ${i}`);throw new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequest)(s)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() ${JSON.stringify(s)}`);throw new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesRequest)(n,i,s.method)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() method: ${s.method}`);throw new Error(a)}if(r&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequestExpiry)(r,me)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() expiry: ${r}. Expiry must be a number (in seconds) between ${me.min} and ${me.max}`);throw new Error(a)}},this.isValidRespond=async e=>{var t;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`respond() params: ${e}`);throw new Error(r)}const{topic:s,response:i}=e;try{await this.isValidSessionTopic(s)}catch(r){throw(t=e?.response)!=null&&t.id&&this.cleanupAfterResponse(e),r}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidResponse)(i)){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`respond() response: ${JSON.stringify(i)}`);throw new Error(r)}},this.isValidPing=async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`ping() params: ${e}`);throw new Error(s)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.isValidEmit=async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() params: ${e}`);throw new Error(n)}const{topic:t,event:s,chainId:i}=e;await this.isValidSessionTopic(t);const{namespaces:r}=this.client.session.get(t);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesChainId)(r,i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() chainId: ${i}`);throw new Error(n)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidEvent)(s)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(s)}`);throw new Error(n)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesEvent)(r,i,s.name)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(s)}`);throw new Error(n)}},this.isValidDisconnect=async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`disconnect() params: ${e}`);throw new Error(s)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.isValidAuthenticate=e=>{const{chains:t,uri:s,domain:i,nonce:r}=e;if(!Array.isArray(t)||t.length===0)throw new Error(\"chains is required and must be a non-empty array\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(s,!1))throw new Error(\"uri is required parameter\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(i,!1))throw new Error(\"domain is required parameter\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(r,!1))throw new Error(\"nonce is required parameter\");if([...new Set(t.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(a).namespace))].length>1)throw new Error(\"Multi-namespace requests are not supported. Please request single namespace only.\");const{namespace:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(t[0]);if(n!==\"eip155\")throw new Error(\"Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.\")},this.getVerifyContext=async e=>{const{attestationId:t,hash:s,encryptedId:i,metadata:r,transportType:n}=e,a={verified:{verifyUrl:r.verifyUrl||_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.VERIFY_SERVER,validation:\"UNKNOWN\",origin:r.url||\"\"}};try{if(n===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode){const h=this.getAppLinkIfEnabled(r,n);return a.verified.validation=h&&new URL(h).origin===new URL(r.url).origin?\"VALID\":\"INVALID\",a}const c=await this.client.core.verify.resolve({attestationId:t,hash:s,encryptedId:i,verifyUrl:r.verifyUrl});c&&(a.verified.origin=c.origin,a.verified.isScam=c.isScam,a.verified.validation=c.origin===new URL(r.url).origin?\"VALID\":\"INVALID\")}catch(c){this.client.logger.warn(c)}return this.client.logger.debug(`Verify context: ${JSON.stringify(a)}`),a},this.validateSessionProps=(e,t)=>{Object.values(e).forEach(s=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(s,!1)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`${t} must be in Record<string, string> format. Received: ${JSON.stringify(s)}`);throw new Error(i)}})},this.getPendingAuthRequest=e=>{const t=this.client.auth.requests.get(e);return typeof t==\"object\"?t:void 0},this.addToRecentlyDeleted=(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const r of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(r)}}},this.checkRecentlyDeleted=e=>{const t=this.recentlyDeletedMap.get(e);if(t){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`Record was recently deleted - ${t}: ${e}`);throw new Error(s)}},this.isLinkModeEnabled=(e,t)=>{var s,i,r,n,a,c,h,p,d;return!e||t!==_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((n=(r=this.client.metadata)==null?void 0:r.redirect)==null?void 0:n.universal)!==void 0&&((c=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:c.universal)!==\"\"&&((h=e?.redirect)==null?void 0:h.universal)!==void 0&&((p=e?.redirect)==null?void 0:p.universal)!==\"\"&&((d=e?.redirect)==null?void 0:d.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&typeof(global==null?void 0:global.Linking)<\"u\"},this.getAppLinkIfEnabled=(e,t)=>{var s;return this.isLinkModeEnabled(e,t)?(s=e?.redirect)==null?void 0:s.universal:void 0},this.handleLinkModeMessage=({url:e})=>{if(!e||!e.includes(\"wc_ev\")||!e.includes(\"topic\"))return;const t=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSearchParamFromURL)(e,\"topic\")||\"\",s=decodeURIComponent((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSearchParamFromURL)(e,\"wc_ev\")||\"\"),i=this.client.session.keys.includes(t);i&&this.client.session.update(t,{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode}),this.client.core.dispatchEnvelope({topic:t,message:s,sessionExists:i})},this.registerLinkModeListeners=async()=>{var e;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isTestRun)()||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isReactNative)()&&(e=this.client.metadata.redirect)!=null&&e.linkMode){const t=global==null?void 0:global.Linking;if(typeof t<\"u\"){t.addEventListener(\"url\",this.handleLinkModeMessage,this.client.name);const s=await t.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}}isInitialized(){if(!this.initialized){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(o)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_EVENTS.message,o=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(o):this.onRelayMessage(o)})}async onRelayMessage(o){const{topic:e,message:t,attestation:s,transportType:i}=o,{publicKey:r}=this.client.auth.authKeys.keys.includes(ae)?this.client.auth.authKeys.get(ae):{responseTopic:void 0,publicKey:void 0},n=await this.client.core.crypto.decode(e,t,{receiverPublicKey:r,encoding:i===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64});try{(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcRequest)(n)?(this.client.core.history.set(e,n),this.onRelayEventRequest({topic:e,payload:n,attestation:s,transportType:i,encryptedId:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(t)})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResponse)(n)?(await this.client.core.history.resolve(n),await this.onRelayEventResponse({topic:e,payload:n,transportType:i}),this.client.core.history.delete(e,n.id)):this.onRelayEventUnknownPayload({topic:e,payload:n,transportType:i})}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EXPIRER_EVENTS.expired,async o=>{const{topic:e,id:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseExpirerTarget)(o.target);if(t&&this.client.pendingRequest.keys.includes(t))return await this.deletePendingSessionRequest(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\"),!0);if(t&&this.client.auth.requests.keys.includes(t))return await this.deletePendingAuthRequest(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\"),!0);e?this.client.session.keys.includes(e)&&(await this.deleteSession({topic:e,expirerHasDeleted:!0}),this.client.events.emit(\"session_expire\",{topic:e})):t&&(await this.deleteProposal(t,!0),this.client.events.emit(\"proposal_expire\",{id:t}))})}registerPairingEvents(){this.client.core.pairing.events.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.PAIRING_EVENTS.create,o=>this.onPairingCreated(o)),this.client.core.pairing.events.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.PAIRING_EVENTS.delete,o=>{this.addToRecentlyDeleted(o.topic,\"pairing\")})}isValidPairingTopic(o){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(o,!1)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${o}`);throw new Error(e)}if(!this.client.core.pairing.pairings.keys.includes(o)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${o}`);throw new Error(e)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.core.pairing.pairings.get(o).expiry)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`pairing topic: ${o}`);throw new Error(e)}}async isValidSessionTopic(o){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(o,!1)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session topic should be a string: ${o}`);throw new Error(e)}if(this.checkRecentlyDeleted(o),!this.client.session.keys.includes(o)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`session topic doesn't exist: ${o}`);throw new Error(e)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.session.get(o).expiry)){await this.deleteSession({topic:o});const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`session topic: ${o}`);throw new Error(e)}if(!this.client.core.crypto.keychain.has(o)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session topic does not exist in keychain: ${o}`);throw await this.deleteSession({topic:o}),new Error(e)}}async isValidSessionOrPairingTopic(o){if(this.checkRecentlyDeleted(o),this.client.session.keys.includes(o))await this.isValidSessionTopic(o);else if(this.client.core.pairing.pairings.keys.includes(o))this.isValidPairingTopic(o);else if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(o,!1)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`session or pairing topic doesn't exist: ${o}`);throw new Error(e)}else{const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session or pairing topic should be a string: ${o}`);throw new Error(e)}}async isValidProposalId(o){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidId)(o)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`proposal id should be a number: ${o}`);throw new Error(e)}if(!this.client.proposal.keys.includes(o)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`proposal id doesn't exist: ${o}`);throw new Error(e)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.proposal.get(o).expiryTimestamp)){await this.deleteProposal(o);const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`proposal id: ${o}`);throw new Error(e)}}}class Ss extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,e){super(o,e,it,ye),this.core=o,this.logger=e}}class wt extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,e){super(o,e,nt,ye),this.core=o,this.logger=e}}class Is extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,e){super(o,e,at,ye,t=>t.id),this.core=o,this.logger=e}}class fs extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,e){super(o,e,ht,oe,()=>ae),this.core=o,this.logger=e}}class vs extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,e){super(o,e,dt,oe),this.core=o,this.logger=e}}class qs extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,e){super(o,e,ut,oe,t=>t.id),this.core=o,this.logger=e}}class Ts{constructor(o,e){this.core=o,this.logger=e,this.authKeys=new fs(this.core,this.logger),this.pairingTopics=new vs(this.core,this.logger),this.requests=new qs(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class _e extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__.ISignClient{constructor(o){super(o),this.protocol=Ce,this.version=Le,this.name=we.name,this.events=new events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter,this.on=(t,s)=>this.events.on(t,s),this.once=(t,s)=>this.events.once(t,s),this.off=(t,s)=>this.events.off(t,s),this.removeListener=(t,s)=>this.events.removeListener(t,s),this.removeAllListeners=t=>this.events.removeAllListeners(t),this.connect=async t=>{try{return await this.engine.connect(t)}catch(s){throw this.logger.error(s.message),s}},this.pair=async t=>{try{return await this.engine.pair(t)}catch(s){throw this.logger.error(s.message),s}},this.approve=async t=>{try{return await this.engine.approve(t)}catch(s){throw this.logger.error(s.message),s}},this.reject=async t=>{try{return await this.engine.reject(t)}catch(s){throw this.logger.error(s.message),s}},this.update=async t=>{try{return await this.engine.update(t)}catch(s){throw this.logger.error(s.message),s}},this.extend=async t=>{try{return await this.engine.extend(t)}catch(s){throw this.logger.error(s.message),s}},this.request=async t=>{try{return await this.engine.request(t)}catch(s){throw this.logger.error(s.message),s}},this.respond=async t=>{try{return await this.engine.respond(t)}catch(s){throw this.logger.error(s.message),s}},this.ping=async t=>{try{return await this.engine.ping(t)}catch(s){throw this.logger.error(s.message),s}},this.emit=async t=>{try{return await this.engine.emit(t)}catch(s){throw this.logger.error(s.message),s}},this.disconnect=async t=>{try{return await this.engine.disconnect(t)}catch(s){throw this.logger.error(s.message),s}},this.find=t=>{try{return this.engine.find(t)}catch(s){throw this.logger.error(s.message),s}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(t){throw this.logger.error(t.message),t}},this.authenticate=async(t,s)=>{try{return await this.engine.authenticate(t,s)}catch(i){throw this.logger.error(i.message),i}},this.formatAuthMessage=t=>{try{return this.engine.formatAuthMessage(t)}catch(s){throw this.logger.error(s.message),s}},this.approveSessionAuthenticate=async t=>{try{return await this.engine.approveSessionAuthenticate(t)}catch(s){throw this.logger.error(s.message),s}},this.rejectSessionAuthenticate=async t=>{try{return await this.engine.rejectSessionAuthenticate(t)}catch(s){throw this.logger.error(s.message),s}},this.name=o?.name||we.name,this.metadata=o?.metadata||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getAppMetadata)(),this.signConfig=o?.signConfig;const e=typeof o?.logger<\"u\"&&typeof o?.logger!=\"string\"?o.logger:(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.pino)((0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.getDefaultLoggerOptions)({level:o?.logger||we.logger}));this.core=o?.core||new _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Core(o),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.generateChildLogger)(e,this.name),this.session=new wt(this.core,this.logger),this.proposal=new Ss(this.core,this.logger),this.pendingRequest=new Is(this.core,this.logger),this.engine=new Rs(this),this.auth=new Ts(this.core,this.logger)}static async init(o){const e=new _e(o);return await e.initialize(),e}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace(\"Initialized\");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info(\"SignClient Initialization Success\"),setTimeout(()=>{this.engine.processRelayMessageCache()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_SECOND))}catch(o){throw this.logger.info(\"SignClient Initialization Failure\"),this.logger.error(o.message),o}}}const Ns=wt,Ps=_e;\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHdhbGxldGNvbm5lY3Qrc2lnbi1jbGllbnRAMi4xNy4zX0ByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZSthc3luYy1zdG9yYWdlQDEuMjQuMF9yZWFjdC1uYXRpX20zNGI2NHFlZGNsd3pmc3h2ejIydHpwYWZlL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9zaWduLWNsaWVudC9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE0cEUscUNBQXFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxPQUFPLDhFQUE4RSxLQUFLLDBhQUEwYSxLQUFLLG9CQUFvQix3Q0FBd0Msa0dBQWtHLHdDQUF3Qyw0REFBRSxzQ0FBc0MsMkRBQUUsZ0JBQWdCLG1CQUFtQixLQUFLLElBQUksNkRBQUMsb0JBQW9CLE1BQU0sSUFBSSw2REFBQyxvQkFBb0IsU0FBUyxJQUFJLDZEQUFDLG9CQUFvQixhQUFhLElBQUksNkRBQUMscUJBQXFCLG1CQUFtQixLQUFLLElBQUksNkRBQUMsb0JBQW9CLE1BQU0sSUFBSSw2REFBQyxxQkFBcUIsbUJBQW1CLEtBQUssSUFBSSx3REFBQyxvQkFBb0IsTUFBTSxJQUFJLHdEQUFDLHFCQUFxQixtQkFBbUIsS0FBSyxJQUFJLHdEQUFDLG9CQUFvQixNQUFNLElBQUksd0RBQUMscUJBQXFCLG9CQUFvQixLQUFLLElBQUksNkRBQUMsb0JBQW9CLE1BQU0sSUFBSSw2REFBQyxxQkFBcUIsa0JBQWtCLEtBQUssSUFBSSw2REFBQyxvQkFBb0IsTUFBTSxJQUFJLDZEQUFDLHFCQUFxQixtQkFBbUIsS0FBSyxJQUFJLHdEQUFDLG9CQUFvQixNQUFNLElBQUksd0RBQUMscUJBQXFCLGlCQUFpQixLQUFLLElBQUksd0RBQUMsb0JBQW9CLE1BQU0sSUFBSSx3REFBQyxxQkFBcUIseUJBQXlCLEtBQUssSUFBSSx5REFBRSxvQkFBb0IsTUFBTSxJQUFJLHlEQUFFLG9CQUFvQixTQUFTLElBQUksNkRBQUMsb0JBQW9CLGFBQWEsSUFBSSw2REFBQyxzQkFBc0IsS0FBSyxJQUFJLDZEQUFDLEtBQUssMkRBQUUsQ0FBQyxJQUFJLDRCQUE0QixtTEFBbUwsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLFNBQVMsR0FBRyxVQUFVLG1PQUFtTyxrREFBa0QsbUJBQW1CLHFCQUFxQiw2QkFBNkIsb0RBQW9ELFNBQVMsc0JBQXNCLGlCQUFpQix5REFBRSxDQUFDLGVBQWUsc0NBQXNDLCtDQUFFLHdDQUF3QyxzQkFBc0IsMkJBQTJCLHNCQUFzQix3QkFBd0IsMkRBQUUsbUpBQW1KLHlNQUF5TSx1QkFBdUIsc0NBQXNDLGtHQUFrRyxDQUFDLGtFQUFFLDJCQUEyQix3QkFBd0IsNERBQTRELGNBQWMsS0FBSywyQ0FBMkMsNkNBQTZDLEVBQUUsNkJBQTZCLE1BQU0sc0ZBQXNGLEdBQUcsZUFBZSxJQUFJLHVEQUF1RCxTQUFTLDJEQUEyRCxFQUFFLGFBQWEsV0FBVyxNQUFNLGNBQWMseUNBQXlDLFFBQVEsT0FBTyxNQUFNLFVBQVUsQ0FBQyxzRUFBQywrQ0FBK0MsRUFBRSxHQUFHLG1CQUFtQix1RkFBdUYsNkRBQUMsR0FBRyxnRUFBQyxTQUFTLHNEQUFzRCxTQUFTLHlFQUFFLENBQUMsWUFBWSwwQ0FBMEMsa0NBQWtDLEtBQUssb0JBQW9CLEdBQUcsMEJBQTBCLENBQUMsMEVBQUMsT0FBTyxpQkFBaUIsaUVBQUMsMkJBQTJCLGtCQUFrQixJQUFJLFVBQVUsV0FBVyxtQkFBbUIsY0FBYyxLQUFLLDBIQUEwSCxnRUFBQyxPQUFPLEVBQUUsa0lBQWtJLGlDQUFpQyx5Q0FBeUMsRUFBRSxnQ0FBZ0Msb0VBQW9FLEVBQUUsbUNBQW1DLEtBQUssTUFBTSxrQkFBa0IscUJBQXFCLDREQUE0RCxJQUFJLDhDQUE4QyxTQUFTLG1EQUFtRCx3QkFBd0IsVUFBVSxrREFBa0QsWUFBWSxpREFBaUQsNEVBQUMsMkJBQTJCLEVBQUUsSUFBSSw0REFBNEQsU0FBUyxpQkFBaUIsNEVBQUMsMkJBQTJCLElBQUksb0NBQW9DLFNBQVMsNERBQTRELE1BQU0sc0JBQXNCLDRFQUFDLHVCQUF1QixJQUFJLDZCQUE2QixTQUFTLGtGQUFrRiw0RUFBQyxpREFBaUQsTUFBTSxzRUFBc0UsaUNBQWlDLDBDQUEwQyxrQkFBa0IsRUFBRSxNQUFNLG9FQUFvRSxHQUFHLGdFQUFnRSxRQUFRLEVBQUUsbUVBQW1FLEtBQUssNEVBQUMscUNBQXFDLGVBQWUsNEVBQUMseUJBQXlCLDRFQUFDLHlDQUF5QyxHQUFHLG9JQUFvSSxPQUFPLGtCQUFrQiwwQkFBMEIsMENBQTBDLFFBQVEsZ0VBQUMsSUFBSSxLQUFLLG9CQUFvQixNQUFNLGdCQUFnQixJQUFJLGdFQUFDLE9BQU8sV0FBVyw0RUFBQyw0QkFBNEIsSUFBSSw0Q0FBNEMsZ0JBQWdCLEVBQUUsU0FBUyxpQkFBaUIsNEVBQUMsb0NBQW9DLFdBQVcsNEVBQUMsa0NBQWtDLGNBQWMsS0FBSyx5R0FBeUcsMENBQTBDLDRCQUE0QixnRUFBQyxPQUFPLEVBQUUsOENBQThDLDRFQUFDLGdCQUFnQixJQUFJLFdBQVcsNEVBQUMsb0RBQW9ELG1FQUFtRSxZQUFZLGtCQUFrQiw0RUFBQyxtQ0FBbUMsYUFBYSw0RUFBQyw0Q0FBNEMsNEVBQUMsb0RBQW9ELHFCQUFxQixPQUFPLGtCQUFrQixzQkFBc0IseUJBQXlCLFlBQVksa0JBQWtCLDRFQUFDLG9DQUFvQyxhQUFhLDRFQUFDLGtDQUFrQyxTQUFTLCtEQUErRCxpRUFBQyx1RUFBdUUsaURBQWlELGtCQUFrQixpREFBaUQsNEJBQTRCLHNDQUFzQyxpRUFBQyxnRUFBZ0UsUUFBUSx5QkFBeUIsZ0VBQUMsTUFBTSxzRUFBc0UsdUJBQXVCLDREQUE0RCxJQUFJLDRCQUE0QixTQUFTLHVFQUF1RSxNQUFNLGNBQWMsR0FBRyxNQUFNLElBQUksMkNBQTJDLFNBQVMsMkRBQTJELEVBQUUsYUFBYSwwQkFBMEIsd0RBQXdELHNDQUFzQyxpRUFBQyx3QkFBd0IsdUJBQXVCLDREQUE0RCxJQUFJLDRCQUE0QixTQUFTLHVFQUF1RSxNQUFNLHFCQUFxQixJQUFJLDBCQUEwQixDQUFDLDBFQUFDLEtBQUssdUVBQUMsS0FBSyw0RUFBRSxzREFBc0Qsd0JBQXdCLGlFQUFDLHVCQUF1QixRQUFRLElBQUksV0FBVyxzQ0FBc0MsYUFBYSwwQkFBMEIsMENBQTBDLGFBQWEsb0RBQW9ELFlBQVksMERBQTBELGFBQWEsT0FBTyxHQUFHLGdCQUFnQix1QkFBdUIsNERBQTRELElBQUksNEJBQTRCLFNBQVMsdUVBQXVFLE1BQU0sUUFBUSxLQUFLLHVFQUFDLElBQUksMEJBQTBCLENBQUMsMEVBQUMsR0FBRyx3QkFBd0IsaUVBQUMsdUJBQXVCLFFBQVEsSUFBSSxXQUFXLHlCQUF5QixnRUFBQyx1QkFBdUIsMkNBQTJDLHVDQUF1QyxZQUFZLEtBQUssR0FBRyxnQkFBZ0Isd0JBQXdCLHFCQUFxQixJQUFJLDZCQUE2QixTQUFTLHlFQUF5RSxNQUFNLGlFQUFpRSxnQ0FBZ0MsbUJBQW1CLGdFQUFDLCtDQUErQyxRQUFRLHVFQUFDLEtBQUssNEVBQUUsZUFBZSwwQkFBMEIsQ0FBQywwRUFBQyx5Q0FBeUMsaUJBQWlCLGlFQUFDLHdCQUF3QixpQkFBaUIsSUFBSSxZQUFZLEVBQUUsa0VBQWtFLGtDQUFrQyxzRUFBc0UsY0FBYyxLQUFLLGdCQUFnQixnRUFBQyxJQUFJLFlBQVksNENBQTRDLGlFQUFpRSxpQ0FBaUMsc0RBQXNELHdCQUF3QixzRUFBc0UsY0FBYyxLQUFLLGdCQUFnQixnRUFBQyxJQUFJLFlBQVksa0NBQWtDLGlFQUFpRSxpQ0FBaUMsTUFBTSx3QkFBd0IsTUFBTSxvREFBb0QsY0FBYyxpRUFBRSw4QkFBOEIsTUFBTSw0RUFBRSxFQUFFLDBCQUEwQixFQUFFLElBQUksc0JBQXNCLHdCQUF3QixrREFBa0QsTUFBTSxtQkFBbUIsSUFBSSxLQUFLLGdDQUFnQyxrQkFBa0IsZ0VBQUMsK0NBQStDLGtFQUFrRSw2RUFBQywyQkFBMkIsK0RBQStELEVBQUUsNEVBQUMsMkJBQTJCLHFDQUFxQywrQkFBK0IscUJBQXFCLDREQUE0RCxJQUFJLDBCQUEwQixTQUFTLG1FQUFtRSxNQUFNLFFBQVEsR0FBRyx5Q0FBeUMsUUFBUSx1RUFBQyxLQUFLLDRFQUFFLGVBQWUsMEJBQTBCLENBQUMsMEVBQUMsR0FBRyxpQkFBaUIsaUVBQUMscUJBQXFCLFFBQVEsSUFBSSxXQUFXLHVDQUF1Qyx5Q0FBeUMsb0RBQW9ELFFBQVEsOEZBQThGLFFBQVEsRUFBRSxxQkFBcUIsc0ZBQXNGLE1BQU0sMEJBQTBCLEtBQUssNEVBQUUsZ0JBQWdCLHVFQUFDLEdBQUcsd0JBQXdCLHlDQUF5QyxrQkFBa0Isb0RBQW9ELEVBQUUsMkJBQTJCLDRGQUE0RixNQUFNLFFBQVEsR0FBRyxnRUFBZ0UseUNBQXlDLGlFQUFDLDhDQUE4Qyw0QkFBNEIscUJBQXFCLEVBQUUsc0dBQXNHLFFBQVEsRUFBRSxLQUFLLE1BQU0sVUFBVSxDQUFDLHNFQUFDLDJEQUEyRCxFQUFFLEdBQUcsb0JBQW9CLDJFQUEyRSx5RUFBRSw4R0FBOEcsTUFBTSxpREFBaUQsK0hBQStILGdFQUFDLFdBQVcsZ0VBQUMsT0FBTyxJQUFJLGdFQUFDLCtDQUErQyxNQUFNLHdGQUF3RiwyQkFBMkIsY0FBYyx3Q0FBd0MsbURBQW1ELEVBQUUseUJBQXlCLHlDQUF5QyxlQUFlLEVBQUUsMERBQTBELDZEQUFFLElBQUksd0RBQXdELDRCQUE0Qix3Q0FBd0MsdUJBQXVCLGdEQUFnRCxnQkFBZ0IsbUVBQW1FLEVBQUUsZUFBZSxNQUFNLFlBQVksQ0FBQyxrRUFBRSxPQUFPLE1BQU0sd0VBQUUsZ0JBQWdCLDJFQUFFLFFBQVEsd0VBQUUsdUJBQXVCLG9GQUFvRixhQUFhLCtIQUErSCxZQUFZLDBDQUEwQyxpQkFBaUIsZ0VBQUMsSUFBSSxJQUFJLFFBQVEsaUdBQWlHLEtBQUsscUJBQXFCLCtCQUErQixlQUFlLDJCQUEyQiwwQ0FBMEMsaUJBQWlCLGdFQUFDLDhCQUE4QixFQUFFLDZCQUE2QixDQUFDLDBFQUFDLGdDQUFnQyxrQkFBa0IsSUFBSSxtQkFBbUIsaUVBQUMsa0NBQWtDLFdBQVcscUpBQXFKLGlDQUFpQyxFQUFFLDBDQUEwQyxpQ0FBaUMsV0FBVyxHQUFHLGNBQWMsWUFBWSwwQ0FBMEMsMkJBQTJCLFdBQVcsU0FBUyxpRUFBQyxtREFBbUQsc0RBQXNELGlFQUFDLDZDQUE2Qyw2Q0FBNkMsaUVBQUMsd0JBQXdCLE1BQU0sc0JBQXNCLHNCQUFzQixvQkFBb0IsTUFBTSx5RUFBRSxFQUFFLDhDQUE4QyxvRUFBb0UsaUVBQUMsZ0VBQWdFLE1BQU0sS0FBSyxPQUFPLDJFQUFFLG1CQUFtQiw2RUFBRSxhQUFhLG1FQUFFLFNBQVMsT0FBTyxTQUFTLHlFQUFFLFFBQVEsd0VBQUUsS0FBSyw4QkFBOEIsOEJBQThCLEdBQUcsR0FBRyxHQUFHLEdBQUcsd0VBQXdFLE9BQU8sa0JBQWtCLCtCQUErQiwwQ0FBMEMsc0NBQXNDLGdFQUFDLHlCQUF5QixzQkFBc0IsUUFBUSxlQUFlLDJCQUEyQiw2RUFBRSxvREFBb0QsOENBQThDLGdCQUFnQix5RkFBeUYsNEJBQTRCLDZSQUE2UixjQUFjLGdFQUFDLFdBQVcsT0FBTyxvQkFBb0IsRUFBRSxHQUFHLHVFQUFDLEtBQUssdUVBQUMsR0FBRyxpQkFBaUIsaUVBQUMseUNBQXlDLGlFQUFDLDBCQUEwQixPQUFPLElBQUksTUFBTSxRQUFRLGtGQUFFLCtCQUErQixrQ0FBa0MsbURBQW1ELEtBQUssd0RBQUUsVUFBVSwyREFBRSxDQUFDLEVBQUUsR0FBRyxvRUFBRSxRQUFRLDBDQUEwQyx1R0FBdUcsb0JBQW9CLHNIQUFzSCxJQUFJLFNBQVMsc0JBQXNCLGlFQUFDLHdDQUF3QyxpRUFBQyw0QkFBNEIsbUNBQW1DLEtBQUssbUNBQW1DLGNBQWMsS0FBSyxpQkFBaUIsaUNBQWlDLEdBQUcsdUJBQXVCLDJDQUEyQyxNQUFNLGFBQWEsK0NBQStDLFlBQVksMEJBQTBCLGlGQUFDLHlDQUF5QyxFQUFFLElBQUkscUJBQXFCLFNBQVMsaUJBQWlCLGlGQUFFLDJCQUEyQixzQ0FBc0MsdUJBQXVCLGlGQUFFLDJHQUEyRyxFQUFFLEdBQUcseUJBQXlCLGdFQUFDLE9BQU8sSUFBSSxnRUFBQywrQ0FBK0Msa0ZBQWtGLDZEQUFFLE9BQU8sS0FBSyx3REFBRSx1Q0FBdUMsV0FBVyxrQkFBa0IsVUFBVSx5RUFBRSxFQUFFLDZDQUE2QyxHQUFHLFdBQVcsaUZBQUUsZ0JBQWdCLFFBQVEsaUVBQUMsOERBQThELDRCQUE0QixrQ0FBa0MsdUJBQXVCLFdBQVcsaUZBQUMsa0JBQWtCLE1BQU0sSUFBSSxLQUFLLDJFQUFFLGlCQUFpQiw2RUFBRSxXQUFXLG1FQUFFLFFBQVEsTUFBTSxRQUFRLHlFQUFFLE1BQU0sd0VBQUUsSUFBSSwwQkFBMEIsMkJBQTJCLEVBQUUsR0FBRyxFQUFFLEdBQUcsNkRBQTZELFdBQVcsaUZBQUMscUNBQXFDLE1BQU0sZ0JBQWdCLEdBQUcsOEJBQThCLDBDQUEwQyxPQUFPLDBDQUEwQyxxQkFBcUIsZ0VBQUMsMENBQTBDLHNCQUFzQixRQUFRLGVBQWUsd0NBQXdDLDZFQUFFLGtEQUFrRCxZQUFZLGlGQUFDLDBDQUEwQyxJQUFJLDRDQUE0QyxnQkFBZ0IsRUFBRSxTQUFTLGlCQUFpQixpRkFBRSxrREFBa0QsV0FBVyxpRkFBQyw4RkFBOEYsaUZBQUMsNkVBQTZFLG1EQUFtRCxFQUFFLFdBQVcsaUZBQUMsMkNBQTJDLElBQUksdUJBQXVCLHFCQUFxQixvQkFBb0IsMkNBQTJDLCtGQUErRixFQUFFLFNBQVMsaUJBQWlCLGlGQUFFLGtEQUFrRCxpREFBaUQsMkJBQTJCLDJDQUEyQyxxQkFBcUIsNENBQTRDLGtCQUFrQixHQUFHLFdBQVcsMENBQTBDLHFCQUFxQixNQUFNLGNBQWMsbUNBQW1DLHFFQUFxRSxFQUFFLEdBQUcsa0JBQWtCLGdFQUFDLCtDQUErQyxrRkFBa0YsNkRBQUUsT0FBTyxLQUFLLHdEQUFFLHdDQUF3QyxzQkFBc0IsaUpBQWlKLDRDQUE0QywwQkFBMEIsc0NBQXNDLGlFQUFDLHVCQUF1Qiw0QkFBNEIscUJBQXFCLE1BQU0sZ0JBQWdCLEdBQUcsT0FBTyxtRUFBRSxNQUFNLG9DQUFvQyxxQkFBcUIsMENBQTBDLGdDQUFnQyxLQUFLLHVDQUF1QyxnQ0FBZ0MsU0FBUyw2QkFBNkIsS0FBSyx5Q0FBeUMsc0JBQXNCLHNIQUFzSCxRQUFRLHlJQUF5SSxFQUFFLHVCQUF1Qix1Q0FBdUMsVUFBVSx1RkFBdUYsY0FBYyxvRUFBb0UsU0FBUyw2QkFBNkIsOEJBQThCLE1BQU0sTUFBTSxxREFBcUQsSUFBSSxPQUFPLDRCQUE0QixpRkFBaUYsaUVBQUMsOFpBQThaLG1EQUFtRCxpRUFBQyx1QkFBdUIseUpBQXlKLGFBQWEsRUFBRSxrQ0FBa0MsU0FBUyw2RUFBNkUscUJBQXFCLEVBQUUsWUFBWSw0RUFBQyxtQkFBbUIsT0FBTyxpREFBaUQsaUVBQUMscUhBQXFILG9EQUFvRCxxVUFBcVUsS0FBSyxHQUFHLGlEQUFpRCwrR0FBK0csNkJBQTZCLDZHQUE2RyxTQUFTLEdBQUcsK0JBQStCLCtCQUErQixnRUFBQyxtRUFBbUUsa0NBQWtDLE1BQU0seUNBQXlDLGdFQUFDLE9BQU8sR0FBRyx5RkFBeUYsb0pBQW9KLEVBQUUseUNBQXlDLE1BQU0sc0NBQXNDLGdDQUFnQyxnRUFBQyw4QkFBOEIsMEVBQTBFLHNDQUFzQyxFQUFFLDRCQUE0QixNQUFNLCtGQUErRixLQUFLLGtGQUFFLFFBQVEsTUFBTSxZQUFZLElBQUksVUFBVSwyREFBRSxDQUFDLHdEQUFFLENBQUMsNENBQTRDLFdBQVcsRUFBRSxTQUFTLHVHQUF1RyxHQUFHLFdBQVcsTUFBTSxtQkFBbUIsUUFBUSxpRUFBQyxzQkFBc0IsaUVBQUMsSUFBSSwwQ0FBMEMsbUJBQW1CLEVBQUUsaUJBQWlCLGlGQUFpRixRQUFRLG9FQUFFLFFBQVEsaURBQWlELEtBQUssaUJBQWlCLDZDQUE2QyxjQUFjLHdCQUF3QiwrSEFBK0gsWUFBWSwyQkFBMkIsTUFBTSxvRUFBb0UsS0FBSyxpRkFBRSxNQUFNLE1BQU0sMERBQTBELElBQUksVUFBVSwyREFBRSxDQUFDLHdEQUFFLENBQUMsaURBQWlELE1BQU0sR0FBRyxXQUFXLEdBQUcsU0FBUyxzR0FBc0csR0FBRyxXQUFXLE1BQU0sSUFBSSwwQ0FBMEMsU0FBUyw4REFBOEQsRUFBRSxJQUFJLEVBQUUsYUFBYSxNQUFNLFFBQVEsb0VBQUUsUUFBUSxpREFBaUQsS0FBSyxnQ0FBZ0Msb0JBQW9CLGNBQWMsd0JBQXdCLCtIQUErSCwwQ0FBMEMsMEJBQTBCLE1BQU0sc0RBQXNELEtBQUssZ0ZBQUUsTUFBTSxNQUFNLDBEQUEwRCxJQUFJLFVBQVUsMkRBQUUsQ0FBQyx3REFBRSxDQUFDLGlEQUFpRCxNQUFNLEdBQUcsV0FBVyxHQUFHLFNBQVMscUdBQXFHLEdBQUcsV0FBVyxNQUFNLElBQUksMENBQTBDLFNBQVMsNkRBQTZELEVBQUUsSUFBSSxFQUFFLGFBQWEsTUFBTSxRQUFRLG9FQUFFLFFBQVEsaURBQWlELEtBQUssbUNBQW1DLHdDQUF3QywwQ0FBMEMsd0JBQXdCLGdCQUFnQix5Q0FBeUMsU0FBUywrREFBQyw0RkFBNEYsNENBQTRDLCtEQUFDLGtDQUFrQyxxREFBcUQsUUFBUSx5Q0FBeUMsb0NBQW9DLGtFQUFrRSxxQ0FBcUMsdUNBQXVDLHFFQUFxRSxPQUFPLDJEQUEyRCxnQ0FBZ0MsV0FBVyxpQ0FBaUMsRUFBRSxpQ0FBaUMsd0NBQXdDLFNBQVMsNkJBQTZCLFNBQVMsNEJBQTRCLCtCQUErQiwrQkFBK0IsTUFBTSw4REFBOEQsY0FBYyxxQ0FBcUMsd0JBQXdCLFlBQVksbUVBQW1FLDhDQUE4QyxFQUFFLHFFQUFxRSxxRUFBcUUscUVBQXFFLGlFQUFpRSxxRUFBcUUsNERBQTRELDhEQUE4RCxFQUFFLG1FQUFtRSw2RUFBNkUsOERBQThELEVBQUUscUVBQXFFLEVBQUUsSUFBSSxxQ0FBcUMsTUFBTSxrQ0FBa0MsaUVBQWlFLFVBQVUsb0VBQW9FLGdFQUFnRSxnRUFBZ0UsZ0VBQWdFLDREQUE0RCxrRUFBa0UsNEVBQTRFLHNFQUFzRSxFQUFFLElBQUkscUNBQXFDLE1BQU0sUUFBUSxJQUFJLFVBQVUsQ0FBQyxzRUFBQyxrREFBa0QsR0FBRywyREFBMkQsbUJBQW1CLHFDQUFxQyxNQUFNLHdCQUF3QiwwQ0FBMEMsZ0lBQWdJLHdDQUF3QyxNQUFNLDhDQUE4QyxJQUFJLGNBQWMsR0FBRyxJQUFJLCtDQUErQyxRQUFRLEVBQUUsOEhBQThILDRFQUFFLHVEQUF1RCxZQUFZLDJCQUEyQixnRUFBQyxtQ0FBbUMsc0NBQXNDLElBQUksNEJBQTRCLHFDQUFxQyxxQkFBcUIsaUVBQUMsK0RBQStELEVBQUUsWUFBWSw0RUFBRSxvRUFBb0UsOEJBQThCLEVBQUUsU0FBUyxzQkFBc0IsNERBQTRELCtCQUErQiw4Q0FBOEMsTUFBTSxLQUFLLEdBQUcsR0FBRyw2RUFBQyxLQUFLLE1BQU0sU0FBUyxHQUFHLDBCQUEwQix5REFBeUQsRUFBRSxvQ0FBb0MsMEJBQTBCLDJEQUEyRCxFQUFFLDZCQUE2QiwwQkFBMEIsZ0VBQWdFLEVBQUUsNkJBQTZCLDBCQUEwQixnRUFBZ0UsRUFBRSw2REFBNkQsMEJBQTBCLCtEQUErRCxFQUFFLG9EQUFvRCxnQkFBZ0IsRUFBRSwwQkFBMEIsaUVBQWlFLDJDQUEyQyxRQUFRLEVBQUUsUUFBUSw0RUFBQyxLQUFLLG9DQUFvQyxpRUFBQyx1QkFBdUIsUUFBUSxpRUFBQyxvQkFBb0IsZ0VBQWdFLEdBQUcsNkJBQTZCLGlCQUFpQixpRUFBQyxxQkFBcUIsY0FBYyxHQUFHLDBDQUEwQyxNQUFNLGNBQWMsR0FBRyxJQUFJLG9DQUFvQyxNQUFNLCtFQUErRSxtQkFBbUIsMkZBQTJGLHNCQUFzQiw4QkFBOEIsMkNBQTJDLE9BQU8sMkNBQTJDLEtBQUssb0JBQW9CLE1BQU0sZ0JBQWdCLEdBQUcsY0FBYyxnRUFBQyxPQUFPLElBQUksaUVBQUMsb0JBQW9CLGdFQUFnRSxHQUFHLDRCQUE0QixpQkFBaUIsaUVBQUMscUJBQXFCLFVBQVUseUJBQXlCLGtEQUFrRCxFQUFFLFNBQVMsc0JBQXNCLHFCQUFxQiwrQkFBK0IsMkNBQTJDLE1BQU0sS0FBSyxHQUFHLDZFQUFDLHlDQUF5QyxnQkFBZ0IsbUJBQW1CLGlFQUFDLHdCQUF3QixHQUFHLDRFQUFDLHlDQUF5QyxpRUFBQyx3Q0FBd0MsaUVBQUMsdUJBQXVCLGNBQWMsR0FBRywwQ0FBMEMsTUFBTSxjQUFjLEdBQUcsSUFBSSxXQUFXLEVBQUUsbUJBQW1CLDZEQUFFLFFBQVEsb0NBQW9DLDREQUE0RCxFQUFFLG1CQUFtQixtQkFBbUIsaUVBQUMsMkJBQTJCLEVBQUUsT0FBTyxzQkFBc0IsUUFBUSxLQUFLLElBQUksNkRBQUUsOENBQThDLHdCQUF3Qix5QkFBeUIsK0NBQStDLEVBQUUsU0FBUyxNQUFNLDZEQUFFLGFBQWEsMENBQTBDLHNCQUFzQixFQUFFLFNBQVMsc0JBQXNCLHFCQUFxQiwrQkFBK0IsdUhBQXVILE1BQU0sS0FBSyxLQUFLLGlFQUFDLHFCQUFxQixnRUFBZ0UsR0FBRyx3QkFBd0IsNkVBQUMscUJBQXFCLGlFQUFDLHVCQUF1QixFQUFFLDRFQUFDLHNCQUFzQixpRUFBQyxzQkFBc0IsY0FBYyxFQUFFLDBDQUEwQyxNQUFNLEtBQUssR0FBRyxJQUFJLG9CQUFvQixRQUFRLHlCQUF5QixnRUFBQyw0QkFBNEIsK0NBQStDLDRDQUE0QyxhQUFhLEVBQUUsU0FBUyxzQkFBc0IscUJBQXFCLCtCQUErQixzQ0FBc0MsTUFBTSxLQUFLLEtBQUssaUVBQUMscUJBQXFCLGdFQUFnRSxHQUFHLHdCQUF3Qiw2RUFBQyxxQkFBcUIsaUVBQUMsdUJBQXVCLEVBQUUsNEVBQUMsc0JBQXNCLGlFQUFDLHNCQUFzQixjQUFjLEVBQUUsd0NBQXdDLE1BQU0sS0FBSyxHQUFHLElBQUksa0JBQWtCLFFBQVEseUJBQXlCLCtDQUErQywwQ0FBMEMsYUFBYSxFQUFFLFNBQVMsc0JBQXNCLHFCQUFxQiwrQkFBK0Isb0NBQW9DLE1BQU0sS0FBSyxLQUFLLGlFQUFDLG1CQUFtQixnRUFBZ0UsR0FBRyx3QkFBd0IsZ0JBQWdCLDZFQUFDLHFCQUFxQixpRUFBQyxxQkFBcUIsRUFBRSw0RUFBQyxzQkFBc0IsaUVBQUMsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLDBDQUEwQyxNQUFNLEtBQUssR0FBRyxJQUFJLHdCQUF3Qix3QkFBd0IsK0JBQStCLDhCQUE4QiwrREFBRSxtQkFBbUIsNEJBQTRCLGFBQWEsR0FBRyxFQUFFLG1CQUFtQiwrQ0FBK0MsMkNBQTJDLGNBQWMsaUVBQUMsc0JBQXNCLDBDQUEwQyxTQUFTLDZCQUE2QixpQ0FBaUMsVUFBVSxNQUFNLDhEQUE4RCxJQUFJLGNBQWMsR0FBRyxJQUFJLDZCQUE2QixRQUFRLEtBQUssa0VBQWtFLHFCQUFxQixpRUFBQyxnQkFBZ0Isa0ZBQUUsbUZBQW1GLEtBQUssdUNBQXVDLDJDQUEyQyxnRUFBQyxtVUFBbVUsU0FBUyxzQkFBc0IscUJBQXFCLCtCQUErQix1Q0FBdUMsTUFBTSxLQUFLLEtBQUssaUVBQUMsc0JBQXNCLGdFQUFnRSxHQUFHLHdCQUF3Qiw2RUFBQyxxQkFBcUIsaUVBQUMsdUJBQXVCLGdCQUFnQixFQUFFLDRFQUFDLHNCQUFzQixpRUFBQyx1QkFBdUIsY0FBYyxFQUFFLHlDQUF5QyxNQUFNLGNBQWMsR0FBRyxJQUFJLFdBQVcsRUFBRSxpQkFBaUIsYUFBYSxJQUFJLDZEQUFFLFFBQVEsb0NBQW9DLDREQUE0RCxFQUFFLEdBQUcsT0FBTyxvQkFBb0IsUUFBUSw4Q0FBOEMsc0JBQXNCLEVBQUUsNkRBQUUsVUFBVSxTQUFTLHNCQUFzQixxQkFBcUIsK0JBQStCLDRDQUE0QyxNQUFNLEtBQUssR0FBRywwQkFBMEIsdUVBQXVFLEVBQUUsNkVBQUMscUJBQXFCLGlFQUFDLHVCQUF1QixnQkFBZ0IsRUFBRSw0RUFBQyxzQkFBc0IsaUVBQUMsdUJBQXVCLGNBQWMsRUFBRSw2Q0FBNkMsTUFBTSxNQUFNLDhEQUE4RCxHQUFHLElBQUksTUFBTSw0Q0FBNEMseUNBQXlDLHFCQUFxQixpRUFBQyxzRUFBc0UsS0FBSyxvRkFBb0YsZ0NBQWdDLHlDQUF5QyxNQUFNLGdFQUFDLGdMQUFnTCxnREFBZ0QsRUFBRSxTQUFTLDRCQUE0QixvSkFBb0osS0FBSyx3REFBRSx3Q0FBd0Msc0JBQXNCLDJGQUEyRixHQUFHLGlEQUFpRCx1Q0FBdUMsK0JBQStCLGdEQUFnRCwyQkFBMkIsa0JBQWtCLHdFQUF3RSxDQUFDLGtFQUFFLDBCQUEwQiwyQ0FBMkMsZ0JBQWdCLElBQUkseUNBQXlDLHlGQUF5Rix1QkFBdUIsaUVBQUMsc0JBQXNCLGdFQUFnRSxHQUFHLHdCQUF3QixpQkFBaUIsaUVBQUMsa0NBQWtDLFFBQVEsRUFBRSxFQUFFLHNDQUFzQyw4Q0FBOEMsb0VBQW9FLE9BQU8sMENBQTBDLE9BQU8sMkRBQTJELE9BQU8sSUFBSSxtRUFBbUUsU0FBUyw2QkFBNkIsNkJBQTZCLDZDQUE2QywyQkFBMkIsbUZBQW1GLHdFQUF3RSxpQ0FBaUMsc0JBQXNCLGtGQUFFLHNCQUFzQiwwSkFBMEosT0FBTyxFQUFFLCtCQUErQixJQUFJLG1FQUFDLEtBQUssTUFBTSxVQUFVLENBQUMsc0VBQUMsMkNBQTJDLGtCQUFrQixHQUFHLG1CQUFtQixNQUFNLHNGQUFzRixHQUFHLEdBQUcsaUVBQUUsd0NBQXdDLG1FQUFFLFFBQVEsTUFBTSxVQUFVLENBQUMsc0VBQUMsMkNBQTJDLEVBQUUsR0FBRyxtQkFBbUIsQ0FBQyxpRUFBRSxLQUFLLG1FQUFFLDBEQUEwRCxpRUFBRSxLQUFLLG1FQUFFLHlEQUF5RCxpRUFBRSxzREFBc0QsaUNBQWlDLFFBQVEsK0VBQUUsa0JBQWtCLGdDQUFnQywrQkFBK0IsSUFBSSxtRUFBQyxvQkFBb0Isc0VBQUMsMkNBQTJDLEVBQUUsWUFBWSxNQUFNLHNEQUFzRCxHQUFHLDZEQUE2RCxzQ0FBc0MsdUVBQUUsZ0JBQWdCLGdDQUFnQyxRQUFRLDRFQUFFLHFDQUFxQyxnQ0FBZ0MsSUFBSSxtRUFBQyxRQUFRLE1BQU0sVUFBVSxDQUFDLHNFQUFDLGtEQUFrRCxFQUFFLEdBQUcsbUJBQW1CLGlFQUFFLHNEQUFzRCw4QkFBOEIsSUFBSSxtRUFBQyxLQUFLLE1BQU0sVUFBVSxDQUFDLHNFQUFDLDBDQUEwQyxFQUFFLEdBQUcsbUJBQW1CLE1BQU0sY0FBYyxHQUFHLGlFQUFpRSx3RUFBRSxLQUFLLE1BQU0sVUFBVSxDQUFDLHNFQUFDLDBDQUEwQyxrQkFBa0IsR0FBRyxvQkFBb0Isc0NBQXNDLElBQUksbUVBQUMsS0FBSyxNQUFNLFVBQVUsQ0FBQyxzRUFBQywwREFBMEQsRUFBRSxHQUFHLG1CQUFtQixNQUFNLDJDQUEyQyxHQUFHLElBQUksa0VBQUUsS0FBSyxNQUFNLFVBQVUsQ0FBQyxzRUFBQyxvRkFBb0YsbUJBQW1CLFFBQVEsdUVBQUUsK0JBQStCLGdDQUFnQyxRQUFRLHVFQUFFLCtCQUErQixnQ0FBZ0MsR0FBRywrREFBQyxLQUFLLE1BQU0sVUFBVSxDQUFDLHNFQUFDLHVDQUF1QyxvQkFBb0IsOEJBQThCLElBQUksbUVBQUMsS0FBSyxNQUFNLFVBQVUsQ0FBQyxzRUFBQywwQ0FBMEMsRUFBRSxHQUFHLG1CQUFtQixNQUFNLHFCQUFxQixHQUFHLCtEQUErRCxxQ0FBcUMsdUVBQUUsZUFBZSxnQ0FBZ0MsUUFBUSw0RUFBRSxvQ0FBb0MsZ0NBQWdDLDhCQUE4QixJQUFJLG1FQUFDLEtBQUssTUFBTSxVQUFVLENBQUMsc0VBQUMsMENBQTBDLEVBQUUsR0FBRyxtQkFBbUIsTUFBTSxRQUFRLEdBQUcsK0RBQStELCtCQUErQixJQUFJLG1FQUFDLEtBQUssTUFBTSxVQUFVLENBQUMsc0VBQUMsMkNBQTJDLEVBQUUsR0FBRyxtQkFBbUIsTUFBTSxxQ0FBcUMsR0FBRywrREFBK0QsTUFBTSxhQUFhLDRCQUE0QixJQUFJLDhFQUFFLE9BQU8sTUFBTSxVQUFVLENBQUMsc0VBQUMsNENBQTRDLEVBQUUsR0FBRyxtQkFBbUIsSUFBSSxvRUFBRSxLQUFLLE1BQU0sVUFBVSxDQUFDLHNFQUFDLG1DQUFtQyxrQkFBa0IsR0FBRyxtQkFBbUIsSUFBSSw4RUFBRSxnQkFBZ0IsTUFBTSxVQUFVLENBQUMsc0VBQUMsMkNBQTJDLFNBQVMsR0FBRyxtQkFBbUIsT0FBTywwRUFBRSxRQUFRLE1BQU0sVUFBVSxDQUFDLHNFQUFDLDJDQUEyQyxFQUFFLGlEQUFpRCxRQUFRLE1BQU0sT0FBTyxHQUFHLG9CQUFvQiwrQkFBK0IsTUFBTSxJQUFJLG1FQUFDLEtBQUssTUFBTSxVQUFVLENBQUMsc0VBQUMsMkNBQTJDLEVBQUUsR0FBRyxtQkFBbUIsTUFBTSxtQkFBbUIsR0FBRyxJQUFJLGtDQUFrQyxTQUFTLGlFQUFpRSxJQUFJLHFFQUFFLEtBQUssTUFBTSxVQUFVLENBQUMsc0VBQUMsNkNBQTZDLGtCQUFrQixHQUFHLG9CQUFvQiw0QkFBNEIsSUFBSSxtRUFBQyxLQUFLLE1BQU0sVUFBVSxDQUFDLHNFQUFDLHdDQUF3QyxFQUFFLEdBQUcsbUJBQW1CLE1BQU0sUUFBUSxHQUFHLDJDQUEyQyw0QkFBNEIsSUFBSSxtRUFBQyxLQUFLLE1BQU0sVUFBVSxDQUFDLHNFQUFDLHdDQUF3QyxFQUFFLEdBQUcsbUJBQW1CLE1BQU0sMEJBQTBCLEdBQUcsa0NBQWtDLE1BQU0sYUFBYSw0QkFBNEIsSUFBSSw4RUFBRSxPQUFPLE1BQU0sVUFBVSxDQUFDLHNFQUFDLHlDQUF5QyxFQUFFLEdBQUcsbUJBQW1CLElBQUksa0VBQUUsS0FBSyxNQUFNLFVBQVUsQ0FBQyxzRUFBQyx1Q0FBdUMsa0JBQWtCLEdBQUcsbUJBQW1CLElBQUksNEVBQUUsY0FBYyxNQUFNLFVBQVUsQ0FBQyxzRUFBQyx1Q0FBdUMsa0JBQWtCLEdBQUcsb0JBQW9CLGtDQUFrQyxJQUFJLG1FQUFDLEtBQUssTUFBTSxVQUFVLENBQUMsc0VBQUMsOENBQThDLEVBQUUsR0FBRyxtQkFBbUIsTUFBTSxRQUFRLEdBQUcsMkNBQTJDLDhCQUE4QixNQUFNLGdDQUFnQyxHQUFHLHVHQUF1RyxJQUFJLG1FQUFDLG9EQUFvRCxJQUFJLG1FQUFDLHVEQUF1RCxJQUFJLG1FQUFDLHNEQUFzRCx3QkFBd0Isa0VBQUUsK0hBQStILE1BQU0sWUFBWSxDQUFDLGtFQUFFLE9BQU8sK0lBQStJLGlDQUFpQyxNQUFNLGdFQUFnRSxNQUFNLFVBQVUsdUJBQXVCLDhEQUFFLHlDQUF5QyxJQUFJLE9BQU8sZ0VBQUMsWUFBWSxzQ0FBc0MsOEZBQThGLCtDQUErQywyREFBMkQsRUFBRSxvSUFBb0ksU0FBUywyQkFBMkIsbURBQW1ELGtCQUFrQixLQUFLLG1DQUFtQyw2QkFBNkIsSUFBSSxtRUFBQyxRQUFRLE1BQU0sVUFBVSxDQUFDLHNFQUFDLHlCQUF5QixHQUFHLHNEQUFzRCxrQkFBa0IsR0FBRyxvQkFBb0IsRUFBRSxnQ0FBZ0MseUNBQXlDLG1DQUFtQyxtQ0FBbUMsNkZBQTZGLFFBQVEsb0NBQW9DLCtDQUErQyxnQkFBZ0Isb0NBQW9DLCtCQUErQix1Q0FBdUMsTUFBTSxNQUFNLFVBQVUsQ0FBQyxzRUFBQyx1REFBdUQsRUFBRSxJQUFJLEVBQUUsR0FBRyxvQkFBb0IsZ0NBQWdDLHNCQUFzQixjQUFjLGdFQUFDLCtoQkFBK2hCLGtDQUFrQyxNQUFNLG1GQUFtRiw4QkFBOEIsTUFBTSxJQUFJLHlEQUF5RCxRQUFRLDJFQUFFLHFDQUFxQywyRUFBRSx3REFBd0QsaUNBQWlDLGNBQWMsZ0VBQUMsV0FBVyxxQ0FBcUMsa0NBQWtDLEVBQUUsMENBQTBDLE1BQU0sR0FBRywrREFBRSxJQUFJLG1FQUFFLHlEQUF5RCwyQ0FBMkMsaUJBQWlCLHNFQUFzRSxnQ0FBZ0MsbUJBQW1CLDRCQUE0QixNQUFNLEVBQUUsUUFBUSxnQkFBZ0Isc0JBQXNCLE1BQU0sVUFBVSxDQUFDLHNFQUFDLDhCQUE4QixvQkFBb0Isa0NBQWtDLDJEQUEyRCx3QkFBd0IsNEJBQTRCLCtEQUFFLGFBQWEseUdBQXlHLEVBQUUsd0JBQXdCLE1BQU0sZ0RBQWdELElBQUksWUFBWSxnRkFBZ0Ysc0NBQXNDLDZDQUE2QyxpQ0FBaUMsZ0VBQUMsV0FBVywyREFBRSxDQUFDLHdEQUFFLENBQUMsRUFBRSxJQUFJLDhFQUFFLGlFQUFpRSw0REFBNEQsaUVBQUMsSUFBSSxHQUFHLCtFQUFFLGdGQUFnRixrQ0FBa0MsNEVBQTRFLGtDQUFrQyxFQUFFLFNBQVMsNkJBQTZCLHdCQUF3Qiw0QkFBNEIsK0RBQUUsbUJBQW1CLE1BQU0sYUFBYSxDQUFDLHdFQUFFLFdBQVcsa0dBQWtHLHNFQUFDLGdCQUFnQiw4RkFBOEYsc0VBQUMsZ0JBQWdCLG1FQUFtRSw2QkFBNkIsNENBQTRDLFFBQVEsa0ZBQWtGLEtBQUssR0FBRyxFQUFFLHdCQUF3QixtQ0FBbUMsK0RBQUUsd0VBQXdFLCtEQUFFLFlBQVksNkNBQTZDLEVBQUUsdUJBQXVCLElBQUksbUVBQUMsUUFBUSxNQUFNLFVBQVUsQ0FBQyxzRUFBQywyREFBMkQsRUFBRSxHQUFHLG1CQUFtQix3REFBd0QsTUFBTSxVQUFVLENBQUMsc0VBQUMsbURBQW1ELEVBQUUsR0FBRyxtQkFBbUIsR0FBRywrREFBQyxtREFBbUQsTUFBTSxVQUFVLENBQUMsc0VBQUMsNkJBQTZCLEVBQUUsR0FBRyxvQkFBb0IsNkJBQTZCLElBQUksbUVBQUMsUUFBUSxNQUFNLFVBQVUsQ0FBQyxzRUFBQywyREFBMkQsRUFBRSxHQUFHLG1CQUFtQix1RUFBdUUsTUFBTSxVQUFVLENBQUMsc0VBQUMsbURBQW1ELEVBQUUsR0FBRyxtQkFBbUIsR0FBRywrREFBQyxxQ0FBcUMsMEJBQTBCLFFBQVEsRUFBRSxNQUFNLFVBQVUsQ0FBQyxzRUFBQyw2QkFBNkIsRUFBRSxHQUFHLG1CQUFtQiw2Q0FBNkMsTUFBTSxVQUFVLENBQUMsc0VBQUMsbUVBQW1FLEVBQUUsR0FBRyxnQ0FBZ0MsUUFBUSxnQkFBZ0Isc0NBQXNDLHVHQUF1Ryx1RkFBdUYsUUFBUSxtRUFBQyxRQUFRLE1BQU0sVUFBVSxDQUFDLHNFQUFDLDhEQUE4RCxFQUFFLEdBQUcsbUJBQW1CLEtBQUssTUFBTSxVQUFVLENBQUMsc0VBQUMsc0VBQXNFLEVBQUUsR0FBRyxvQkFBb0IsMkJBQTJCLElBQUksK0RBQUUsS0FBSyxNQUFNLFVBQVUsQ0FBQyxzRUFBQyx5REFBeUQsRUFBRSxHQUFHLG1CQUFtQiwyQ0FBMkMsTUFBTSxVQUFVLENBQUMsc0VBQUMsaURBQWlELEVBQUUsR0FBRyxtQkFBbUIsR0FBRywrREFBQywrQ0FBK0MsNkJBQTZCLE1BQU0sVUFBVSxDQUFDLHNFQUFDLDJCQUEyQixFQUFFLEdBQUcscUJBQXFCLGlCQUFpQixzREFBQyxDQUFDLGlCQUFpQiw0Q0FBNEMsaUJBQWlCLHNEQUFDLENBQUMsaUJBQWlCLDRDQUE0QyxpQkFBaUIsc0RBQUMsQ0FBQyxpQkFBaUIsb0RBQW9ELGlCQUFpQixzREFBQyxDQUFDLGlCQUFpQixtREFBbUQsaUJBQWlCLHNEQUFDLENBQUMsaUJBQWlCLDRDQUE0QyxpQkFBaUIsc0RBQUMsQ0FBQyxpQkFBaUIsb0RBQW9ELFNBQVMsaUJBQWlCLG1LQUFtSyxhQUFhLHVGQUF1RixpQkFBaUIsNkRBQUUsQ0FBQyxlQUFlLDRFQUE0RSxnREFBRSwrUEFBK1AsSUFBSSxvQ0FBb0MsU0FBUyxzQ0FBc0MscUJBQXFCLElBQUksaUNBQWlDLFNBQVMsc0NBQXNDLHdCQUF3QixJQUFJLG9DQUFvQyxTQUFTLHNDQUFzQyx1QkFBdUIsSUFBSSxtQ0FBbUMsU0FBUyxzQ0FBc0MsdUJBQXVCLElBQUksbUNBQW1DLFNBQVMsc0NBQXNDLHVCQUF1QixJQUFJLG1DQUFtQyxTQUFTLHNDQUFzQyx3QkFBd0IsSUFBSSxvQ0FBb0MsU0FBUyxzQ0FBc0Msd0JBQXdCLElBQUksb0NBQW9DLFNBQVMsc0NBQXNDLHFCQUFxQixJQUFJLGlDQUFpQyxTQUFTLHNDQUFzQyxxQkFBcUIsSUFBSSxpQ0FBaUMsU0FBUyxzQ0FBc0MsMkJBQTJCLElBQUksdUNBQXVDLFNBQVMsc0NBQXNDLGVBQWUsSUFBSSwyQkFBMkIsU0FBUyxzQ0FBc0MscUNBQXFDLElBQUksK0NBQStDLFNBQVMsc0NBQXNDLGdDQUFnQyxJQUFJLDJDQUEyQyxTQUFTLHNDQUFzQyw0QkFBNEIsSUFBSSx3Q0FBd0MsU0FBUyxzQ0FBc0MsMkNBQTJDLElBQUksdURBQXVELFNBQVMsc0NBQXNDLDBDQUEwQyxJQUFJLHNEQUFzRCxTQUFTLHNDQUFzQyx1REFBdUQsb0VBQUUsaUNBQWlDLGtFQUFrRSwyREFBRSxDQUFDLDhFQUFFLEVBQUUsMkJBQTJCLEdBQUcsdUJBQXVCLHFEQUFFLGdCQUFnQiwwRUFBRSx3TkFBd04scUJBQXFCLGtCQUFrQiw4QkFBOEIsY0FBYyxPQUFPLHVFQUFFLGNBQWMsY0FBYyxrQ0FBa0MsbUJBQW1CLGlDQUFpQyxJQUFJLG9PQUFvTyx1Q0FBdUMsQ0FBQyxrRUFBRSxDQUFDLDJEQUFFLEdBQUcsU0FBUyw2RkFBNkYsa0JBQSswQjtBQUMvejBEIiwic291cmNlcyI6WyIvd29ya3NwYWNlcy9pd28tcGxhdGZvcm0vbm9kZV9tb2R1bGVzLy5wbnBtL0B3YWxsZXRjb25uZWN0K3NpZ24tY2xpZW50QDIuMTcuM19AcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UrYXN5bmMtc3RvcmFnZUAxLjI0LjBfcmVhY3QtbmF0aV9tMzRiNjRxZWRjbHd6ZnN4dnoyMnR6cGFmZS9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvc2lnbi1jbGllbnQvZGlzdC9pbmRleC5lcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7UkVMQVlFUl9ERUZBVUxUX1BST1RPQ09MIGFzIFJ0LFRSQU5TUE9SVF9UWVBFUyBhcyBmLEVWRU5UX0NMSUVOVF9TRVNTSU9OX1RSQUNFUyBhcyBDLEVWRU5UX0NMSUVOVF9TRVNTSU9OX0VSUk9SUyBhcyBGLEVWRU5UX0NMSUVOVF9BVVRIRU5USUNBVEVfVFJBQ0VTIGFzIFEsRVZFTlRfQ0xJRU5UX0FVVEhFTlRJQ0FURV9FUlJPUlMgYXMgc2UsRVZFTlRfQ0xJRU5UX1BBSVJJTkdfRVJST1JTIGFzIFN0LEVWRU5UX0NMSUVOVF9QQUlSSU5HX1RSQUNFUyBhcyBJdCxSRUxBWUVSX0VWRU5UUyBhcyBHZSxWRVJJRllfU0VSVkVSIGFzIGZ0LEVYUElSRVJfRVZFTlRTIGFzIHZ0LFBBSVJJTkdfRVZFTlRTIGFzIGplLFN0b3JlIGFzIFksQ29yZSBhcyBxdH1mcm9tXCJAd2FsbGV0Y29ubmVjdC9jb3JlXCI7aW1wb3J0e3Bpbm8gYXMgVHQsZ2V0RGVmYXVsdExvZ2dlck9wdGlvbnMgYXMgTnQsZ2VuZXJhdGVDaGlsZExvZ2dlciBhcyBQdCxnZXRMb2dnZXJDb250ZXh0IGFzIE90fWZyb21cIkB3YWxsZXRjb25uZWN0L2xvZ2dlclwiO2ltcG9ydHtJRW5naW5lIGFzIEF0LElTaWduQ2xpZW50IGFzIGJ0fWZyb21cIkB3YWxsZXRjb25uZWN0L3R5cGVzXCI7aW1wb3J0e1RISVJUWV9EQVlTIGFzIEN0LFNFVkVOX0RBWVMgYXMgRmUsRklWRV9NSU5VVEVTIGFzIEEsT05FX0RBWSBhcyBrLE9ORV9IT1VSIGFzIFFlLE9ORV9TRUNPTkQgYXMgemUsdG9NaWxpc2Vjb25kcyBhcyBUZX1mcm9tXCJAd2FsbGV0Y29ubmVjdC90aW1lXCI7aW1wb3J0e2dldEludGVybmFsRXJyb3IgYXMgdSxjYWxjRXhwaXJ5IGFzIGIsY3JlYXRlRGVsYXllZFByb21pc2UgYXMgWCxlbmdpbmVFdmVudCBhcyBnLGdldFNka0Vycm9yIGFzIFAsZ2V0RGVlcExpbmsgYXMgTHQsaGFuZGxlRGVlcGxpbmtSZWRpcmVjdCBhcyB4dCxpc1Nlc3Npb25Db21wYXRpYmxlIGFzIER0LGhhc2hLZXkgYXMgTmUscGFyc2VDaGFpbklkIGFzIFBlLGNyZWF0ZUVuY29kZWRSZWNhcCBhcyBWdCxnZXRSZWNhcEZyb21SZXNvdXJjZXMgYXMgT2UsbWVyZ2VFbmNvZGVkUmVjYXBzIGFzIE10LFRZUEVfMiBhcyBrdCxCQVNFNjRVUkwgYXMgaWUsZ2V0TGlua01vZGVVUkwgYXMgaGUsdmFsaWRhdGVTaWduZWRDYWNhbyBhcyBIZSxnZXROYW1lc3BhY2VkRGlkQ2hhaW5JZCBhcyBZZSxnZXREaWRBZGRyZXNzIGFzIFhlLGdldE1ldGhvZHNGcm9tUmVjYXAgYXMgSmUsZ2V0Q2hhaW5zRnJvbVJlY2FwIGFzIEJlLGJ1aWxkTmFtZXNwYWNlc0Zyb21BdXRoIGFzIFdlLGZvcm1hdE1lc3NhZ2UgYXMgJHQsQkFTRTY0IGFzIGRlLGhhc2hNZXNzYWdlIGFzIEosaXNFeHBpcmVkIGFzIEIsTWVtb3J5U3RvcmUgYXMgcmUsaXNWYWxpZFBhcmFtcyBhcyBMLGlzVW5kZWZpbmVkIGFzIG5lLGlzVmFsaWRSZWxheXMgYXMgS3QsaXNWYWxpZE9iamVjdCBhcyBaZSxpc1ZhbGlkUmVxdWlyZWROYW1lc3BhY2VzIGFzIFV0LGlzVmFsaWROYW1lc3BhY2VzIGFzIEFlLGlzQ29uZm9ybWluZ05hbWVzcGFjZXMgYXMgZXQsaXNWYWxpZFN0cmluZyBhcyAkLGlzVmFsaWRFcnJvclJlYXNvbiBhcyBHdCxpc1ZhbGlkUmVsYXkgYXMganQsaXNWYWxpZENvbnRyb2xsZXIgYXMgRnQsaXNWYWxpZE5hbWVzcGFjZXNDaGFpbklkIGFzIHR0LGlzVmFsaWRSZXF1ZXN0IGFzIFF0LGlzVmFsaWROYW1lc3BhY2VzUmVxdWVzdCBhcyB6dCxpc1ZhbGlkUmVxdWVzdEV4cGlyeSBhcyBIdCxpc1ZhbGlkUmVzcG9uc2UgYXMgWXQsaXNWYWxpZEV2ZW50IGFzIFh0LGlzVmFsaWROYW1lc3BhY2VzRXZlbnQgYXMgSnQsZ2V0U2VhcmNoUGFyYW1Gcm9tVVJMIGFzIHN0LGlzVGVzdFJ1biBhcyBCdCxpc1JlYWN0TmF0aXZlIGFzIFd0LHBhcnNlRXhwaXJlclRhcmdldCBhcyBadCxpc1ZhbGlkSWQgYXMgZXMsVFlQRV8xIGFzIGJlLGdldEFwcE1ldGFkYXRhIGFzIHRzfWZyb21cIkB3YWxsZXRjb25uZWN0L3V0aWxzXCI7aW1wb3J0IHNzLHtFdmVudEVtaXR0ZXIgYXMgaXN9ZnJvbVwiZXZlbnRzXCI7aW1wb3J0e3BheWxvYWRJZCBhcyB6LGdldEJpZ0ludFJwY0lkIGFzIHVlLGlzSnNvblJwY1Jlc3VsdCBhcyBLLGlzSnNvblJwY0Vycm9yIGFzIFUsZm9ybWF0SnNvblJwY1JlcXVlc3QgYXMgZ2UsZm9ybWF0SnNvblJwY1Jlc3VsdCBhcyBycyxmb3JtYXRKc29uUnBjRXJyb3IgYXMgbnMsaXNKc29uUnBjUmVxdWVzdCBhcyBvcyxpc0pzb25ScGNSZXNwb25zZSBhcyBhc31mcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzXCI7Y29uc3QgQ2U9XCJ3Y1wiLExlPTIseGU9XCJjbGllbnRcIix5ZT1gJHtDZX1AJHtMZX06JHt4ZX06YCx3ZT17bmFtZTp4ZSxsb2dnZXI6XCJlcnJvclwiLGNvbnRyb2xsZXI6ITEscmVsYXlVcmw6XCJ3c3M6Ly9yZWxheS53YWxsZXRjb25uZWN0Lm9yZ1wifSxjcz17c2Vzc2lvbl9wcm9wb3NhbDpcInNlc3Npb25fcHJvcG9zYWxcIixzZXNzaW9uX3VwZGF0ZTpcInNlc3Npb25fdXBkYXRlXCIsc2Vzc2lvbl9leHRlbmQ6XCJzZXNzaW9uX2V4dGVuZFwiLHNlc3Npb25fcGluZzpcInNlc3Npb25fcGluZ1wiLHNlc3Npb25fZGVsZXRlOlwic2Vzc2lvbl9kZWxldGVcIixzZXNzaW9uX2V4cGlyZTpcInNlc3Npb25fZXhwaXJlXCIsc2Vzc2lvbl9yZXF1ZXN0Olwic2Vzc2lvbl9yZXF1ZXN0XCIsc2Vzc2lvbl9yZXF1ZXN0X3NlbnQ6XCJzZXNzaW9uX3JlcXVlc3Rfc2VudFwiLHNlc3Npb25fZXZlbnQ6XCJzZXNzaW9uX2V2ZW50XCIscHJvcG9zYWxfZXhwaXJlOlwicHJvcG9zYWxfZXhwaXJlXCIsc2Vzc2lvbl9hdXRoZW50aWNhdGU6XCJzZXNzaW9uX2F1dGhlbnRpY2F0ZVwiLHNlc3Npb25fcmVxdWVzdF9leHBpcmU6XCJzZXNzaW9uX3JlcXVlc3RfZXhwaXJlXCJ9LGxzPXtkYXRhYmFzZTpcIjptZW1vcnk6XCJ9LERlPVwiV0FMTEVUQ09OTkVDVF9ERUVQTElOS19DSE9JQ0VcIixwcz17Y3JlYXRlZDpcImhpc3RvcnlfY3JlYXRlZFwiLHVwZGF0ZWQ6XCJoaXN0b3J5X3VwZGF0ZWRcIixkZWxldGVkOlwiaGlzdG9yeV9kZWxldGVkXCIsc3luYzpcImhpc3Rvcnlfc3luY1wifSxocz1cImhpc3RvcnlcIixkcz1cIjAuM1wiLGl0PVwicHJvcG9zYWxcIix1cz1DdCxydD1cIlByb3Bvc2FsIGV4cGlyZWRcIixudD1cInNlc3Npb25cIixIPUZlLG90PVwiZW5naW5lXCIsdj17d2Nfc2Vzc2lvblByb3Bvc2U6e3JlcTp7dHRsOkEscHJvbXB0OiEwLHRhZzoxMTAwfSxyZXM6e3R0bDpBLHByb21wdDohMSx0YWc6MTEwMX0scmVqZWN0Ont0dGw6QSxwcm9tcHQ6ITEsdGFnOjExMjB9LGF1dG9SZWplY3Q6e3R0bDpBLHByb21wdDohMSx0YWc6MTEyMX19LHdjX3Nlc3Npb25TZXR0bGU6e3JlcTp7dHRsOkEscHJvbXB0OiExLHRhZzoxMTAyfSxyZXM6e3R0bDpBLHByb21wdDohMSx0YWc6MTEwM319LHdjX3Nlc3Npb25VcGRhdGU6e3JlcTp7dHRsOmsscHJvbXB0OiExLHRhZzoxMTA0fSxyZXM6e3R0bDprLHByb21wdDohMSx0YWc6MTEwNX19LHdjX3Nlc3Npb25FeHRlbmQ6e3JlcTp7dHRsOmsscHJvbXB0OiExLHRhZzoxMTA2fSxyZXM6e3R0bDprLHByb21wdDohMSx0YWc6MTEwN319LHdjX3Nlc3Npb25SZXF1ZXN0OntyZXE6e3R0bDpBLHByb21wdDohMCx0YWc6MTEwOH0scmVzOnt0dGw6QSxwcm9tcHQ6ITEsdGFnOjExMDl9fSx3Y19zZXNzaW9uRXZlbnQ6e3JlcTp7dHRsOkEscHJvbXB0OiEwLHRhZzoxMTEwfSxyZXM6e3R0bDpBLHByb21wdDohMSx0YWc6MTExMX19LHdjX3Nlc3Npb25EZWxldGU6e3JlcTp7dHRsOmsscHJvbXB0OiExLHRhZzoxMTEyfSxyZXM6e3R0bDprLHByb21wdDohMSx0YWc6MTExM319LHdjX3Nlc3Npb25QaW5nOntyZXE6e3R0bDprLHByb21wdDohMSx0YWc6MTExNH0scmVzOnt0dGw6ayxwcm9tcHQ6ITEsdGFnOjExMTV9fSx3Y19zZXNzaW9uQXV0aGVudGljYXRlOntyZXE6e3R0bDpRZSxwcm9tcHQ6ITAsdGFnOjExMTZ9LHJlczp7dHRsOlFlLHByb21wdDohMSx0YWc6MTExN30scmVqZWN0Ont0dGw6QSxwcm9tcHQ6ITEsdGFnOjExMTh9LGF1dG9SZWplY3Q6e3R0bDpBLHByb21wdDohMSx0YWc6MTExOX19fSxtZT17bWluOkEsbWF4OkZlfSx4PXtpZGxlOlwiSURMRVwiLGFjdGl2ZTpcIkFDVElWRVwifSxhdD1cInJlcXVlc3RcIixjdD1bXCJ3Y19zZXNzaW9uUHJvcG9zZVwiLFwid2Nfc2Vzc2lvblJlcXVlc3RcIixcIndjX2F1dGhSZXF1ZXN0XCIsXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCJdLGx0PVwid2NcIixncz0xLjUscHQ9XCJhdXRoXCIsaHQ9XCJhdXRoS2V5c1wiLGR0PVwicGFpcmluZ1RvcGljc1wiLHV0PVwicmVxdWVzdHNcIixvZT1gJHtsdH1AJHsxLjV9OiR7cHR9OmAsYWU9YCR7b2V9OlBVQl9LRVlgO3ZhciB5cz1PYmplY3QuZGVmaW5lUHJvcGVydHksd3M9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsbXM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsZ3Q9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxfcz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LEVzPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUseXQ9KHEsbyxlKT0+byBpbiBxP3lzKHEsbyx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pOnFbb109ZSxJPShxLG8pPT57Zm9yKHZhciBlIGluIG98fChvPXt9KSlfcy5jYWxsKG8sZSkmJnl0KHEsZSxvW2VdKTtpZihndClmb3IodmFyIGUgb2YgZ3QobykpRXMuY2FsbChvLGUpJiZ5dChxLGUsb1tlXSk7cmV0dXJuIHF9LEQ9KHEsbyk9PndzKHEsbXMobykpO2NsYXNzIFJzIGV4dGVuZHMgQXR7Y29uc3RydWN0b3Iobyl7c3VwZXIobyksdGhpcy5uYW1lPW90LHRoaXMuZXZlbnRzPW5ldyBzcyx0aGlzLmluaXRpYWxpemVkPSExLHRoaXMucmVxdWVzdFF1ZXVlPXtzdGF0ZTp4LmlkbGUscXVldWU6W119LHRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZT17c3RhdGU6eC5pZGxlLHF1ZXVlOltdfSx0aGlzLnJlcXVlc3RRdWV1ZURlbGF5PXplLHRoaXMuZXhwZWN0ZWRQYWlyaW5nTWV0aG9kTWFwPW5ldyBNYXAsdGhpcy5yZWNlbnRseURlbGV0ZWRNYXA9bmV3IE1hcCx0aGlzLnJlY2VudGx5RGVsZXRlZExpbWl0PTIwMCx0aGlzLnJlbGF5TWVzc2FnZUNhY2hlPVtdLHRoaXMuaW5pdD1hc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KGF3YWl0IHRoaXMuY2xlYW51cCgpLHRoaXMucmVnaXN0ZXJSZWxheWVyRXZlbnRzKCksdGhpcy5yZWdpc3RlckV4cGlyZXJFdmVudHMoKSx0aGlzLnJlZ2lzdGVyUGFpcmluZ0V2ZW50cygpLGF3YWl0IHRoaXMucmVnaXN0ZXJMaW5rTW9kZUxpc3RlbmVycygpLHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5yZWdpc3Rlcih7bWV0aG9kczpPYmplY3Qua2V5cyh2KX0pLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsc2V0VGltZW91dCgoKT0+e3RoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZT10aGlzLmdldFBlbmRpbmdTZXNzaW9uUmVxdWVzdHMoKSx0aGlzLnByb2Nlc3NTZXNzaW9uUmVxdWVzdFF1ZXVlKCl9LFRlKHRoaXMucmVxdWVzdFF1ZXVlRGVsYXkpKSl9LHRoaXMuY29ubmVjdD1hc3luYyBlPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7Y29uc3QgdD1EKEkoe30sZSkse3JlcXVpcmVkTmFtZXNwYWNlczplLnJlcXVpcmVkTmFtZXNwYWNlc3x8e30sb3B0aW9uYWxOYW1lc3BhY2VzOmUub3B0aW9uYWxOYW1lc3BhY2VzfHx7fX0pO2F3YWl0IHRoaXMuaXNWYWxpZENvbm5lY3QodCk7Y29uc3R7cGFpcmluZ1RvcGljOnMscmVxdWlyZWROYW1lc3BhY2VzOmksb3B0aW9uYWxOYW1lc3BhY2VzOnIsc2Vzc2lvblByb3BlcnRpZXM6bixyZWxheXM6YX09dDtsZXQgYz1zLGgscD0hMTt0cnl7YyYmKHA9dGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmdldChjKS5hY3RpdmUpfWNhdGNoKEUpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgY29ubmVjdCgpIC0+IHBhaXJpbmcuZ2V0KCR7Y30pIGZhaWxlZGApLEV9aWYoIWN8fCFwKXtjb25zdHt0b3BpYzpFLHVyaTpTfT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuY3JlYXRlKCk7Yz1FLGg9U31pZighYyl7Y29uc3R7bWVzc2FnZTpFfT11KFwiTk9fTUFUQ0hJTkdfS0VZXCIsYGNvbm5lY3QoKSBwYWlyaW5nIHRvcGljOiAke2N9YCk7dGhyb3cgbmV3IEVycm9yKEUpfWNvbnN0IGQ9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksbD12LndjX3Nlc3Npb25Qcm9wb3NlLnJlcS50dGx8fEEsdz1iKGwpLG09SSh7cmVxdWlyZWROYW1lc3BhY2VzOmksb3B0aW9uYWxOYW1lc3BhY2VzOnIscmVsYXlzOmE/P1t7cHJvdG9jb2w6UnR9XSxwcm9wb3Nlcjp7cHVibGljS2V5OmQsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LGV4cGlyeVRpbWVzdGFtcDp3LHBhaXJpbmdUb3BpYzpjfSxuJiZ7c2Vzc2lvblByb3BlcnRpZXM6bn0pLHtyZWplY3Q6eSxyZXNvbHZlOl8sZG9uZTpSfT1YKGwscnQpO3RoaXMuZXZlbnRzLm9uY2UoZyhcInNlc3Npb25fY29ubmVjdFwiKSxhc3luYyh7ZXJyb3I6RSxzZXNzaW9uOlN9KT0+e2lmKEUpeShFKTtlbHNlIGlmKFMpe1Muc2VsZi5wdWJsaWNLZXk9ZDtjb25zdCBNPUQoSSh7fSxTKSx7cGFpcmluZ1RvcGljOm0ucGFpcmluZ1RvcGljLHJlcXVpcmVkTmFtZXNwYWNlczptLnJlcXVpcmVkTmFtZXNwYWNlcyxvcHRpb25hbE5hbWVzcGFjZXM6bS5vcHRpb25hbE5hbWVzcGFjZXMsdHJhbnNwb3J0VHlwZTpmLnJlbGF5fSk7YXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5zZXQoUy50b3BpYyxNKSxhd2FpdCB0aGlzLnNldEV4cGlyeShTLnRvcGljLFMuZXhwaXJ5KSxjJiZhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcudXBkYXRlTWV0YWRhdGEoe3RvcGljOmMsbWV0YWRhdGE6Uy5wZWVyLm1ldGFkYXRhfSksdGhpcy5jbGVhbnVwRHVwbGljYXRlUGFpcmluZ3MoTSksXyhNKX19KTtjb25zdCBWPWF3YWl0IHRoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOmMsbWV0aG9kOlwid2Nfc2Vzc2lvblByb3Bvc2VcIixwYXJhbXM6bSx0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pO3JldHVybiBhd2FpdCB0aGlzLnNldFByb3Bvc2FsKFYsSSh7aWQ6Vn0sbSkpLHt1cmk6aCxhcHByb3ZhbDpSfX0sdGhpcy5wYWlyPWFzeW5jIGU9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyKGUpfWNhdGNoKHQpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcInBhaXIoKSBmYWlsZWRcIiksdH19LHRoaXMuYXBwcm92ZT1hc3luYyBlPT57dmFyIHQscyxpO2NvbnN0IHI9dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5jcmVhdGVFdmVudCh7cHJvcGVydGllczp7dG9waWM6KHQ9ZT8uaWQpPT1udWxsP3ZvaWQgMDp0LnRvU3RyaW5nKCksdHJhY2U6W0Muc2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWRdfX0pO3RyeXt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKX1jYXRjaChOKXt0aHJvdyByLnNldEVycm9yKEYubm9faW50ZXJuZXRfY29ubmVjdGlvbiksTn10cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUHJvcG9zYWxJZChlPy5pZCl9Y2F0Y2goTil7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBhcHByb3ZlKCkgLT4gcHJvcG9zYWwuZ2V0KCR7ZT8uaWR9KSBmYWlsZWRgKSxyLnNldEVycm9yKEYucHJvcG9zYWxfbm90X2ZvdW5kKSxOfXRyeXthd2FpdCB0aGlzLmlzVmFsaWRBcHByb3ZlKGUpfWNhdGNoKE4pe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcImFwcHJvdmUoKSAtPiBpc1ZhbGlkQXBwcm92ZSgpIGZhaWxlZFwiKSxyLnNldEVycm9yKEYuc2Vzc2lvbl9hcHByb3ZlX25hbWVzcGFjZV92YWxpZGF0aW9uX2ZhaWx1cmUpLE59Y29uc3R7aWQ6bixyZWxheVByb3RvY29sOmEsbmFtZXNwYWNlczpjLHNlc3Npb25Qcm9wZXJ0aWVzOmgsc2Vzc2lvbkNvbmZpZzpwfT1lLGQ9dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KG4pO3RoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuZGVsZXRlRXZlbnQoe2V2ZW50SWQ6ci5ldmVudElkfSk7Y29uc3R7cGFpcmluZ1RvcGljOmwscHJvcG9zZXI6dyxyZXF1aXJlZE5hbWVzcGFjZXM6bSxvcHRpb25hbE5hbWVzcGFjZXM6eX09ZDtsZXQgXz0ocz10aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50KT09bnVsbD92b2lkIDA6cy5nZXRFdmVudCh7dG9waWM6bH0pO198fChfPShpPXRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQpPT1udWxsP3ZvaWQgMDppLmNyZWF0ZUV2ZW50KHt0eXBlOkMuc2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWQscHJvcGVydGllczp7dG9waWM6bCx0cmFjZTpbQy5zZXNzaW9uX2FwcHJvdmVfc3RhcnRlZCxDLnNlc3Npb25fbmFtZXNwYWNlc192YWxpZGF0aW9uX3N1Y2Nlc3NdfX0pKTtjb25zdCBSPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlS2V5UGFpcigpLFY9dy5wdWJsaWNLZXksRT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZVNoYXJlZEtleShSLFYpLFM9SShJKHtyZWxheTp7cHJvdG9jb2w6YT8/XCJpcm5cIn0sbmFtZXNwYWNlczpjLGNvbnRyb2xsZXI6e3B1YmxpY0tleTpSLG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfSxleHBpcnk6YihIKX0saCYme3Nlc3Npb25Qcm9wZXJ0aWVzOmh9KSxwJiZ7c2Vzc2lvbkNvbmZpZzpwfSksTT1mLnJlbGF5O18uYWRkVHJhY2UoQy5zdWJzY3JpYmluZ19zZXNzaW9uX3RvcGljKTt0cnl7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZShFLHt0cmFuc3BvcnRUeXBlOk19KX1jYXRjaChOKXt0aHJvdyBfLnNldEVycm9yKEYuc3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfZmFpbHVyZSksTn1fLmFkZFRyYWNlKEMuc3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfc3VjY2Vzcyk7Y29uc3QgVz1EKEkoe30sUykse3RvcGljOkUscmVxdWlyZWROYW1lc3BhY2VzOm0sb3B0aW9uYWxOYW1lc3BhY2VzOnkscGFpcmluZ1RvcGljOmwsYWNrbm93bGVkZ2VkOiExLHNlbGY6Uy5jb250cm9sbGVyLHBlZXI6e3B1YmxpY0tleTp3LnB1YmxpY0tleSxtZXRhZGF0YTp3Lm1ldGFkYXRhfSxjb250cm9sbGVyOlIsdHJhbnNwb3J0VHlwZTpmLnJlbGF5fSk7YXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5zZXQoRSxXKSxfLmFkZFRyYWNlKEMuc3RvcmVfc2Vzc2lvbik7dHJ5e18uYWRkVHJhY2UoQy5wdWJsaXNoaW5nX3Nlc3Npb25fc2V0dGxlKSxhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzpFLG1ldGhvZDpcIndjX3Nlc3Npb25TZXR0bGVcIixwYXJhbXM6Uyx0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLmNhdGNoKE49Pnt0aHJvdyBfPy5zZXRFcnJvcihGLnNlc3Npb25fc2V0dGxlX3B1Ymxpc2hfZmFpbHVyZSksTn0pLF8uYWRkVHJhY2UoQy5zZXNzaW9uX3NldHRsZV9wdWJsaXNoX3N1Y2Nlc3MpLF8uYWRkVHJhY2UoQy5wdWJsaXNoaW5nX3Nlc3Npb25fYXBwcm92ZSksYXdhaXQgdGhpcy5zZW5kUmVzdWx0KHtpZDpuLHRvcGljOmwscmVzdWx0OntyZWxheTp7cHJvdG9jb2w6YT8/XCJpcm5cIn0scmVzcG9uZGVyUHVibGljS2V5OlJ9LHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSkuY2F0Y2goTj0+e3Rocm93IF8/LnNldEVycm9yKEYuc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZSksTn0pLF8uYWRkVHJhY2UoQy5zZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9zdWNjZXNzKX1jYXRjaChOKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoTiksdGhpcy5jbGllbnQuc2Vzc2lvbi5kZWxldGUoRSxQKFwiVVNFUl9ESVNDT05ORUNURURcIikpLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci51bnN1YnNjcmliZShFKSxOfXJldHVybiB0aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50LmRlbGV0ZUV2ZW50KHtldmVudElkOl8uZXZlbnRJZH0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy51cGRhdGVNZXRhZGF0YSh7dG9waWM6bCxtZXRhZGF0YTp3Lm1ldGFkYXRhfSksYXdhaXQgdGhpcy5jbGllbnQucHJvcG9zYWwuZGVsZXRlKG4sUChcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuYWN0aXZhdGUoe3RvcGljOmx9KSxhd2FpdCB0aGlzLnNldEV4cGlyeShFLGIoSCkpLHt0b3BpYzpFLGFja25vd2xlZGdlZDooKT0+UHJvbWlzZS5yZXNvbHZlKHRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KEUpKX19LHRoaXMucmVqZWN0PWFzeW5jIGU9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUmVqZWN0KGUpfWNhdGNoKHIpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcInJlamVjdCgpIC0+IGlzVmFsaWRSZWplY3QoKSBmYWlsZWRcIikscn1jb25zdHtpZDp0LHJlYXNvbjpzfT1lO2xldCBpO3RyeXtpPXRoaXMuY2xpZW50LnByb3Bvc2FsLmdldCh0KS5wYWlyaW5nVG9waWN9Y2F0Y2gocil7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGByZWplY3QoKSAtPiBwcm9wb3NhbC5nZXQoJHt0fSkgZmFpbGVkYCkscn1pJiYoYXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOnQsdG9waWM6aSxlcnJvcjpzLHJwY09wdHM6di53Y19zZXNzaW9uUHJvcG9zZS5yZWplY3R9KSxhd2FpdCB0aGlzLmNsaWVudC5wcm9wb3NhbC5kZWxldGUodCxQKFwiVVNFUl9ESVNDT05ORUNURURcIikpKX0sdGhpcy51cGRhdGU9YXN5bmMgZT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO3RyeXthd2FpdCB0aGlzLmlzVmFsaWRVcGRhdGUoZSl9Y2F0Y2gocCl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKFwidXBkYXRlKCkgLT4gaXNWYWxpZFVwZGF0ZSgpIGZhaWxlZFwiKSxwfWNvbnN0e3RvcGljOnQsbmFtZXNwYWNlczpzfT1lLHtkb25lOmkscmVzb2x2ZTpyLHJlamVjdDpufT1YKCksYT16KCksYz11ZSgpLnRvU3RyaW5nKCksaD10aGlzLmNsaWVudC5zZXNzaW9uLmdldCh0KS5uYW1lc3BhY2VzO3JldHVybiB0aGlzLmV2ZW50cy5vbmNlKGcoXCJzZXNzaW9uX3VwZGF0ZVwiLGEpLCh7ZXJyb3I6cH0pPT57cD9uKHApOnIoKX0pLGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKHQse25hbWVzcGFjZXM6c30pLGF3YWl0IHRoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOnQsbWV0aG9kOlwid2Nfc2Vzc2lvblVwZGF0ZVwiLHBhcmFtczp7bmFtZXNwYWNlczpzfSx0aHJvd09uRmFpbGVkUHVibGlzaDohMCxjbGllbnRScGNJZDphLHJlbGF5UnBjSWQ6Y30pLmNhdGNoKHA9Pnt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IocCksdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUodCx7bmFtZXNwYWNlczpofSksbihwKX0pLHthY2tub3dsZWRnZWQ6aX19LHRoaXMuZXh0ZW5kPWFzeW5jIGU9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkRXh0ZW5kKGUpfWNhdGNoKGEpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcImV4dGVuZCgpIC0+IGlzVmFsaWRFeHRlbmQoKSBmYWlsZWRcIiksYX1jb25zdHt0b3BpYzp0fT1lLHM9eigpLHtkb25lOmkscmVzb2x2ZTpyLHJlamVjdDpufT1YKCk7cmV0dXJuIHRoaXMuZXZlbnRzLm9uY2UoZyhcInNlc3Npb25fZXh0ZW5kXCIscyksKHtlcnJvcjphfSk9PnthP24oYSk6cigpfSksYXdhaXQgdGhpcy5zZXRFeHBpcnkodCxiKEgpKSx0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzp0LG1ldGhvZDpcIndjX3Nlc3Npb25FeHRlbmRcIixwYXJhbXM6e30sY2xpZW50UnBjSWQ6cyx0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLmNhdGNoKGE9PntuKGEpfSkse2Fja25vd2xlZGdlZDppfX0sdGhpcy5yZXF1ZXN0PWFzeW5jIGU9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUmVxdWVzdChlKX1jYXRjaCh3KXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJyZXF1ZXN0KCkgLT4gaXNWYWxpZFJlcXVlc3QoKSBmYWlsZWRcIiksd31jb25zdHtjaGFpbklkOnQscmVxdWVzdDpzLHRvcGljOmksZXhwaXJ5OnI9di53Y19zZXNzaW9uUmVxdWVzdC5yZXEudHRsfT1lLG49dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoaSk7bj8udHJhbnNwb3J0VHlwZT09PWYucmVsYXkmJmF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO2NvbnN0IGE9eigpLGM9dWUoKS50b1N0cmluZygpLHtkb25lOmgscmVzb2x2ZTpwLHJlamVjdDpkfT1YKHIsXCJSZXF1ZXN0IGV4cGlyZWQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO3RoaXMuZXZlbnRzLm9uY2UoZyhcInNlc3Npb25fcmVxdWVzdFwiLGEpLCh7ZXJyb3I6dyxyZXN1bHQ6bX0pPT57dz9kKHcpOnAobSl9KTtjb25zdCBsPXRoaXMuZ2V0QXBwTGlua0lmRW5hYmxlZChuLnBlZXIubWV0YWRhdGEsbi50cmFuc3BvcnRUeXBlKTtyZXR1cm4gbD8oYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh7Y2xpZW50UnBjSWQ6YSxyZWxheVJwY0lkOmMsdG9waWM6aSxtZXRob2Q6XCJ3Y19zZXNzaW9uUmVxdWVzdFwiLHBhcmFtczp7cmVxdWVzdDpEKEkoe30scykse2V4cGlyeVRpbWVzdGFtcDpiKHIpfSksY2hhaW5JZDp0fSxleHBpcnk6cix0aHJvd09uRmFpbGVkUHVibGlzaDohMCxhcHBMaW5rOmx9KS5jYXRjaCh3PT5kKHcpKSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcmVxdWVzdF9zZW50XCIse3RvcGljOmkscmVxdWVzdDpzLGNoYWluSWQ6dCxpZDphfSksYXdhaXQgaCgpKTphd2FpdCBQcm9taXNlLmFsbChbbmV3IFByb21pc2UoYXN5bmMgdz0+e2F3YWl0IHRoaXMuc2VuZFJlcXVlc3Qoe2NsaWVudFJwY0lkOmEscmVsYXlScGNJZDpjLHRvcGljOmksbWV0aG9kOlwid2Nfc2Vzc2lvblJlcXVlc3RcIixwYXJhbXM6e3JlcXVlc3Q6RChJKHt9LHMpLHtleHBpcnlUaW1lc3RhbXA6YihyKX0pLGNoYWluSWQ6dH0sZXhwaXJ5OnIsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KS5jYXRjaChtPT5kKG0pKSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcmVxdWVzdF9zZW50XCIse3RvcGljOmkscmVxdWVzdDpzLGNoYWluSWQ6dCxpZDphfSksdygpfSksbmV3IFByb21pc2UoYXN5bmMgdz0+e3ZhciBtO2lmKCEoKG09bi5zZXNzaW9uQ29uZmlnKSE9bnVsbCYmbS5kaXNhYmxlRGVlcExpbmspKXtjb25zdCB5PWF3YWl0IEx0KHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZSxEZSk7YXdhaXQgeHQoe2lkOmEsdG9waWM6aSx3Y0RlZXBMaW5rOnl9KX13KCl9KSxoKCldKS50aGVuKHc9PndbMl0pfSx0aGlzLnJlc3BvbmQ9YXN5bmMgZT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuaXNWYWxpZFJlc3BvbmQoZSk7Y29uc3R7dG9waWM6dCxyZXNwb25zZTpzfT1lLHtpZDppfT1zLHI9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQodCk7ci50cmFuc3BvcnRUeXBlPT09Zi5yZWxheSYmYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7Y29uc3Qgbj10aGlzLmdldEFwcExpbmtJZkVuYWJsZWQoci5wZWVyLm1ldGFkYXRhLHIudHJhbnNwb3J0VHlwZSk7SyhzKT9hd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOmksdG9waWM6dCxyZXN1bHQ6cy5yZXN1bHQsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsYXBwTGluazpufSk6VShzKSYmYXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOmksdG9waWM6dCxlcnJvcjpzLmVycm9yLGFwcExpbms6bn0pLHRoaXMuY2xlYW51cEFmdGVyUmVzcG9uc2UoZSl9LHRoaXMucGluZz1hc3luYyBlPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFBpbmcoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKFwicGluZygpIC0+IGlzVmFsaWRQaW5nKCkgZmFpbGVkXCIpLHN9Y29uc3R7dG9waWM6dH09ZTtpZih0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXModCkpe2NvbnN0IHM9eigpLGk9dWUoKS50b1N0cmluZygpLHtkb25lOnIscmVzb2x2ZTpuLHJlamVjdDphfT1YKCk7dGhpcy5ldmVudHMub25jZShnKFwic2Vzc2lvbl9waW5nXCIscyksKHtlcnJvcjpjfSk9PntjP2EoYyk6bigpfSksYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOnQsbWV0aG9kOlwid2Nfc2Vzc2lvblBpbmdcIixwYXJhbXM6e30sdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsY2xpZW50UnBjSWQ6cyxyZWxheVJwY0lkOml9KSxyKCldKX1lbHNlIHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKHQpJiZhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGluZyh7dG9waWM6dH0pfSx0aGlzLmVtaXQ9YXN5bmMgZT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpLGF3YWl0IHRoaXMuaXNWYWxpZEVtaXQoZSk7Y29uc3R7dG9waWM6dCxldmVudDpzLGNoYWluSWQ6aX09ZSxyPXVlKCkudG9TdHJpbmcoKSxuPXooKTthd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzp0LG1ldGhvZDpcIndjX3Nlc3Npb25FdmVudFwiLHBhcmFtczp7ZXZlbnQ6cyxjaGFpbklkOml9LHRocm93T25GYWlsZWRQdWJsaXNoOiEwLHJlbGF5UnBjSWQ6cixjbGllbnRScGNJZDpufSl9LHRoaXMuZGlzY29ubmVjdD1hc3luYyBlPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCksYXdhaXQgdGhpcy5pc1ZhbGlkRGlzY29ubmVjdChlKTtjb25zdHt0b3BpYzp0fT1lO2lmKHRoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyh0KSlhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzp0LG1ldGhvZDpcIndjX3Nlc3Npb25EZWxldGVcIixwYXJhbXM6UChcIlVTRVJfRElTQ09OTkVDVEVEXCIpLHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSksYXdhaXQgdGhpcy5kZWxldGVTZXNzaW9uKHt0b3BpYzp0LGVtaXRFdmVudDohMX0pO2Vsc2UgaWYodGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmtleXMuaW5jbHVkZXModCkpYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmRpc2Nvbm5lY3Qoe3RvcGljOnR9KTtlbHNle2NvbnN0e21lc3NhZ2U6c309dShcIk1JU01BVENIRURfVE9QSUNcIixgU2Vzc2lvbiBvciBwYWlyaW5nIHRvcGljIG5vdCBmb3VuZDogJHt0fWApO3Rocm93IG5ldyBFcnJvcihzKX19LHRoaXMuZmluZD1lPT4odGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5jbGllbnQuc2Vzc2lvbi5nZXRBbGwoKS5maWx0ZXIodD0+RHQodCxlKSkpLHRoaXMuZ2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0cz0oKT0+dGhpcy5jbGllbnQucGVuZGluZ1JlcXVlc3QuZ2V0QWxsKCksdGhpcy5hdXRoZW50aWNhdGU9YXN5bmMoZSx0KT0+e3ZhciBzO3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMuaXNWYWxpZEF1dGhlbnRpY2F0ZShlKTtjb25zdCBpPXQmJnRoaXMuY2xpZW50LmNvcmUubGlua01vZGVTdXBwb3J0ZWRBcHBzLmluY2x1ZGVzKHQpJiYoKHM9dGhpcy5jbGllbnQubWV0YWRhdGEucmVkaXJlY3QpPT1udWxsP3ZvaWQgMDpzLmxpbmtNb2RlKSxyPWk/Zi5saW5rX21vZGU6Zi5yZWxheTtyPT09Zi5yZWxheSYmYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7Y29uc3R7Y2hhaW5zOm4sc3RhdGVtZW50OmE9XCJcIix1cmk6Yyxkb21haW46aCxub25jZTpwLHR5cGU6ZCxleHA6bCxuYmY6dyxtZXRob2RzOm09W10sZXhwaXJ5Onl9PWUsXz1bLi4uZS5yZXNvdXJjZXN8fFtdXSx7dG9waWM6Uix1cmk6Vn09YXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmNyZWF0ZSh7bWV0aG9kczpbXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCJdLHRyYW5zcG9ydFR5cGU6cn0pO3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKHttZXNzYWdlOlwiR2VuZXJhdGVkIG5ldyBwYWlyaW5nXCIscGFpcmluZzp7dG9waWM6Uix1cmk6Vn19KTtjb25zdCBFPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlS2V5UGFpcigpLFM9TmUoRSk7aWYoYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuY2xpZW50LmF1dGguYXV0aEtleXMuc2V0KGFlLHtyZXNwb25zZVRvcGljOlMscHVibGljS2V5OkV9KSx0aGlzLmNsaWVudC5hdXRoLnBhaXJpbmdUb3BpY3Muc2V0KFMse3RvcGljOlMscGFpcmluZ1RvcGljOlJ9KV0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5zdWJzY3JpYmUoUyx7dHJhbnNwb3J0VHlwZTpyfSksdGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYHNlbmRpbmcgcmVxdWVzdCB0byBuZXcgcGFpcmluZyB0b3BpYzogJHtSfWApLG0ubGVuZ3RoPjApe2NvbnN0e25hbWVzcGFjZTpPfT1QZShuWzBdKTtsZXQgVD1WdChPLFwicmVxdWVzdFwiLG0pO09lKF8pJiYoVD1NdChULF8ucG9wKCkpKSxfLnB1c2goVCl9Y29uc3QgTT15JiZ5PnYud2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZS5yZXEudHRsP3k6di53Y19zZXNzaW9uQXV0aGVudGljYXRlLnJlcS50dGwsVz17YXV0aFBheWxvYWQ6e3R5cGU6ZD8/XCJjYWlwMTIyXCIsY2hhaW5zOm4sc3RhdGVtZW50OmEsYXVkOmMsZG9tYWluOmgsdmVyc2lvbjpcIjFcIixub25jZTpwLGlhdDpuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksZXhwOmwsbmJmOncscmVzb3VyY2VzOl99LHJlcXVlc3Rlcjp7cHVibGljS2V5OkUsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LGV4cGlyeVRpbWVzdGFtcDpiKE0pfSxOPXtlaXAxNTU6e2NoYWluczpuLG1ldGhvZHM6Wy4uLm5ldyBTZXQoW1wicGVyc29uYWxfc2lnblwiLC4uLm1dKV0sZXZlbnRzOltcImNoYWluQ2hhbmdlZFwiLFwiYWNjb3VudHNDaGFuZ2VkXCJdfX0sVmU9e3JlcXVpcmVkTmFtZXNwYWNlczp7fSxvcHRpb25hbE5hbWVzcGFjZXM6TixyZWxheXM6W3twcm90b2NvbDpcImlyblwifV0scGFpcmluZ1RvcGljOlIscHJvcG9zZXI6e3B1YmxpY0tleTpFLG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfSxleHBpcnlUaW1lc3RhbXA6Yih2LndjX3Nlc3Npb25Qcm9wb3NlLnJlcS50dGwpfSx7ZG9uZTptdCxyZXNvbHZlOk1lLHJlamVjdDpFZX09WChNLFwiUmVxdWVzdCBleHBpcmVkXCIpLGNlPWFzeW5jKHtlcnJvcjpPLHNlc3Npb246VH0pPT57aWYodGhpcy5ldmVudHMub2ZmKGcoXCJzZXNzaW9uX3JlcXVlc3RcIixHKSxSZSksTylFZShPKTtlbHNlIGlmKFQpe1Quc2VsZi5wdWJsaWNLZXk9RSxhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnNldChULnRvcGljLFQpLGF3YWl0IHRoaXMuc2V0RXhwaXJ5KFQudG9waWMsVC5leHBpcnkpLFImJmF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy51cGRhdGVNZXRhZGF0YSh7dG9waWM6UixtZXRhZGF0YTpULnBlZXIubWV0YWRhdGF9KTtjb25zdCBsZT10aGlzLmNsaWVudC5zZXNzaW9uLmdldChULnRvcGljKTthd2FpdCB0aGlzLmRlbGV0ZVByb3Bvc2FsKFopLE1lKHtzZXNzaW9uOmxlfSl9fSxSZT1hc3luYyBPPT57dmFyIFQsbGUsa2U7aWYoYXdhaXQgdGhpcy5kZWxldGVQZW5kaW5nQXV0aFJlcXVlc3QoRyx7bWVzc2FnZTpcImZ1bGZpbGxlZFwiLGNvZGU6MH0pLE8uZXJyb3Ipe2NvbnN0IHRlPVAoXCJXQ19NRVRIT0RfVU5TVVBQT1JURURcIixcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIik7cmV0dXJuIE8uZXJyb3IuY29kZT09PXRlLmNvZGU/dm9pZCAwOih0aGlzLmV2ZW50cy5vZmYoZyhcInNlc3Npb25fY29ubmVjdFwiKSxjZSksRWUoTy5lcnJvci5tZXNzYWdlKSl9YXdhaXQgdGhpcy5kZWxldGVQcm9wb3NhbChaKSx0aGlzLmV2ZW50cy5vZmYoZyhcInNlc3Npb25fY29ubmVjdFwiKSxjZSk7Y29uc3R7Y2FjYW9zOiRlLHJlc3BvbmRlcjpqfT1PLnJlc3VsdCxJZT1bXSxLZT1bXTtmb3IoY29uc3QgdGUgb2YgJGUpe2F3YWl0IEhlKHtjYWNhbzp0ZSxwcm9qZWN0SWQ6dGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWR9KXx8KHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcih0ZSxcIlNpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkXCIpLEVlKFAoXCJTRVNTSU9OX1NFVFRMRU1FTlRfRkFJTEVEXCIsXCJTaWduYXR1cmUgdmVyaWZpY2F0aW9uIGZhaWxlZFwiKSkpO2NvbnN0e3A6ZmV9PXRlLHZlPU9lKGZlLnJlc291cmNlcyksVWU9W1llKGZlLmlzcyldLF90PVhlKGZlLmlzcyk7aWYodmUpe2NvbnN0IHFlPUplKHZlKSxFdD1CZSh2ZSk7SWUucHVzaCguLi5xZSksVWUucHVzaCguLi5FdCl9Zm9yKGNvbnN0IHFlIG9mIFVlKUtlLnB1c2goYCR7cWV9OiR7X3R9YCl9Y29uc3QgZWU9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVTaGFyZWRLZXkoRSxqLnB1YmxpY0tleSk7bGV0IHBlO0llLmxlbmd0aD4wJiYocGU9e3RvcGljOmVlLGFja25vd2xlZGdlZDohMCxzZWxmOntwdWJsaWNLZXk6RSxtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0scGVlcjpqLGNvbnRyb2xsZXI6ai5wdWJsaWNLZXksZXhwaXJ5OmIoSCkscmVxdWlyZWROYW1lc3BhY2VzOnt9LG9wdGlvbmFsTmFtZXNwYWNlczp7fSxyZWxheTp7cHJvdG9jb2w6XCJpcm5cIn0scGFpcmluZ1RvcGljOlIsbmFtZXNwYWNlczpXZShbLi4ubmV3IFNldChJZSldLFsuLi5uZXcgU2V0KEtlKV0pLHRyYW5zcG9ydFR5cGU6cn0sYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZShlZSx7dHJhbnNwb3J0VHlwZTpyfSksYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5zZXQoZWUscGUpLFImJmF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy51cGRhdGVNZXRhZGF0YSh7dG9waWM6UixtZXRhZGF0YTpqLm1ldGFkYXRhfSkscGU9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoZWUpKSwoVD10aGlzLmNsaWVudC5tZXRhZGF0YS5yZWRpcmVjdCkhPW51bGwmJlQubGlua01vZGUmJihsZT1qLm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmbGUubGlua01vZGUmJihrZT1qLm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYma2UudW5pdmVyc2FsJiZ0JiYodGhpcy5jbGllbnQuY29yZS5hZGRMaW5rTW9kZVN1cHBvcnRlZEFwcChqLm1ldGFkYXRhLnJlZGlyZWN0LnVuaXZlcnNhbCksdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUoZWUse3RyYW5zcG9ydFR5cGU6Zi5saW5rX21vZGV9KSksTWUoe2F1dGhzOiRlLHNlc3Npb246cGV9KX0sRz16KCksWj16KCk7dGhpcy5ldmVudHMub25jZShnKFwic2Vzc2lvbl9jb25uZWN0XCIpLGNlKSx0aGlzLmV2ZW50cy5vbmNlKGcoXCJzZXNzaW9uX3JlcXVlc3RcIixHKSxSZSk7bGV0IFNlO3RyeXtpZihpKXtjb25zdCBPPWdlKFwid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiLFcsRyk7dGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LnNldChSLE8pO2NvbnN0IFQ9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZW5jb2RlKFwiXCIsTyx7dHlwZTprdCxlbmNvZGluZzppZX0pO1NlPWhlKHQsUixUKX1lbHNlIGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzpSLG1ldGhvZDpcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIixwYXJhbXM6VyxleHBpcnk6ZS5leHBpcnksdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsY2xpZW50UnBjSWQ6R30pLHRoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOlIsbWV0aG9kOlwid2Nfc2Vzc2lvblByb3Bvc2VcIixwYXJhbXM6VmUsZXhwaXJ5OnYud2Nfc2Vzc2lvblByb3Bvc2UucmVxLnR0bCx0aHJvd09uRmFpbGVkUHVibGlzaDohMCxjbGllbnRScGNJZDpafSldKX1jYXRjaChPKXt0aHJvdyB0aGlzLmV2ZW50cy5vZmYoZyhcInNlc3Npb25fY29ubmVjdFwiKSxjZSksdGhpcy5ldmVudHMub2ZmKGcoXCJzZXNzaW9uX3JlcXVlc3RcIixHKSxSZSksT31yZXR1cm4gYXdhaXQgdGhpcy5zZXRQcm9wb3NhbChaLEkoe2lkOlp9LFZlKSksYXdhaXQgdGhpcy5zZXRBdXRoUmVxdWVzdChHLHtyZXF1ZXN0OkQoSSh7fSxXKSx7dmVyaWZ5Q29udGV4dDp7fX0pLHBhaXJpbmdUb3BpYzpSLHRyYW5zcG9ydFR5cGU6cn0pLHt1cmk6U2U/P1YscmVzcG9uc2U6bXR9fSx0aGlzLmFwcHJvdmVTZXNzaW9uQXV0aGVudGljYXRlPWFzeW5jIGU9Pntjb25zdHtpZDp0LGF1dGhzOnN9PWUsaT10aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50LmNyZWF0ZUV2ZW50KHtwcm9wZXJ0aWVzOnt0b3BpYzp0LnRvU3RyaW5nKCksdHJhY2U6W1EuYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVfc3RhcnRlZF19fSk7dHJ5e3RoaXMuaXNJbml0aWFsaXplZCgpfWNhdGNoKHkpe3Rocm93IGkuc2V0RXJyb3Ioc2Uubm9faW50ZXJuZXRfY29ubmVjdGlvbikseX1jb25zdCByPXRoaXMuZ2V0UGVuZGluZ0F1dGhSZXF1ZXN0KHQpO2lmKCFyKXRocm93IGkuc2V0RXJyb3Ioc2UuYXV0aGVudGljYXRlZF9zZXNzaW9uX3BlbmRpbmdfcmVxdWVzdF9ub3RfZm91bmQpLG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgcGVuZGluZyBhdXRoIHJlcXVlc3Qgd2l0aCBpZCAke3R9YCk7Y29uc3Qgbj1yLnRyYW5zcG9ydFR5cGV8fGYucmVsYXk7bj09PWYucmVsYXkmJmF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO2NvbnN0IGE9ci5yZXF1ZXN0ZXIucHVibGljS2V5LGM9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksaD1OZShhKSxwPXt0eXBlOmJlLHJlY2VpdmVyUHVibGljS2V5OmEsc2VuZGVyUHVibGljS2V5OmN9LGQ9W10sbD1bXTtmb3IoY29uc3QgeSBvZiBzKXtpZighYXdhaXQgSGUoe2NhY2FvOnkscHJvamVjdElkOnRoaXMuY2xpZW50LmNvcmUucHJvamVjdElkfSkpe2kuc2V0RXJyb3Ioc2UuaW52YWxpZF9jYWNhbyk7Y29uc3QgUz1QKFwiU0VTU0lPTl9TRVRUTEVNRU5UX0ZBSUxFRFwiLFwiU2lnbmF0dXJlIHZlcmlmaWNhdGlvbiBmYWlsZWRcIik7dGhyb3cgYXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOnQsdG9waWM6aCxlcnJvcjpTLGVuY29kZU9wdHM6cH0pLG5ldyBFcnJvcihTLm1lc3NhZ2UpfWkuYWRkVHJhY2UoUS5jYWNhb3NfdmVyaWZpZWQpO2NvbnN0e3A6X309eSxSPU9lKF8ucmVzb3VyY2VzKSxWPVtZZShfLmlzcyldLEU9WGUoXy5pc3MpO2lmKFIpe2NvbnN0IFM9SmUoUiksTT1CZShSKTtkLnB1c2goLi4uUyksVi5wdXNoKC4uLk0pfWZvcihjb25zdCBTIG9mIFYpbC5wdXNoKGAke1N9OiR7RX1gKX1jb25zdCB3PWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlU2hhcmVkS2V5KGMsYSk7aS5hZGRUcmFjZShRLmNyZWF0ZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWMpO2xldCBtO2lmKGQ/Lmxlbmd0aD4wKXttPXt0b3BpYzp3LGFja25vd2xlZGdlZDohMCxzZWxmOntwdWJsaWNLZXk6YyxtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0scGVlcjp7cHVibGljS2V5OmEsbWV0YWRhdGE6ci5yZXF1ZXN0ZXIubWV0YWRhdGF9LGNvbnRyb2xsZXI6YSxleHBpcnk6YihIKSxhdXRoZW50aWNhdGlvbjpzLHJlcXVpcmVkTmFtZXNwYWNlczp7fSxvcHRpb25hbE5hbWVzcGFjZXM6e30scmVsYXk6e3Byb3RvY29sOlwiaXJuXCJ9LHBhaXJpbmdUb3BpYzpyLnBhaXJpbmdUb3BpYyxuYW1lc3BhY2VzOldlKFsuLi5uZXcgU2V0KGQpXSxbLi4ubmV3IFNldChsKV0pLHRyYW5zcG9ydFR5cGU6bn0saS5hZGRUcmFjZShRLnN1YnNjcmliaW5nX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpYyk7dHJ5e2F3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5zdWJzY3JpYmUodyx7dHJhbnNwb3J0VHlwZTpufSl9Y2F0Y2goeSl7dGhyb3cgaS5zZXRFcnJvcihzZS5zdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX2ZhaWx1cmUpLHl9aS5hZGRUcmFjZShRLnN1YnNjcmliZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNfc3VjY2VzcyksYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5zZXQodyxtKSxpLmFkZFRyYWNlKFEuc3RvcmVfYXV0aGVudGljYXRlZF9zZXNzaW9uKSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcudXBkYXRlTWV0YWRhdGEoe3RvcGljOnIucGFpcmluZ1RvcGljLG1ldGFkYXRhOnIucmVxdWVzdGVyLm1ldGFkYXRhfSl9aS5hZGRUcmFjZShRLnB1Ymxpc2hpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmUpO3RyeXthd2FpdCB0aGlzLnNlbmRSZXN1bHQoe3RvcGljOmgsaWQ6dCxyZXN1bHQ6e2NhY2FvczpzLHJlc3BvbmRlcjp7cHVibGljS2V5OmMsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9fSxlbmNvZGVPcHRzOnAsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsYXBwTGluazp0aGlzLmdldEFwcExpbmtJZkVuYWJsZWQoci5yZXF1ZXN0ZXIubWV0YWRhdGEsbil9KX1jYXRjaCh5KXt0aHJvdyBpLnNldEVycm9yKHNlLmF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZSkseX1yZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQuYXV0aC5yZXF1ZXN0cy5kZWxldGUodCx7bWVzc2FnZTpcImZ1bGZpbGxlZFwiLGNvZGU6MH0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5hY3RpdmF0ZSh7dG9waWM6ci5wYWlyaW5nVG9waWN9KSx0aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50LmRlbGV0ZUV2ZW50KHtldmVudElkOmkuZXZlbnRJZH0pLHtzZXNzaW9uOm19fSx0aGlzLnJlamVjdFNlc3Npb25BdXRoZW50aWNhdGU9YXN5bmMgZT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0e2lkOnQscmVhc29uOnN9PWUsaT10aGlzLmdldFBlbmRpbmdBdXRoUmVxdWVzdCh0KTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kIHBlbmRpbmcgYXV0aCByZXF1ZXN0IHdpdGggaWQgJHt0fWApO2kudHJhbnNwb3J0VHlwZT09PWYucmVsYXkmJmF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO2NvbnN0IHI9aS5yZXF1ZXN0ZXIucHVibGljS2V5LG49YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksYT1OZShyKSxjPXt0eXBlOmJlLHJlY2VpdmVyUHVibGljS2V5OnIsc2VuZGVyUHVibGljS2V5Om59O2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDp0LHRvcGljOmEsZXJyb3I6cyxlbmNvZGVPcHRzOmMscnBjT3B0czp2LndjX3Nlc3Npb25BdXRoZW50aWNhdGUucmVqZWN0LGFwcExpbms6dGhpcy5nZXRBcHBMaW5rSWZFbmFibGVkKGkucmVxdWVzdGVyLm1ldGFkYXRhLGkudHJhbnNwb3J0VHlwZSl9KSxhd2FpdCB0aGlzLmNsaWVudC5hdXRoLnJlcXVlc3RzLmRlbGV0ZSh0LHttZXNzYWdlOlwicmVqZWN0ZWRcIixjb2RlOjB9KSxhd2FpdCB0aGlzLmNsaWVudC5wcm9wb3NhbC5kZWxldGUodCxQKFwiVVNFUl9ESVNDT05ORUNURURcIikpfSx0aGlzLmZvcm1hdEF1dGhNZXNzYWdlPWU9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdHtyZXF1ZXN0OnQsaXNzOnN9PWU7cmV0dXJuICR0KHQscyl9LHRoaXMucHJvY2Vzc1JlbGF5TWVzc2FnZUNhY2hlPSgpPT57c2V0VGltZW91dChhc3luYygpPT57aWYodGhpcy5yZWxheU1lc3NhZ2VDYWNoZS5sZW5ndGghPT0wKWZvcig7dGhpcy5yZWxheU1lc3NhZ2VDYWNoZS5sZW5ndGg+MDspdHJ5e2NvbnN0IGU9dGhpcy5yZWxheU1lc3NhZ2VDYWNoZS5zaGlmdCgpO2UmJmF3YWl0IHRoaXMub25SZWxheU1lc3NhZ2UoZSl9Y2F0Y2goZSl7dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGUpfX0sNTApfSx0aGlzLmNsZWFudXBEdXBsaWNhdGVQYWlyaW5ncz1hc3luYyBlPT57aWYoZS5wYWlyaW5nVG9waWMpdHJ5e2NvbnN0IHQ9dGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmdldChlLnBhaXJpbmdUb3BpYykscz10aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3MuZ2V0QWxsKCkuZmlsdGVyKGk9Pnt2YXIgcixuO3JldHVybigocj1pLnBlZXJNZXRhZGF0YSk9PW51bGw/dm9pZCAwOnIudXJsKSYmKChuPWkucGVlck1ldGFkYXRhKT09bnVsbD92b2lkIDA6bi51cmwpPT09ZS5wZWVyLm1ldGFkYXRhLnVybCYmaS50b3BpYyYmaS50b3BpYyE9PXQudG9waWN9KTtpZihzLmxlbmd0aD09PTApcmV0dXJuO3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBDbGVhbmluZyB1cCAke3MubGVuZ3RofSBkdXBsaWNhdGUgcGFpcmluZyhzKWApLGF3YWl0IFByb21pc2UuYWxsKHMubWFwKGk9PnRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5kaXNjb25uZWN0KHt0b3BpYzppLnRvcGljfSkpKSx0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhcIkR1cGxpY2F0ZSBwYWlyaW5ncyBjbGVhbiB1cCBmaW5pc2hlZFwiKX1jYXRjaCh0KXt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IodCl9fSx0aGlzLmRlbGV0ZVNlc3Npb249YXN5bmMgZT0+e3ZhciB0O2NvbnN0e3RvcGljOnMsZXhwaXJlckhhc0RlbGV0ZWQ6aT0hMSxlbWl0RXZlbnQ6cj0hMCxpZDpuPTB9PWUse3NlbGY6YX09dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQocyk7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnVuc3Vic2NyaWJlKHMpLGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24uZGVsZXRlKHMsUChcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSx0aGlzLmFkZFRvUmVjZW50bHlEZWxldGVkKHMsXCJzZXNzaW9uXCIpLHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhhLnB1YmxpY0tleSkmJmF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmRlbGV0ZUtleVBhaXIoYS5wdWJsaWNLZXkpLHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhzKSYmYXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZGVsZXRlU3ltS2V5KHMpLGl8fHRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5kZWwocyksdGhpcy5jbGllbnQuY29yZS5zdG9yYWdlLnJlbW92ZUl0ZW0oRGUpLmNhdGNoKGM9PnRoaXMuY2xpZW50LmxvZ2dlci53YXJuKGMpKSx0aGlzLmdldFBlbmRpbmdTZXNzaW9uUmVxdWVzdHMoKS5mb3JFYWNoKGM9PntjLnRvcGljPT09cyYmdGhpcy5kZWxldGVQZW5kaW5nU2Vzc2lvblJlcXVlc3QoYy5pZCxQKFwiVVNFUl9ESVNDT05ORUNURURcIikpfSkscz09PSgodD10aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWVbMF0pPT1udWxsP3ZvaWQgMDp0LnRvcGljKSYmKHRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5zdGF0ZT14LmlkbGUpLHImJnRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9kZWxldGVcIix7aWQ6bix0b3BpYzpzfSl9LHRoaXMuZGVsZXRlUHJvcG9zYWw9YXN5bmMoZSx0KT0+e2lmKHQpdHJ5e2NvbnN0IHM9dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KGUpLGk9dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5nZXRFdmVudCh7dG9waWM6cy5wYWlyaW5nVG9waWN9KTtpPy5zZXRFcnJvcihGLnByb3Bvc2FsX2V4cGlyZWQpfWNhdGNoe31hd2FpdCBQcm9taXNlLmFsbChbdGhpcy5jbGllbnQucHJvcG9zYWwuZGVsZXRlKGUsUChcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSx0P1Byb21pc2UucmVzb2x2ZSgpOnRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5kZWwoZSldKSx0aGlzLmFkZFRvUmVjZW50bHlEZWxldGVkKGUsXCJwcm9wb3NhbFwiKX0sdGhpcy5kZWxldGVQZW5kaW5nU2Vzc2lvblJlcXVlc3Q9YXN5bmMoZSx0LHM9ITEpPT57YXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuY2xpZW50LnBlbmRpbmdSZXF1ZXN0LmRlbGV0ZShlLHQpLHM/UHJvbWlzZS5yZXNvbHZlKCk6dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLmRlbChlKV0pLHRoaXMuYWRkVG9SZWNlbnRseURlbGV0ZWQoZSxcInJlcXVlc3RcIiksdGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnF1ZXVlPXRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZS5maWx0ZXIoaT0+aS5pZCE9PWUpLHMmJih0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUuc3RhdGU9eC5pZGxlLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9yZXF1ZXN0X2V4cGlyZVwiLHtpZDplfSkpfSx0aGlzLmRlbGV0ZVBlbmRpbmdBdXRoUmVxdWVzdD1hc3luYyhlLHQscz0hMSk9Pnthd2FpdCBQcm9taXNlLmFsbChbdGhpcy5jbGllbnQuYXV0aC5yZXF1ZXN0cy5kZWxldGUoZSx0KSxzP1Byb21pc2UucmVzb2x2ZSgpOnRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5kZWwoZSldKX0sdGhpcy5zZXRFeHBpcnk9YXN5bmMoZSx0KT0+e3RoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyhlKSYmKHRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5zZXQoZSx0KSxhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZShlLHtleHBpcnk6dH0pKX0sdGhpcy5zZXRQcm9wb3NhbD1hc3luYyhlLHQpPT57dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLnNldChlLGIodi53Y19zZXNzaW9uUHJvcG9zZS5yZXEudHRsKSksYXdhaXQgdGhpcy5jbGllbnQucHJvcG9zYWwuc2V0KGUsdCl9LHRoaXMuc2V0QXV0aFJlcXVlc3Q9YXN5bmMoZSx0KT0+e2NvbnN0e3JlcXVlc3Q6cyxwYWlyaW5nVG9waWM6aSx0cmFuc3BvcnRUeXBlOnI9Zi5yZWxheX09dDt0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KGUscy5leHBpcnlUaW1lc3RhbXApLGF3YWl0IHRoaXMuY2xpZW50LmF1dGgucmVxdWVzdHMuc2V0KGUse2F1dGhQYXlsb2FkOnMuYXV0aFBheWxvYWQscmVxdWVzdGVyOnMucmVxdWVzdGVyLGV4cGlyeVRpbWVzdGFtcDpzLmV4cGlyeVRpbWVzdGFtcCxpZDplLHBhaXJpbmdUb3BpYzppLHZlcmlmeUNvbnRleHQ6cy52ZXJpZnlDb250ZXh0LHRyYW5zcG9ydFR5cGU6cn0pfSx0aGlzLnNldFBlbmRpbmdTZXNzaW9uUmVxdWVzdD1hc3luYyBlPT57Y29uc3R7aWQ6dCx0b3BpYzpzLHBhcmFtczppLHZlcmlmeUNvbnRleHQ6cn09ZSxuPWkucmVxdWVzdC5leHBpcnlUaW1lc3RhbXB8fGIodi53Y19zZXNzaW9uUmVxdWVzdC5yZXEudHRsKTt0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KHQsbiksYXdhaXQgdGhpcy5jbGllbnQucGVuZGluZ1JlcXVlc3Quc2V0KHQse2lkOnQsdG9waWM6cyxwYXJhbXM6aSx2ZXJpZnlDb250ZXh0OnJ9KX0sdGhpcy5zZW5kUmVxdWVzdD1hc3luYyBlPT57Y29uc3R7dG9waWM6dCxtZXRob2Q6cyxwYXJhbXM6aSxleHBpcnk6cixyZWxheVJwY0lkOm4sY2xpZW50UnBjSWQ6YSx0aHJvd09uRmFpbGVkUHVibGlzaDpjLGFwcExpbms6aH09ZSxwPWdlKHMsaSxhKTtsZXQgZDtjb25zdCBsPSEhaDt0cnl7Y29uc3QgeT1sP2llOmRlO2Q9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZW5jb2RlKHQscCx7ZW5jb2Rpbmc6eX0pfWNhdGNoKHkpe3Rocm93IGF3YWl0IHRoaXMuY2xlYW51cCgpLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgc2VuZFJlcXVlc3QoKSAtPiBjb3JlLmNyeXB0by5lbmNvZGUoKSBmb3IgdG9waWMgJHt0fSBmYWlsZWRgKSx5fWxldCB3O2lmKGN0LmluY2x1ZGVzKHMpKXtjb25zdCB5PUooSlNPTi5zdHJpbmdpZnkocCkpLF89SihkKTt3PWF3YWl0IHRoaXMuY2xpZW50LmNvcmUudmVyaWZ5LnJlZ2lzdGVyKHtpZDpfLGRlY3J5cHRlZElkOnl9KX1jb25zdCBtPXZbc10ucmVxO2lmKG0uYXR0ZXN0YXRpb249dyxyJiYobS50dGw9ciksbiYmKG0uaWQ9biksdGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LnNldCh0LHApLGwpe2NvbnN0IHk9aGUoaCx0LGQpO2F3YWl0IGdsb2JhbC5MaW5raW5nLm9wZW5VUkwoeSx0aGlzLmNsaWVudC5uYW1lKX1lbHNle2NvbnN0IHk9dltzXS5yZXE7ciYmKHkudHRsPXIpLG4mJih5LmlkPW4pLGM/KHkuaW50ZXJuYWw9RChJKHt9LHkuaW50ZXJuYWwpLHt0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoKHQsZCx5KSk6dGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnB1Ymxpc2godCxkLHkpLmNhdGNoKF89PnRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihfKSl9cmV0dXJuIHAuaWR9LHRoaXMuc2VuZFJlc3VsdD1hc3luYyBlPT57Y29uc3R7aWQ6dCx0b3BpYzpzLHJlc3VsdDppLHRocm93T25GYWlsZWRQdWJsaXNoOnIsZW5jb2RlT3B0czpuLGFwcExpbms6YX09ZSxjPXJzKHQsaSk7bGV0IGg7Y29uc3QgcD1hJiZ0eXBlb2YoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuTGlua2luZyk8XCJ1XCI7dHJ5e2NvbnN0IGw9cD9pZTpkZTtoPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmVuY29kZShzLGMsRChJKHt9LG58fHt9KSx7ZW5jb2Rpbmc6bH0pKX1jYXRjaChsKXt0aHJvdyBhd2FpdCB0aGlzLmNsZWFudXAoKSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYHNlbmRSZXN1bHQoKSAtPiBjb3JlLmNyeXB0by5lbmNvZGUoKSBmb3IgdG9waWMgJHtzfSBmYWlsZWRgKSxsfWxldCBkO3RyeXtkPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5nZXQocyx0KX1jYXRjaChsKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYHNlbmRSZXN1bHQoKSAtPiBoaXN0b3J5LmdldCgke3N9LCAke3R9KSBmYWlsZWRgKSxsfWlmKHApe2NvbnN0IGw9aGUoYSxzLGgpO2F3YWl0IGdsb2JhbC5MaW5raW5nLm9wZW5VUkwobCx0aGlzLmNsaWVudC5uYW1lKX1lbHNle2NvbnN0IGw9dltkLnJlcXVlc3QubWV0aG9kXS5yZXM7cj8obC5pbnRlcm5hbD1EKEkoe30sbC5pbnRlcm5hbCkse3Rocm93T25GYWlsZWRQdWJsaXNoOiEwfSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnB1Ymxpc2gocyxoLGwpKTp0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaChzLGgsbCkuY2F0Y2godz0+dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKHcpKX1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkucmVzb2x2ZShjKX0sdGhpcy5zZW5kRXJyb3I9YXN5bmMgZT0+e2NvbnN0e2lkOnQsdG9waWM6cyxlcnJvcjppLGVuY29kZU9wdHM6cixycGNPcHRzOm4sYXBwTGluazphfT1lLGM9bnModCxpKTtsZXQgaDtjb25zdCBwPWEmJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5MaW5raW5nKTxcInVcIjt0cnl7Y29uc3QgbD1wP2llOmRlO2g9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZW5jb2RlKHMsYyxEKEkoe30scnx8e30pLHtlbmNvZGluZzpsfSkpfWNhdGNoKGwpe3Rocm93IGF3YWl0IHRoaXMuY2xlYW51cCgpLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgc2VuZEVycm9yKCkgLT4gY29yZS5jcnlwdG8uZW5jb2RlKCkgZm9yIHRvcGljICR7c30gZmFpbGVkYCksbH1sZXQgZDt0cnl7ZD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkuZ2V0KHMsdCl9Y2F0Y2gobCl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBzZW5kRXJyb3IoKSAtPiBoaXN0b3J5LmdldCgke3N9LCAke3R9KSBmYWlsZWRgKSxsfWlmKHApe2NvbnN0IGw9aGUoYSxzLGgpO2F3YWl0IGdsb2JhbC5MaW5raW5nLm9wZW5VUkwobCx0aGlzLmNsaWVudC5uYW1lKX1lbHNle2NvbnN0IGw9bnx8dltkLnJlcXVlc3QubWV0aG9kXS5yZXM7dGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnB1Ymxpc2gocyxoLGwpfWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5yZXNvbHZlKGMpfSx0aGlzLmNsZWFudXA9YXN5bmMoKT0+e2NvbnN0IGU9W10sdD1bXTt0aGlzLmNsaWVudC5zZXNzaW9uLmdldEFsbCgpLmZvckVhY2gocz0+e2xldCBpPSExO0Iocy5leHBpcnkpJiYoaT0hMCksdGhpcy5jbGllbnQuY29yZS5jcnlwdG8ua2V5Y2hhaW4uaGFzKHMudG9waWMpfHwoaT0hMCksaSYmZS5wdXNoKHMudG9waWMpfSksdGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0QWxsKCkuZm9yRWFjaChzPT57QihzLmV4cGlyeVRpbWVzdGFtcCkmJnQucHVzaChzLmlkKX0pLGF3YWl0IFByb21pc2UuYWxsKFsuLi5lLm1hcChzPT50aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOnN9KSksLi4udC5tYXAocz0+dGhpcy5kZWxldGVQcm9wb3NhbChzKSldKX0sdGhpcy5vblJlbGF5RXZlbnRSZXF1ZXN0PWFzeW5jIGU9Pnt0aGlzLnJlcXVlc3RRdWV1ZS5xdWV1ZS5wdXNoKGUpLGF3YWl0IHRoaXMucHJvY2Vzc1JlcXVlc3RzUXVldWUoKX0sdGhpcy5wcm9jZXNzUmVxdWVzdHNRdWV1ZT1hc3luYygpPT57aWYodGhpcy5yZXF1ZXN0UXVldWUuc3RhdGU9PT14LmFjdGl2ZSl7dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oXCJSZXF1ZXN0IHF1ZXVlIGFscmVhZHkgYWN0aXZlLCBza2lwcGluZy4uLlwiKTtyZXR1cm59Zm9yKHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBSZXF1ZXN0IHF1ZXVlIHN0YXJ0aW5nIHdpdGggJHt0aGlzLnJlcXVlc3RRdWV1ZS5xdWV1ZS5sZW5ndGh9IHJlcXVlc3RzYCk7dGhpcy5yZXF1ZXN0UXVldWUucXVldWUubGVuZ3RoPjA7KXt0aGlzLnJlcXVlc3RRdWV1ZS5zdGF0ZT14LmFjdGl2ZTtjb25zdCBlPXRoaXMucmVxdWVzdFF1ZXVlLnF1ZXVlLnNoaWZ0KCk7aWYoZSl0cnl7YXdhaXQgdGhpcy5wcm9jZXNzUmVxdWVzdChlKX1jYXRjaCh0KXt0aGlzLmNsaWVudC5sb2dnZXIud2Fybih0KX19dGhpcy5yZXF1ZXN0UXVldWUuc3RhdGU9eC5pZGxlfSx0aGlzLnByb2Nlc3NSZXF1ZXN0PWFzeW5jIGU9Pntjb25zdHt0b3BpYzp0LHBheWxvYWQ6cyxhdHRlc3RhdGlvbjppLHRyYW5zcG9ydFR5cGU6cixlbmNyeXB0ZWRJZDpufT1lLGE9cy5tZXRob2Q7aWYoIXRoaXMuc2hvdWxkSWdub3JlUGFpcmluZ1JlcXVlc3Qoe3RvcGljOnQscmVxdWVzdE1ldGhvZDphfSkpc3dpdGNoKGEpe2Nhc2VcIndjX3Nlc3Npb25Qcm9wb3NlXCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uUHJvcG9zZVJlcXVlc3Qoe3RvcGljOnQscGF5bG9hZDpzLGF0dGVzdGF0aW9uOmksZW5jcnlwdGVkSWQ6bn0pO2Nhc2VcIndjX3Nlc3Npb25TZXR0bGVcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25TZXR0bGVSZXF1ZXN0KHQscyk7Y2FzZVwid2Nfc2Vzc2lvblVwZGF0ZVwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvblVwZGF0ZVJlcXVlc3QodCxzKTtjYXNlXCJ3Y19zZXNzaW9uRXh0ZW5kXCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uRXh0ZW5kUmVxdWVzdCh0LHMpO2Nhc2VcIndjX3Nlc3Npb25QaW5nXCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uUGluZ1JlcXVlc3QodCxzKTtjYXNlXCJ3Y19zZXNzaW9uRGVsZXRlXCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uRGVsZXRlUmVxdWVzdCh0LHMpO2Nhc2VcIndjX3Nlc3Npb25SZXF1ZXN0XCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uUmVxdWVzdCh7dG9waWM6dCxwYXlsb2FkOnMsYXR0ZXN0YXRpb246aSxlbmNyeXB0ZWRJZDpuLHRyYW5zcG9ydFR5cGU6cn0pO2Nhc2VcIndjX3Nlc3Npb25FdmVudFwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvbkV2ZW50UmVxdWVzdCh0LHMpO2Nhc2VcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25BdXRoZW50aWNhdGVSZXF1ZXN0KHt0b3BpYzp0LHBheWxvYWQ6cyxhdHRlc3RhdGlvbjppLGVuY3J5cHRlZElkOm4sdHJhbnNwb3J0VHlwZTpyfSk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYFVuc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kICR7YX1gKX19LHRoaXMub25SZWxheUV2ZW50UmVzcG9uc2U9YXN5bmMgZT0+e2NvbnN0e3RvcGljOnQscGF5bG9hZDpzLHRyYW5zcG9ydFR5cGU6aX09ZSxyPShhd2FpdCB0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkuZ2V0KHQscy5pZCkpLnJlcXVlc3QubWV0aG9kO3N3aXRjaChyKXtjYXNlXCJ3Y19zZXNzaW9uUHJvcG9zZVwiOnJldHVybiB0aGlzLm9uU2Vzc2lvblByb3Bvc2VSZXNwb25zZSh0LHMsaSk7Y2FzZVwid2Nfc2Vzc2lvblNldHRsZVwiOnJldHVybiB0aGlzLm9uU2Vzc2lvblNldHRsZVJlc3BvbnNlKHQscyk7Y2FzZVwid2Nfc2Vzc2lvblVwZGF0ZVwiOnJldHVybiB0aGlzLm9uU2Vzc2lvblVwZGF0ZVJlc3BvbnNlKHQscyk7Y2FzZVwid2Nfc2Vzc2lvbkV4dGVuZFwiOnJldHVybiB0aGlzLm9uU2Vzc2lvbkV4dGVuZFJlc3BvbnNlKHQscyk7Y2FzZVwid2Nfc2Vzc2lvblBpbmdcIjpyZXR1cm4gdGhpcy5vblNlc3Npb25QaW5nUmVzcG9uc2UodCxzKTtjYXNlXCJ3Y19zZXNzaW9uUmVxdWVzdFwiOnJldHVybiB0aGlzLm9uU2Vzc2lvblJlcXVlc3RSZXNwb25zZSh0LHMpO2Nhc2VcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIjpyZXR1cm4gdGhpcy5vblNlc3Npb25BdXRoZW50aWNhdGVSZXNwb25zZSh0LHMpO2RlZmF1bHQ6cmV0dXJuIHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBVbnN1cHBvcnRlZCByZXNwb25zZSBtZXRob2QgJHtyfWApfX0sdGhpcy5vblJlbGF5RXZlbnRVbmtub3duUGF5bG9hZD1lPT57Y29uc3R7dG9waWM6dH09ZSx7bWVzc2FnZTpzfT11KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYERlY29kZWQgcGF5bG9hZCBvbiB0b3BpYyAke3R9IGlzIG5vdCBpZGVudGlmaWFibGUgYXMgYSBKU09OLVJQQyByZXF1ZXN0IG9yIGEgcmVzcG9uc2UuYCk7dGhyb3cgbmV3IEVycm9yKHMpfSx0aGlzLnNob3VsZElnbm9yZVBhaXJpbmdSZXF1ZXN0PWU9Pntjb25zdHt0b3BpYzp0LHJlcXVlc3RNZXRob2Q6c309ZSxpPXRoaXMuZXhwZWN0ZWRQYWlyaW5nTWV0aG9kTWFwLmdldCh0KTtyZXR1cm4haXx8aS5pbmNsdWRlcyhzKT8hMTohIShpLmluY2x1ZGVzKFwid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiKSYmdGhpcy5jbGllbnQuZXZlbnRzLmxpc3RlbmVyQ291bnQoXCJzZXNzaW9uX2F1dGhlbnRpY2F0ZVwiKT4wKX0sdGhpcy5vblNlc3Npb25Qcm9wb3NlUmVxdWVzdD1hc3luYyBlPT57Y29uc3R7dG9waWM6dCxwYXlsb2FkOnMsYXR0ZXN0YXRpb246aSxlbmNyeXB0ZWRJZDpyfT1lLHtwYXJhbXM6bixpZDphfT1zO3RyeXtjb25zdCBjPXRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuZ2V0RXZlbnQoe3RvcGljOnR9KTt0aGlzLmNsaWVudC5ldmVudHMubGlzdGVuZXJDb3VudChcInNlc3Npb25fcHJvcG9zYWxcIik9PT0wJiYoY29uc29sZS53YXJuKFwiTm8gbGlzdGVuZXIgZm9yIHNlc3Npb25fcHJvcG9zYWwgZXZlbnRcIiksYz8uc2V0RXJyb3IoU3QucHJvcG9zYWxfbGlzdGVuZXJfbm90X2ZvdW5kKSksdGhpcy5pc1ZhbGlkQ29ubmVjdChJKHt9LHMucGFyYW1zKSk7Y29uc3QgaD1uLmV4cGlyeVRpbWVzdGFtcHx8Yih2LndjX3Nlc3Npb25Qcm9wb3NlLnJlcS50dGwpLHA9SSh7aWQ6YSxwYWlyaW5nVG9waWM6dCxleHBpcnlUaW1lc3RhbXA6aH0sbik7YXdhaXQgdGhpcy5zZXRQcm9wb3NhbChhLHApO2NvbnN0IGQ9YXdhaXQgdGhpcy5nZXRWZXJpZnlDb250ZXh0KHthdHRlc3RhdGlvbklkOmksaGFzaDpKKEpTT04uc3RyaW5naWZ5KHMpKSxlbmNyeXB0ZWRJZDpyLG1ldGFkYXRhOnAucHJvcG9zZXIubWV0YWRhdGF9KTtjPy5hZGRUcmFjZShJdC5lbWl0X3Nlc3Npb25fcHJvcG9zYWwpLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9wcm9wb3NhbFwiLHtpZDphLHBhcmFtczpwLHZlcmlmeUNvbnRleHQ6ZH0pfWNhdGNoKGMpe2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDphLHRvcGljOnQsZXJyb3I6YyxycGNPcHRzOnYud2Nfc2Vzc2lvblByb3Bvc2UuYXV0b1JlamVjdH0pLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihjKX19LHRoaXMub25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlPWFzeW5jKGUsdCxzKT0+e2NvbnN0e2lkOml9PXQ7aWYoSyh0KSl7Y29uc3R7cmVzdWx0OnJ9PXQ7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIscmVzdWx0OnJ9KTtjb25zdCBuPXRoaXMuY2xpZW50LnByb3Bvc2FsLmdldChpKTt0aGlzLmNsaWVudC5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixwcm9wb3NhbDpufSk7Y29uc3QgYT1uLnByb3Bvc2VyLnB1YmxpY0tleTt0aGlzLmNsaWVudC5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixzZWxmUHVibGljS2V5OmF9KTtjb25zdCBjPXIucmVzcG9uZGVyUHVibGljS2V5O3RoaXMuY2xpZW50LmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcIm9uU2Vzc2lvblByb3Bvc2VSZXNwb25zZVwiLHBlZXJQdWJsaWNLZXk6Y30pO2NvbnN0IGg9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVTaGFyZWRLZXkoYSxjKTt0aGlzLmNsaWVudC5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixzZXNzaW9uVG9waWM6aH0pO2NvbnN0IHA9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZShoLHt0cmFuc3BvcnRUeXBlOnN9KTt0aGlzLmNsaWVudC5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixzdWJzY3JpcHRpb25JZDpwfSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmFjdGl2YXRlKHt0b3BpYzplfSl9ZWxzZSBpZihVKHQpKXthd2FpdCB0aGlzLmNsaWVudC5wcm9wb3NhbC5kZWxldGUoaSxQKFwiVVNFUl9ESVNDT05ORUNURURcIikpO2NvbnN0IHI9ZyhcInNlc3Npb25fY29ubmVjdFwiKTtpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KHIpPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7cn0gd2l0aG91dCBhbnkgbGlzdGVuZXJzLCA5NTRgKTt0aGlzLmV2ZW50cy5lbWl0KGcoXCJzZXNzaW9uX2Nvbm5lY3RcIikse2Vycm9yOnQuZXJyb3J9KX19LHRoaXMub25TZXNzaW9uU2V0dGxlUmVxdWVzdD1hc3luYyhlLHQpPT57Y29uc3R7aWQ6cyxwYXJhbXM6aX09dDt0cnl7dGhpcy5pc1ZhbGlkU2Vzc2lvblNldHRsZVJlcXVlc3QoaSk7Y29uc3R7cmVsYXk6cixjb250cm9sbGVyOm4sZXhwaXJ5OmEsbmFtZXNwYWNlczpjLHNlc3Npb25Qcm9wZXJ0aWVzOmgsc2Vzc2lvbkNvbmZpZzpwfT10LnBhcmFtcyxkPUQoSShJKHt0b3BpYzplLHJlbGF5OnIsZXhwaXJ5OmEsbmFtZXNwYWNlczpjLGFja25vd2xlZGdlZDohMCxwYWlyaW5nVG9waWM6XCJcIixyZXF1aXJlZE5hbWVzcGFjZXM6e30sb3B0aW9uYWxOYW1lc3BhY2VzOnt9LGNvbnRyb2xsZXI6bi5wdWJsaWNLZXksc2VsZjp7cHVibGljS2V5OlwiXCIsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LHBlZXI6e3B1YmxpY0tleTpuLnB1YmxpY0tleSxtZXRhZGF0YTpuLm1ldGFkYXRhfX0saCYme3Nlc3Npb25Qcm9wZXJ0aWVzOmh9KSxwJiZ7c2Vzc2lvbkNvbmZpZzpwfSkse3RyYW5zcG9ydFR5cGU6Zi5yZWxheX0pLGw9ZyhcInNlc3Npb25fY29ubmVjdFwiKTtpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KGwpPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7bH0gd2l0aG91dCBhbnkgbGlzdGVuZXJzIDk5N2ApO3RoaXMuZXZlbnRzLmVtaXQoZyhcInNlc3Npb25fY29ubmVjdFwiKSx7c2Vzc2lvbjpkfSksYXdhaXQgdGhpcy5zZW5kUmVzdWx0KHtpZDp0LmlkLHRvcGljOmUscmVzdWx0OiEwLHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSl9Y2F0Y2gocil7YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOnMsdG9waWM6ZSxlcnJvcjpyfSksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKHIpfX0sdGhpcy5vblNlc3Npb25TZXR0bGVSZXNwb25zZT1hc3luYyhlLHQpPT57Y29uc3R7aWQ6c309dDtLKHQpPyhhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZShlLHthY2tub3dsZWRnZWQ6ITB9KSx0aGlzLmV2ZW50cy5lbWl0KGcoXCJzZXNzaW9uX2FwcHJvdmVcIixzKSx7fSkpOlUodCkmJihhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLmRlbGV0ZShlLFAoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksdGhpcy5ldmVudHMuZW1pdChnKFwic2Vzc2lvbl9hcHByb3ZlXCIscykse2Vycm9yOnQuZXJyb3J9KSl9LHRoaXMub25TZXNzaW9uVXBkYXRlUmVxdWVzdD1hc3luYyhlLHQpPT57Y29uc3R7cGFyYW1zOnMsaWQ6aX09dDt0cnl7Y29uc3Qgcj1gJHtlfV9zZXNzaW9uX3VwZGF0ZWAsbj1yZS5nZXQocik7aWYobiYmdGhpcy5pc1JlcXVlc3RPdXRPZlN5bmMobixpKSl7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4oYERpc2NhcmRpbmcgb3V0IG9mIHN5bmMgcmVxdWVzdCAtICR7aX1gKSx0aGlzLnNlbmRFcnJvcih7aWQ6aSx0b3BpYzplLGVycm9yOlAoXCJJTlZBTElEX1VQREFURV9SRVFVRVNUXCIpfSk7cmV0dXJufXRoaXMuaXNWYWxpZFVwZGF0ZShJKHt0b3BpYzplfSxzKSk7dHJ5e3JlLnNldChyLGkpLGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKGUse25hbWVzcGFjZXM6cy5uYW1lc3BhY2VzfSksYXdhaXQgdGhpcy5zZW5kUmVzdWx0KHtpZDppLHRvcGljOmUscmVzdWx0OiEwLHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSl9Y2F0Y2goYSl7dGhyb3cgcmUuZGVsZXRlKHIpLGF9dGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3VwZGF0ZVwiLHtpZDppLHRvcGljOmUscGFyYW1zOnN9KX1jYXRjaChyKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6aSx0b3BpYzplLGVycm9yOnJ9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3Iocil9fSx0aGlzLmlzUmVxdWVzdE91dE9mU3luYz0oZSx0KT0+dC50b1N0cmluZygpLnNsaWNlKDAsLTMpPGUudG9TdHJpbmcoKS5zbGljZSgwLC0zKSx0aGlzLm9uU2Vzc2lvblVwZGF0ZVJlc3BvbnNlPShlLHQpPT57Y29uc3R7aWQ6c309dCxpPWcoXCJzZXNzaW9uX3VwZGF0ZVwiLHMpO2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQoaSk9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtpfSB3aXRob3V0IGFueSBsaXN0ZW5lcnNgKTtLKHQpP3RoaXMuZXZlbnRzLmVtaXQoZyhcInNlc3Npb25fdXBkYXRlXCIscykse30pOlUodCkmJnRoaXMuZXZlbnRzLmVtaXQoZyhcInNlc3Npb25fdXBkYXRlXCIscykse2Vycm9yOnQuZXJyb3J9KX0sdGhpcy5vblNlc3Npb25FeHRlbmRSZXF1ZXN0PWFzeW5jKGUsdCk9Pntjb25zdHtpZDpzfT10O3RyeXt0aGlzLmlzVmFsaWRFeHRlbmQoe3RvcGljOmV9KSxhd2FpdCB0aGlzLnNldEV4cGlyeShlLGIoSCkpLGF3YWl0IHRoaXMuc2VuZFJlc3VsdCh7aWQ6cyx0b3BpYzplLHJlc3VsdDohMCx0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9leHRlbmRcIix7aWQ6cyx0b3BpYzplfSl9Y2F0Y2goaSl7YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOnMsdG9waWM6ZSxlcnJvcjppfSksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGkpfX0sdGhpcy5vblNlc3Npb25FeHRlbmRSZXNwb25zZT0oZSx0KT0+e2NvbnN0e2lkOnN9PXQsaT1nKFwic2Vzc2lvbl9leHRlbmRcIixzKTtpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KGkpPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7aX0gd2l0aG91dCBhbnkgbGlzdGVuZXJzYCk7Syh0KT90aGlzLmV2ZW50cy5lbWl0KGcoXCJzZXNzaW9uX2V4dGVuZFwiLHMpLHt9KTpVKHQpJiZ0aGlzLmV2ZW50cy5lbWl0KGcoXCJzZXNzaW9uX2V4dGVuZFwiLHMpLHtlcnJvcjp0LmVycm9yfSl9LHRoaXMub25TZXNzaW9uUGluZ1JlcXVlc3Q9YXN5bmMoZSx0KT0+e2NvbnN0e2lkOnN9PXQ7dHJ5e3RoaXMuaXNWYWxpZFBpbmcoe3RvcGljOmV9KSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOnMsdG9waWM6ZSxyZXN1bHQ6ITAsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcGluZ1wiLHtpZDpzLHRvcGljOmV9KX1jYXRjaChpKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6cyx0b3BpYzplLGVycm9yOml9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoaSl9fSx0aGlzLm9uU2Vzc2lvblBpbmdSZXNwb25zZT0oZSx0KT0+e2NvbnN0e2lkOnN9PXQsaT1nKFwic2Vzc2lvbl9waW5nXCIscyk7aWYodGhpcy5ldmVudHMubGlzdGVuZXJDb3VudChpKT09PTApdGhyb3cgbmV3IEVycm9yKGBlbWl0dGluZyAke2l9IHdpdGhvdXQgYW55IGxpc3RlbmVyc2ApO3NldFRpbWVvdXQoKCk9PntLKHQpP3RoaXMuZXZlbnRzLmVtaXQoZyhcInNlc3Npb25fcGluZ1wiLHMpLHt9KTpVKHQpJiZ0aGlzLmV2ZW50cy5lbWl0KGcoXCJzZXNzaW9uX3BpbmdcIixzKSx7ZXJyb3I6dC5lcnJvcn0pfSw1MDApfSx0aGlzLm9uU2Vzc2lvbkRlbGV0ZVJlcXVlc3Q9YXN5bmMoZSx0KT0+e2NvbnN0e2lkOnN9PXQ7dHJ5e3RoaXMuaXNWYWxpZERpc2Nvbm5lY3Qoe3RvcGljOmUscmVhc29uOnQucGFyYW1zfSksUHJvbWlzZS5hbGwoW25ldyBQcm9taXNlKGk9Pnt0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIub25jZShHZS5wdWJsaXNoLGFzeW5jKCk9PntpKGF3YWl0IHRoaXMuZGVsZXRlU2Vzc2lvbih7dG9waWM6ZSxpZDpzfSkpfSl9KSx0aGlzLnNlbmRSZXN1bHQoe2lkOnMsdG9waWM6ZSxyZXN1bHQ6ITAsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSx0aGlzLmNsZWFudXBQZW5kaW5nU2VudFJlcXVlc3RzRm9yVG9waWMoe3RvcGljOmUsZXJyb3I6UChcIlVTRVJfRElTQ09OTkVDVEVEXCIpfSldKS5jYXRjaChpPT50aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoaSkpfWNhdGNoKGkpe3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihpKX19LHRoaXMub25TZXNzaW9uUmVxdWVzdD1hc3luYyBlPT57dmFyIHQscyxpO2NvbnN0e3RvcGljOnIscGF5bG9hZDpuLGF0dGVzdGF0aW9uOmEsZW5jcnlwdGVkSWQ6Yyx0cmFuc3BvcnRUeXBlOmh9PWUse2lkOnAscGFyYW1zOmR9PW47dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFJlcXVlc3QoSSh7dG9waWM6cn0sZCkpO2NvbnN0IGw9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQociksdz1hd2FpdCB0aGlzLmdldFZlcmlmeUNvbnRleHQoe2F0dGVzdGF0aW9uSWQ6YSxoYXNoOkooSlNPTi5zdHJpbmdpZnkoZ2UoXCJ3Y19zZXNzaW9uUmVxdWVzdFwiLGQscCkpKSxlbmNyeXB0ZWRJZDpjLG1ldGFkYXRhOmwucGVlci5tZXRhZGF0YSx0cmFuc3BvcnRUeXBlOmh9KSxtPXtpZDpwLHRvcGljOnIscGFyYW1zOmQsdmVyaWZ5Q29udGV4dDp3fTthd2FpdCB0aGlzLnNldFBlbmRpbmdTZXNzaW9uUmVxdWVzdChtKSxoPT09Zi5saW5rX21vZGUmJih0PWwucGVlci5tZXRhZGF0YS5yZWRpcmVjdCkhPW51bGwmJnQudW5pdmVyc2FsJiZ0aGlzLmNsaWVudC5jb3JlLmFkZExpbmtNb2RlU3VwcG9ydGVkQXBwKChzPWwucGVlci5tZXRhZGF0YS5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOnMudW5pdmVyc2FsKSwoaT10aGlzLmNsaWVudC5zaWduQ29uZmlnKSE9bnVsbCYmaS5kaXNhYmxlUmVxdWVzdFF1ZXVlP3RoaXMuZW1pdFNlc3Npb25SZXF1ZXN0KG0pOih0aGlzLmFkZFNlc3Npb25SZXF1ZXN0VG9TZXNzaW9uUmVxdWVzdFF1ZXVlKG0pLHRoaXMucHJvY2Vzc1Nlc3Npb25SZXF1ZXN0UXVldWUoKSl9Y2F0Y2gobCl7YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOnAsdG9waWM6cixlcnJvcjpsfSksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGwpfX0sdGhpcy5vblNlc3Npb25SZXF1ZXN0UmVzcG9uc2U9KGUsdCk9Pntjb25zdHtpZDpzfT10LGk9ZyhcInNlc3Npb25fcmVxdWVzdFwiLHMpO2lmKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQoaSk9PT0wKXRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtpfSB3aXRob3V0IGFueSBsaXN0ZW5lcnNgKTtLKHQpP3RoaXMuZXZlbnRzLmVtaXQoZyhcInNlc3Npb25fcmVxdWVzdFwiLHMpLHtyZXN1bHQ6dC5yZXN1bHR9KTpVKHQpJiZ0aGlzLmV2ZW50cy5lbWl0KGcoXCJzZXNzaW9uX3JlcXVlc3RcIixzKSx7ZXJyb3I6dC5lcnJvcn0pfSx0aGlzLm9uU2Vzc2lvbkV2ZW50UmVxdWVzdD1hc3luYyhlLHQpPT57Y29uc3R7aWQ6cyxwYXJhbXM6aX09dDt0cnl7Y29uc3Qgcj1gJHtlfV9zZXNzaW9uX2V2ZW50XyR7aS5ldmVudC5uYW1lfWAsbj1yZS5nZXQocik7aWYobiYmdGhpcy5pc1JlcXVlc3RPdXRPZlN5bmMobixzKSl7dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYERpc2NhcmRpbmcgb3V0IG9mIHN5bmMgcmVxdWVzdCAtICR7c31gKTtyZXR1cm59dGhpcy5pc1ZhbGlkRW1pdChJKHt0b3BpYzplfSxpKSksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX2V2ZW50XCIse2lkOnMsdG9waWM6ZSxwYXJhbXM6aX0pLHJlLnNldChyLHMpfWNhdGNoKHIpe2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDpzLHRvcGljOmUsZXJyb3I6cn0pLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihyKX19LHRoaXMub25TZXNzaW9uQXV0aGVudGljYXRlUmVzcG9uc2U9KGUsdCk9Pntjb25zdHtpZDpzfT10O3RoaXMuY2xpZW50LmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcIm9uU2Vzc2lvbkF1dGhlbnRpY2F0ZVJlc3BvbnNlXCIsdG9waWM6ZSxwYXlsb2FkOnR9KSxLKHQpP3RoaXMuZXZlbnRzLmVtaXQoZyhcInNlc3Npb25fcmVxdWVzdFwiLHMpLHtyZXN1bHQ6dC5yZXN1bHR9KTpVKHQpJiZ0aGlzLmV2ZW50cy5lbWl0KGcoXCJzZXNzaW9uX3JlcXVlc3RcIixzKSx7ZXJyb3I6dC5lcnJvcn0pfSx0aGlzLm9uU2Vzc2lvbkF1dGhlbnRpY2F0ZVJlcXVlc3Q9YXN5bmMgZT0+e3ZhciB0O2NvbnN0e3RvcGljOnMscGF5bG9hZDppLGF0dGVzdGF0aW9uOnIsZW5jcnlwdGVkSWQ6bix0cmFuc3BvcnRUeXBlOmF9PWU7dHJ5e2NvbnN0e3JlcXVlc3RlcjpjLGF1dGhQYXlsb2FkOmgsZXhwaXJ5VGltZXN0YW1wOnB9PWkucGFyYW1zLGQ9YXdhaXQgdGhpcy5nZXRWZXJpZnlDb250ZXh0KHthdHRlc3RhdGlvbklkOnIsaGFzaDpKKEpTT04uc3RyaW5naWZ5KGkpKSxlbmNyeXB0ZWRJZDpuLG1ldGFkYXRhOmMubWV0YWRhdGEsdHJhbnNwb3J0VHlwZTphfSksbD17cmVxdWVzdGVyOmMscGFpcmluZ1RvcGljOnMsaWQ6aS5pZCxhdXRoUGF5bG9hZDpoLHZlcmlmeUNvbnRleHQ6ZCxleHBpcnlUaW1lc3RhbXA6cH07YXdhaXQgdGhpcy5zZXRBdXRoUmVxdWVzdChpLmlkLHtyZXF1ZXN0OmwscGFpcmluZ1RvcGljOnMsdHJhbnNwb3J0VHlwZTphfSksYT09PWYubGlua19tb2RlJiYodD1jLm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmdC51bml2ZXJzYWwmJnRoaXMuY2xpZW50LmNvcmUuYWRkTGlua01vZGVTdXBwb3J0ZWRBcHAoYy5tZXRhZGF0YS5yZWRpcmVjdC51bml2ZXJzYWwpLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9hdXRoZW50aWNhdGVcIix7dG9waWM6cyxwYXJhbXM6aS5wYXJhbXMsaWQ6aS5pZCx2ZXJpZnlDb250ZXh0OmR9KX1jYXRjaChjKXt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYyk7Y29uc3QgaD1pLnBhcmFtcy5yZXF1ZXN0ZXIucHVibGljS2V5LHA9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksZD10aGlzLmdldEFwcExpbmtJZkVuYWJsZWQoaS5wYXJhbXMucmVxdWVzdGVyLm1ldGFkYXRhLGEpLGw9e3R5cGU6YmUscmVjZWl2ZXJQdWJsaWNLZXk6aCxzZW5kZXJQdWJsaWNLZXk6cH07YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOmkuaWQsdG9waWM6cyxlcnJvcjpjLGVuY29kZU9wdHM6bCxycGNPcHRzOnYud2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZS5hdXRvUmVqZWN0LGFwcExpbms6ZH0pfX0sdGhpcy5hZGRTZXNzaW9uUmVxdWVzdFRvU2Vzc2lvblJlcXVlc3RRdWV1ZT1lPT57dGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnF1ZXVlLnB1c2goZSl9LHRoaXMuY2xlYW51cEFmdGVyUmVzcG9uc2U9ZT0+e3RoaXMuZGVsZXRlUGVuZGluZ1Nlc3Npb25SZXF1ZXN0KGUucmVzcG9uc2UuaWQse21lc3NhZ2U6XCJmdWxmaWxsZWRcIixjb2RlOjB9KSxzZXRUaW1lb3V0KCgpPT57dGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnN0YXRlPXguaWRsZSx0aGlzLnByb2Nlc3NTZXNzaW9uUmVxdWVzdFF1ZXVlKCl9LFRlKHRoaXMucmVxdWVzdFF1ZXVlRGVsYXkpKX0sdGhpcy5jbGVhbnVwUGVuZGluZ1NlbnRSZXF1ZXN0c0ZvclRvcGljPSh7dG9waWM6ZSxlcnJvcjp0fSk9Pntjb25zdCBzPXRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5wZW5kaW5nO3MubGVuZ3RoPjAmJnMuZmlsdGVyKGk9PmkudG9waWM9PT1lJiZpLnJlcXVlc3QubWV0aG9kPT09XCJ3Y19zZXNzaW9uUmVxdWVzdFwiKS5mb3JFYWNoKGk9Pntjb25zdCByPWkucmVxdWVzdC5pZCxuPWcoXCJzZXNzaW9uX3JlcXVlc3RcIixyKTtpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KG4pPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7bn0gd2l0aG91dCBhbnkgbGlzdGVuZXJzYCk7dGhpcy5ldmVudHMuZW1pdChnKFwic2Vzc2lvbl9yZXF1ZXN0XCIsaS5yZXF1ZXN0LmlkKSx7ZXJyb3I6dH0pfSl9LHRoaXMucHJvY2Vzc1Nlc3Npb25SZXF1ZXN0UXVldWU9KCk9PntpZih0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUuc3RhdGU9PT14LmFjdGl2ZSl7dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oXCJzZXNzaW9uIHJlcXVlc3QgcXVldWUgaXMgYWxyZWFkeSBhY3RpdmUuXCIpO3JldHVybn1jb25zdCBlPXRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZVswXTtpZighZSl7dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oXCJzZXNzaW9uIHJlcXVlc3QgcXVldWUgaXMgZW1wdHkuXCIpO3JldHVybn10cnl7dGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnN0YXRlPXguYWN0aXZlLHRoaXMuZW1pdFNlc3Npb25SZXF1ZXN0KGUpfWNhdGNoKHQpe3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcih0KX19LHRoaXMuZW1pdFNlc3Npb25SZXF1ZXN0PWU9Pnt0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcmVxdWVzdFwiLGUpfSx0aGlzLm9uUGFpcmluZ0NyZWF0ZWQ9ZT0+e2lmKGUubWV0aG9kcyYmdGhpcy5leHBlY3RlZFBhaXJpbmdNZXRob2RNYXAuc2V0KGUudG9waWMsZS5tZXRob2RzKSxlLmFjdGl2ZSlyZXR1cm47Y29uc3QgdD10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXRBbGwoKS5maW5kKHM9PnMucGFpcmluZ1RvcGljPT09ZS50b3BpYyk7dCYmdGhpcy5vblNlc3Npb25Qcm9wb3NlUmVxdWVzdCh7dG9waWM6ZS50b3BpYyxwYXlsb2FkOmdlKFwid2Nfc2Vzc2lvblByb3Bvc2VcIix7cmVxdWlyZWROYW1lc3BhY2VzOnQucmVxdWlyZWROYW1lc3BhY2VzLG9wdGlvbmFsTmFtZXNwYWNlczp0Lm9wdGlvbmFsTmFtZXNwYWNlcyxyZWxheXM6dC5yZWxheXMscHJvcG9zZXI6dC5wcm9wb3NlcixzZXNzaW9uUHJvcGVydGllczp0LnNlc3Npb25Qcm9wZXJ0aWVzfSx0LmlkKX0pfSx0aGlzLmlzVmFsaWRDb25uZWN0PWFzeW5jIGU9PntpZighTChlKSl7Y29uc3R7bWVzc2FnZTphfT11KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGNvbm5lY3QoKSBwYXJhbXM6ICR7SlNPTi5zdHJpbmdpZnkoZSl9YCk7dGhyb3cgbmV3IEVycm9yKGEpfWNvbnN0e3BhaXJpbmdUb3BpYzp0LHJlcXVpcmVkTmFtZXNwYWNlczpzLG9wdGlvbmFsTmFtZXNwYWNlczppLHNlc3Npb25Qcm9wZXJ0aWVzOnIscmVsYXlzOm59PWU7aWYobmUodCl8fGF3YWl0IHRoaXMuaXNWYWxpZFBhaXJpbmdUb3BpYyh0KSwhS3QobiwhMCkpe2NvbnN0e21lc3NhZ2U6YX09dShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBjb25uZWN0KCkgcmVsYXlzOiAke259YCk7dGhyb3cgbmV3IEVycm9yKGEpfSFuZShzKSYmWmUocykhPT0wJiZ0aGlzLnZhbGlkYXRlTmFtZXNwYWNlcyhzLFwicmVxdWlyZWROYW1lc3BhY2VzXCIpLCFuZShpKSYmWmUoaSkhPT0wJiZ0aGlzLnZhbGlkYXRlTmFtZXNwYWNlcyhpLFwib3B0aW9uYWxOYW1lc3BhY2VzXCIpLG5lKHIpfHx0aGlzLnZhbGlkYXRlU2Vzc2lvblByb3BzKHIsXCJzZXNzaW9uUHJvcGVydGllc1wiKX0sdGhpcy52YWxpZGF0ZU5hbWVzcGFjZXM9KGUsdCk9Pntjb25zdCBzPVV0KGUsXCJjb25uZWN0KClcIix0KTtpZihzKXRocm93IG5ldyBFcnJvcihzLm1lc3NhZ2UpfSx0aGlzLmlzVmFsaWRBcHByb3ZlPWFzeW5jIGU9PntpZighTChlKSl0aHJvdyBuZXcgRXJyb3IodShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBhcHByb3ZlKCkgcGFyYW1zOiAke2V9YCkubWVzc2FnZSk7Y29uc3R7aWQ6dCxuYW1lc3BhY2VzOnMscmVsYXlQcm90b2NvbDppLHNlc3Npb25Qcm9wZXJ0aWVzOnJ9PWU7dGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZCh0KSxhd2FpdCB0aGlzLmlzVmFsaWRQcm9wb3NhbElkKHQpO2NvbnN0IG49dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KHQpLGE9QWUocyxcImFwcHJvdmUoKVwiKTtpZihhKXRocm93IG5ldyBFcnJvcihhLm1lc3NhZ2UpO2NvbnN0IGM9ZXQobi5yZXF1aXJlZE5hbWVzcGFjZXMscyxcImFwcHJvdmUoKVwiKTtpZihjKXRocm93IG5ldyBFcnJvcihjLm1lc3NhZ2UpO2lmKCEkKGksITApKXtjb25zdHttZXNzYWdlOmh9PXUoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgYXBwcm92ZSgpIHJlbGF5UHJvdG9jb2w6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3IoaCl9bmUocil8fHRoaXMudmFsaWRhdGVTZXNzaW9uUHJvcHMocixcInNlc3Npb25Qcm9wZXJ0aWVzXCIpfSx0aGlzLmlzVmFsaWRSZWplY3Q9YXN5bmMgZT0+e2lmKCFMKGUpKXtjb25zdHttZXNzYWdlOml9PXUoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVqZWN0KCkgcGFyYW1zOiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKGkpfWNvbnN0e2lkOnQscmVhc29uOnN9PWU7aWYodGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZCh0KSxhd2FpdCB0aGlzLmlzVmFsaWRQcm9wb3NhbElkKHQpLCFHdChzKSl7Y29uc3R7bWVzc2FnZTppfT11KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlamVjdCgpIHJlYXNvbjogJHtKU09OLnN0cmluZ2lmeShzKX1gKTt0aHJvdyBuZXcgRXJyb3IoaSl9fSx0aGlzLmlzVmFsaWRTZXNzaW9uU2V0dGxlUmVxdWVzdD1lPT57aWYoIUwoZSkpe2NvbnN0e21lc3NhZ2U6Y309dShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBvblNlc3Npb25TZXR0bGVSZXF1ZXN0KCkgcGFyYW1zOiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKGMpfWNvbnN0e3JlbGF5OnQsY29udHJvbGxlcjpzLG5hbWVzcGFjZXM6aSxleHBpcnk6cn09ZTtpZighanQodCkpe2NvbnN0e21lc3NhZ2U6Y309dShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLFwib25TZXNzaW9uU2V0dGxlUmVxdWVzdCgpIHJlbGF5IHByb3RvY29sIHNob3VsZCBiZSBhIHN0cmluZ1wiKTt0aHJvdyBuZXcgRXJyb3IoYyl9Y29uc3Qgbj1GdChzLFwib25TZXNzaW9uU2V0dGxlUmVxdWVzdCgpXCIpO2lmKG4pdGhyb3cgbmV3IEVycm9yKG4ubWVzc2FnZSk7Y29uc3QgYT1BZShpLFwib25TZXNzaW9uU2V0dGxlUmVxdWVzdCgpXCIpO2lmKGEpdGhyb3cgbmV3IEVycm9yKGEubWVzc2FnZSk7aWYoQihyKSl7Y29uc3R7bWVzc2FnZTpjfT11KFwiRVhQSVJFRFwiLFwib25TZXNzaW9uU2V0dGxlUmVxdWVzdCgpXCIpO3Rocm93IG5ldyBFcnJvcihjKX19LHRoaXMuaXNWYWxpZFVwZGF0ZT1hc3luYyBlPT57aWYoIUwoZSkpe2NvbnN0e21lc3NhZ2U6YX09dShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGB1cGRhdGUoKSBwYXJhbXM6ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3IoYSl9Y29uc3R7dG9waWM6dCxuYW1lc3BhY2VzOnN9PWU7dGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZCh0KSxhd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWModCk7Y29uc3QgaT10aGlzLmNsaWVudC5zZXNzaW9uLmdldCh0KSxyPUFlKHMsXCJ1cGRhdGUoKVwiKTtpZihyKXRocm93IG5ldyBFcnJvcihyLm1lc3NhZ2UpO2NvbnN0IG49ZXQoaS5yZXF1aXJlZE5hbWVzcGFjZXMscyxcInVwZGF0ZSgpXCIpO2lmKG4pdGhyb3cgbmV3IEVycm9yKG4ubWVzc2FnZSl9LHRoaXMuaXNWYWxpZEV4dGVuZD1hc3luYyBlPT57aWYoIUwoZSkpe2NvbnN0e21lc3NhZ2U6c309dShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBleHRlbmQoKSBwYXJhbXM6ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9Y29uc3R7dG9waWM6dH09ZTt0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKHQpLGF3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyh0KX0sdGhpcy5pc1ZhbGlkUmVxdWVzdD1hc3luYyBlPT57aWYoIUwoZSkpe2NvbnN0e21lc3NhZ2U6YX09dShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZXF1ZXN0KCkgcGFyYW1zOiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKGEpfWNvbnN0e3RvcGljOnQscmVxdWVzdDpzLGNoYWluSWQ6aSxleHBpcnk6cn09ZTt0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKHQpLGF3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyh0KTtjb25zdHtuYW1lc3BhY2VzOm59PXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KHQpO2lmKCF0dChuLGkpKXtjb25zdHttZXNzYWdlOmF9PXUoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVxdWVzdCgpIGNoYWluSWQ6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3IoYSl9aWYoIVF0KHMpKXtjb25zdHttZXNzYWdlOmF9PXUoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVxdWVzdCgpICR7SlNPTi5zdHJpbmdpZnkocyl9YCk7dGhyb3cgbmV3IEVycm9yKGEpfWlmKCF6dChuLGkscy5tZXRob2QpKXtjb25zdHttZXNzYWdlOmF9PXUoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVxdWVzdCgpIG1ldGhvZDogJHtzLm1ldGhvZH1gKTt0aHJvdyBuZXcgRXJyb3IoYSl9aWYociYmIUh0KHIsbWUpKXtjb25zdHttZXNzYWdlOmF9PXUoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVxdWVzdCgpIGV4cGlyeTogJHtyfS4gRXhwaXJ5IG11c3QgYmUgYSBudW1iZXIgKGluIHNlY29uZHMpIGJldHdlZW4gJHttZS5taW59IGFuZCAke21lLm1heH1gKTt0aHJvdyBuZXcgRXJyb3IoYSl9fSx0aGlzLmlzVmFsaWRSZXNwb25kPWFzeW5jIGU9Pnt2YXIgdDtpZighTChlKSl7Y29uc3R7bWVzc2FnZTpyfT11KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlc3BvbmQoKSBwYXJhbXM6ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3Iocil9Y29uc3R7dG9waWM6cyxyZXNwb25zZTppfT1lO3RyeXthd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWMocyl9Y2F0Y2gocil7dGhyb3codD1lPy5yZXNwb25zZSkhPW51bGwmJnQuaWQmJnRoaXMuY2xlYW51cEFmdGVyUmVzcG9uc2UoZSkscn1pZighWXQoaSkpe2NvbnN0e21lc3NhZ2U6cn09dShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZXNwb25kKCkgcmVzcG9uc2U6ICR7SlNPTi5zdHJpbmdpZnkoaSl9YCk7dGhyb3cgbmV3IEVycm9yKHIpfX0sdGhpcy5pc1ZhbGlkUGluZz1hc3luYyBlPT57aWYoIUwoZSkpe2NvbnN0e21lc3NhZ2U6c309dShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBwaW5nKCkgcGFyYW1zOiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKHMpfWNvbnN0e3RvcGljOnR9PWU7YXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvbk9yUGFpcmluZ1RvcGljKHQpfSx0aGlzLmlzVmFsaWRFbWl0PWFzeW5jIGU9PntpZighTChlKSl7Y29uc3R7bWVzc2FnZTpufT11KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGVtaXQoKSBwYXJhbXM6ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3Iobil9Y29uc3R7dG9waWM6dCxldmVudDpzLGNoYWluSWQ6aX09ZTthd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWModCk7Y29uc3R7bmFtZXNwYWNlczpyfT10aGlzLmNsaWVudC5zZXNzaW9uLmdldCh0KTtpZighdHQocixpKSl7Y29uc3R7bWVzc2FnZTpufT11KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGVtaXQoKSBjaGFpbklkOiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKG4pfWlmKCFYdChzKSl7Y29uc3R7bWVzc2FnZTpufT11KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGVtaXQoKSBldmVudDogJHtKU09OLnN0cmluZ2lmeShzKX1gKTt0aHJvdyBuZXcgRXJyb3Iobil9aWYoIUp0KHIsaSxzLm5hbWUpKXtjb25zdHttZXNzYWdlOm59PXUoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgZW1pdCgpIGV2ZW50OiAke0pTT04uc3RyaW5naWZ5KHMpfWApO3Rocm93IG5ldyBFcnJvcihuKX19LHRoaXMuaXNWYWxpZERpc2Nvbm5lY3Q9YXN5bmMgZT0+e2lmKCFMKGUpKXtjb25zdHttZXNzYWdlOnN9PXUoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgZGlzY29ubmVjdCgpIHBhcmFtczogJHtlfWApO3Rocm93IG5ldyBFcnJvcihzKX1jb25zdHt0b3BpYzp0fT1lO2F3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25PclBhaXJpbmdUb3BpYyh0KX0sdGhpcy5pc1ZhbGlkQXV0aGVudGljYXRlPWU9Pntjb25zdHtjaGFpbnM6dCx1cmk6cyxkb21haW46aSxub25jZTpyfT1lO2lmKCFBcnJheS5pc0FycmF5KHQpfHx0Lmxlbmd0aD09PTApdGhyb3cgbmV3IEVycm9yKFwiY2hhaW5zIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIGEgbm9uLWVtcHR5IGFycmF5XCIpO2lmKCEkKHMsITEpKXRocm93IG5ldyBFcnJvcihcInVyaSBpcyByZXF1aXJlZCBwYXJhbWV0ZXJcIik7aWYoISQoaSwhMSkpdGhyb3cgbmV3IEVycm9yKFwiZG9tYWluIGlzIHJlcXVpcmVkIHBhcmFtZXRlclwiKTtpZighJChyLCExKSl0aHJvdyBuZXcgRXJyb3IoXCJub25jZSBpcyByZXF1aXJlZCBwYXJhbWV0ZXJcIik7aWYoWy4uLm5ldyBTZXQodC5tYXAoYT0+UGUoYSkubmFtZXNwYWNlKSldLmxlbmd0aD4xKXRocm93IG5ldyBFcnJvcihcIk11bHRpLW5hbWVzcGFjZSByZXF1ZXN0cyBhcmUgbm90IHN1cHBvcnRlZC4gUGxlYXNlIHJlcXVlc3Qgc2luZ2xlIG5hbWVzcGFjZSBvbmx5LlwiKTtjb25zdHtuYW1lc3BhY2U6bn09UGUodFswXSk7aWYobiE9PVwiZWlwMTU1XCIpdGhyb3cgbmV3IEVycm9yKFwiT25seSBlaXAxNTUgbmFtZXNwYWNlIGlzIHN1cHBvcnRlZCBmb3IgYXV0aGVudGljYXRlZCBzZXNzaW9ucy4gUGxlYXNlIHVzZSAuY29ubmVjdCgpIGZvciBub24tZWlwMTU1IGNoYWlucy5cIil9LHRoaXMuZ2V0VmVyaWZ5Q29udGV4dD1hc3luYyBlPT57Y29uc3R7YXR0ZXN0YXRpb25JZDp0LGhhc2g6cyxlbmNyeXB0ZWRJZDppLG1ldGFkYXRhOnIsdHJhbnNwb3J0VHlwZTpufT1lLGE9e3ZlcmlmaWVkOnt2ZXJpZnlVcmw6ci52ZXJpZnlVcmx8fGZ0LHZhbGlkYXRpb246XCJVTktOT1dOXCIsb3JpZ2luOnIudXJsfHxcIlwifX07dHJ5e2lmKG49PT1mLmxpbmtfbW9kZSl7Y29uc3QgaD10aGlzLmdldEFwcExpbmtJZkVuYWJsZWQocixuKTtyZXR1cm4gYS52ZXJpZmllZC52YWxpZGF0aW9uPWgmJm5ldyBVUkwoaCkub3JpZ2luPT09bmV3IFVSTChyLnVybCkub3JpZ2luP1wiVkFMSURcIjpcIklOVkFMSURcIixhfWNvbnN0IGM9YXdhaXQgdGhpcy5jbGllbnQuY29yZS52ZXJpZnkucmVzb2x2ZSh7YXR0ZXN0YXRpb25JZDp0LGhhc2g6cyxlbmNyeXB0ZWRJZDppLHZlcmlmeVVybDpyLnZlcmlmeVVybH0pO2MmJihhLnZlcmlmaWVkLm9yaWdpbj1jLm9yaWdpbixhLnZlcmlmaWVkLmlzU2NhbT1jLmlzU2NhbSxhLnZlcmlmaWVkLnZhbGlkYXRpb249Yy5vcmlnaW49PT1uZXcgVVJMKHIudXJsKS5vcmlnaW4/XCJWQUxJRFwiOlwiSU5WQUxJRFwiKX1jYXRjaChjKXt0aGlzLmNsaWVudC5sb2dnZXIud2FybihjKX1yZXR1cm4gdGhpcy5jbGllbnQubG9nZ2VyLmRlYnVnKGBWZXJpZnkgY29udGV4dDogJHtKU09OLnN0cmluZ2lmeShhKX1gKSxhfSx0aGlzLnZhbGlkYXRlU2Vzc2lvblByb3BzPShlLHQpPT57T2JqZWN0LnZhbHVlcyhlKS5mb3JFYWNoKHM9PntpZighJChzLCExKSl7Y29uc3R7bWVzc2FnZTppfT11KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYCR7dH0gbXVzdCBiZSBpbiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IGZvcm1hdC4gUmVjZWl2ZWQ6ICR7SlNPTi5zdHJpbmdpZnkocyl9YCk7dGhyb3cgbmV3IEVycm9yKGkpfX0pfSx0aGlzLmdldFBlbmRpbmdBdXRoUmVxdWVzdD1lPT57Y29uc3QgdD10aGlzLmNsaWVudC5hdXRoLnJlcXVlc3RzLmdldChlKTtyZXR1cm4gdHlwZW9mIHQ9PVwib2JqZWN0XCI/dDp2b2lkIDB9LHRoaXMuYWRkVG9SZWNlbnRseURlbGV0ZWQ9KGUsdCk9PntpZih0aGlzLnJlY2VudGx5RGVsZXRlZE1hcC5zZXQoZSx0KSx0aGlzLnJlY2VudGx5RGVsZXRlZE1hcC5zaXplPj10aGlzLnJlY2VudGx5RGVsZXRlZExpbWl0KXtsZXQgcz0wO2NvbnN0IGk9dGhpcy5yZWNlbnRseURlbGV0ZWRMaW1pdC8yO2Zvcihjb25zdCByIG9mIHRoaXMucmVjZW50bHlEZWxldGVkTWFwLmtleXMoKSl7aWYocysrPj1pKWJyZWFrO3RoaXMucmVjZW50bHlEZWxldGVkTWFwLmRlbGV0ZShyKX19fSx0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkPWU9Pntjb25zdCB0PXRoaXMucmVjZW50bHlEZWxldGVkTWFwLmdldChlKTtpZih0KXtjb25zdHttZXNzYWdlOnN9PXUoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgUmVjb3JkIHdhcyByZWNlbnRseSBkZWxldGVkIC0gJHt0fTogJHtlfWApO3Rocm93IG5ldyBFcnJvcihzKX19LHRoaXMuaXNMaW5rTW9kZUVuYWJsZWQ9KGUsdCk9Pnt2YXIgcyxpLHIsbixhLGMsaCxwLGQ7cmV0dXJuIWV8fHQhPT1mLmxpbmtfbW9kZT8hMTooKGk9KHM9dGhpcy5jbGllbnQubWV0YWRhdGEpPT1udWxsP3ZvaWQgMDpzLnJlZGlyZWN0KT09bnVsbD92b2lkIDA6aS5saW5rTW9kZSk9PT0hMCYmKChuPShyPXRoaXMuY2xpZW50Lm1ldGFkYXRhKT09bnVsbD92b2lkIDA6ci5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOm4udW5pdmVyc2FsKSE9PXZvaWQgMCYmKChjPShhPXRoaXMuY2xpZW50Lm1ldGFkYXRhKT09bnVsbD92b2lkIDA6YS5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOmMudW5pdmVyc2FsKSE9PVwiXCImJigoaD1lPy5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOmgudW5pdmVyc2FsKSE9PXZvaWQgMCYmKChwPWU/LnJlZGlyZWN0KT09bnVsbD92b2lkIDA6cC51bml2ZXJzYWwpIT09XCJcIiYmKChkPWU/LnJlZGlyZWN0KT09bnVsbD92b2lkIDA6ZC5saW5rTW9kZSk9PT0hMCYmdGhpcy5jbGllbnQuY29yZS5saW5rTW9kZVN1cHBvcnRlZEFwcHMuaW5jbHVkZXMoZS5yZWRpcmVjdC51bml2ZXJzYWwpJiZ0eXBlb2YoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuTGlua2luZyk8XCJ1XCJ9LHRoaXMuZ2V0QXBwTGlua0lmRW5hYmxlZD0oZSx0KT0+e3ZhciBzO3JldHVybiB0aGlzLmlzTGlua01vZGVFbmFibGVkKGUsdCk/KHM9ZT8ucmVkaXJlY3QpPT1udWxsP3ZvaWQgMDpzLnVuaXZlcnNhbDp2b2lkIDB9LHRoaXMuaGFuZGxlTGlua01vZGVNZXNzYWdlPSh7dXJsOmV9KT0+e2lmKCFlfHwhZS5pbmNsdWRlcyhcIndjX2V2XCIpfHwhZS5pbmNsdWRlcyhcInRvcGljXCIpKXJldHVybjtjb25zdCB0PXN0KGUsXCJ0b3BpY1wiKXx8XCJcIixzPWRlY29kZVVSSUNvbXBvbmVudChzdChlLFwid2NfZXZcIil8fFwiXCIpLGk9dGhpcy5jbGllbnQuc2Vzc2lvbi5rZXlzLmluY2x1ZGVzKHQpO2kmJnRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKHQse3RyYW5zcG9ydFR5cGU6Zi5saW5rX21vZGV9KSx0aGlzLmNsaWVudC5jb3JlLmRpc3BhdGNoRW52ZWxvcGUoe3RvcGljOnQsbWVzc2FnZTpzLHNlc3Npb25FeGlzdHM6aX0pfSx0aGlzLnJlZ2lzdGVyTGlua01vZGVMaXN0ZW5lcnM9YXN5bmMoKT0+e3ZhciBlO2lmKEJ0KCl8fFd0KCkmJihlPXRoaXMuY2xpZW50Lm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmZS5saW5rTW9kZSl7Y29uc3QgdD1nbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5MaW5raW5nO2lmKHR5cGVvZiB0PFwidVwiKXt0LmFkZEV2ZW50TGlzdGVuZXIoXCJ1cmxcIix0aGlzLmhhbmRsZUxpbmtNb2RlTWVzc2FnZSx0aGlzLmNsaWVudC5uYW1lKTtjb25zdCBzPWF3YWl0IHQuZ2V0SW5pdGlhbFVSTCgpO3MmJnNldFRpbWVvdXQoKCk9Pnt0aGlzLmhhbmRsZUxpbmtNb2RlTWVzc2FnZSh7dXJsOnN9KX0sNTApfX19fWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTpvfT11KFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3Iobyl9fWFzeW5jIGNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKXthd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpfXJlZ2lzdGVyUmVsYXllckV2ZW50cygpe3RoaXMuY2xpZW50LmNvcmUucmVsYXllci5vbihHZS5tZXNzYWdlLG89PnshdGhpcy5pbml0aWFsaXplZHx8dGhpcy5yZWxheU1lc3NhZ2VDYWNoZS5sZW5ndGg+MD90aGlzLnJlbGF5TWVzc2FnZUNhY2hlLnB1c2gobyk6dGhpcy5vblJlbGF5TWVzc2FnZShvKX0pfWFzeW5jIG9uUmVsYXlNZXNzYWdlKG8pe2NvbnN0e3RvcGljOmUsbWVzc2FnZTp0LGF0dGVzdGF0aW9uOnMsdHJhbnNwb3J0VHlwZTppfT1vLHtwdWJsaWNLZXk6cn09dGhpcy5jbGllbnQuYXV0aC5hdXRoS2V5cy5rZXlzLmluY2x1ZGVzKGFlKT90aGlzLmNsaWVudC5hdXRoLmF1dGhLZXlzLmdldChhZSk6e3Jlc3BvbnNlVG9waWM6dm9pZCAwLHB1YmxpY0tleTp2b2lkIDB9LG49YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZGVjb2RlKGUsdCx7cmVjZWl2ZXJQdWJsaWNLZXk6cixlbmNvZGluZzppPT09Zi5saW5rX21vZGU/aWU6ZGV9KTt0cnl7b3Mobik/KHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5zZXQoZSxuKSx0aGlzLm9uUmVsYXlFdmVudFJlcXVlc3Qoe3RvcGljOmUscGF5bG9hZDpuLGF0dGVzdGF0aW9uOnMsdHJhbnNwb3J0VHlwZTppLGVuY3J5cHRlZElkOkoodCl9KSk6YXMobik/KGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5yZXNvbHZlKG4pLGF3YWl0IHRoaXMub25SZWxheUV2ZW50UmVzcG9uc2Uoe3RvcGljOmUscGF5bG9hZDpuLHRyYW5zcG9ydFR5cGU6aX0pLHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5kZWxldGUoZSxuLmlkKSk6dGhpcy5vblJlbGF5RXZlbnRVbmtub3duUGF5bG9hZCh7dG9waWM6ZSxwYXlsb2FkOm4sdHJhbnNwb3J0VHlwZTppfSl9Y2F0Y2goYSl7dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGEpfX1yZWdpc3RlckV4cGlyZXJFdmVudHMoKXt0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIub24odnQuZXhwaXJlZCxhc3luYyBvPT57Y29uc3R7dG9waWM6ZSxpZDp0fT1adChvLnRhcmdldCk7aWYodCYmdGhpcy5jbGllbnQucGVuZGluZ1JlcXVlc3Qua2V5cy5pbmNsdWRlcyh0KSlyZXR1cm4gYXdhaXQgdGhpcy5kZWxldGVQZW5kaW5nU2Vzc2lvblJlcXVlc3QodCx1KFwiRVhQSVJFRFwiKSwhMCk7aWYodCYmdGhpcy5jbGllbnQuYXV0aC5yZXF1ZXN0cy5rZXlzLmluY2x1ZGVzKHQpKXJldHVybiBhd2FpdCB0aGlzLmRlbGV0ZVBlbmRpbmdBdXRoUmVxdWVzdCh0LHUoXCJFWFBJUkVEXCIpLCEwKTtlP3RoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyhlKSYmKGF3YWl0IHRoaXMuZGVsZXRlU2Vzc2lvbih7dG9waWM6ZSxleHBpcmVySGFzRGVsZXRlZDohMH0pLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9leHBpcmVcIix7dG9waWM6ZX0pKTp0JiYoYXdhaXQgdGhpcy5kZWxldGVQcm9wb3NhbCh0LCEwKSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInByb3Bvc2FsX2V4cGlyZVwiLHtpZDp0fSkpfSl9cmVnaXN0ZXJQYWlyaW5nRXZlbnRzKCl7dGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmV2ZW50cy5vbihqZS5jcmVhdGUsbz0+dGhpcy5vblBhaXJpbmdDcmVhdGVkKG8pKSx0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuZXZlbnRzLm9uKGplLmRlbGV0ZSxvPT57dGhpcy5hZGRUb1JlY2VudGx5RGVsZXRlZChvLnRvcGljLFwicGFpcmluZ1wiKX0pfWlzVmFsaWRQYWlyaW5nVG9waWMobyl7aWYoISQobywhMSkpe2NvbnN0e21lc3NhZ2U6ZX09dShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBwYWlyaW5nIHRvcGljIHNob3VsZCBiZSBhIHN0cmluZzogJHtvfWApO3Rocm93IG5ldyBFcnJvcihlKX1pZighdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMobykpe2NvbnN0e21lc3NhZ2U6ZX09dShcIk5PX01BVENISU5HX0tFWVwiLGBwYWlyaW5nIHRvcGljIGRvZXNuJ3QgZXhpc3Q6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IoZSl9aWYoQih0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3MuZ2V0KG8pLmV4cGlyeSkpe2NvbnN0e21lc3NhZ2U6ZX09dShcIkVYUElSRURcIixgcGFpcmluZyB0b3BpYzogJHtvfWApO3Rocm93IG5ldyBFcnJvcihlKX19YXN5bmMgaXNWYWxpZFNlc3Npb25Ub3BpYyhvKXtpZighJChvLCExKSl7Y29uc3R7bWVzc2FnZTplfT11KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHNlc3Npb24gdG9waWMgc2hvdWxkIGJlIGEgc3RyaW5nOiAke299YCk7dGhyb3cgbmV3IEVycm9yKGUpfWlmKHRoaXMuY2hlY2tSZWNlbnRseURlbGV0ZWQobyksIXRoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyhvKSl7Y29uc3R7bWVzc2FnZTplfT11KFwiTk9fTUFUQ0hJTkdfS0VZXCIsYHNlc3Npb24gdG9waWMgZG9lc24ndCBleGlzdDogJHtvfWApO3Rocm93IG5ldyBFcnJvcihlKX1pZihCKHRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KG8pLmV4cGlyeSkpe2F3YWl0IHRoaXMuZGVsZXRlU2Vzc2lvbih7dG9waWM6b30pO2NvbnN0e21lc3NhZ2U6ZX09dShcIkVYUElSRURcIixgc2Vzc2lvbiB0b3BpYzogJHtvfWApO3Rocm93IG5ldyBFcnJvcihlKX1pZighdGhpcy5jbGllbnQuY29yZS5jcnlwdG8ua2V5Y2hhaW4uaGFzKG8pKXtjb25zdHttZXNzYWdlOmV9PXUoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgc2Vzc2lvbiB0b3BpYyBkb2VzIG5vdCBleGlzdCBpbiBrZXljaGFpbjogJHtvfWApO3Rocm93IGF3YWl0IHRoaXMuZGVsZXRlU2Vzc2lvbih7dG9waWM6b30pLG5ldyBFcnJvcihlKX19YXN5bmMgaXNWYWxpZFNlc3Npb25PclBhaXJpbmdUb3BpYyhvKXtpZih0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKG8pLHRoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyhvKSlhd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWMobyk7ZWxzZSBpZih0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyhvKSl0aGlzLmlzVmFsaWRQYWlyaW5nVG9waWMobyk7ZWxzZSBpZigkKG8sITEpKXtjb25zdHttZXNzYWdlOmV9PXUoXCJOT19NQVRDSElOR19LRVlcIixgc2Vzc2lvbiBvciBwYWlyaW5nIHRvcGljIGRvZXNuJ3QgZXhpc3Q6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IoZSl9ZWxzZXtjb25zdHttZXNzYWdlOmV9PXUoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgc2Vzc2lvbiBvciBwYWlyaW5nIHRvcGljIHNob3VsZCBiZSBhIHN0cmluZzogJHtvfWApO3Rocm93IG5ldyBFcnJvcihlKX19YXN5bmMgaXNWYWxpZFByb3Bvc2FsSWQobyl7aWYoIWVzKG8pKXtjb25zdHttZXNzYWdlOmV9PXUoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcHJvcG9zYWwgaWQgc2hvdWxkIGJlIGEgbnVtYmVyOiAke299YCk7dGhyb3cgbmV3IEVycm9yKGUpfWlmKCF0aGlzLmNsaWVudC5wcm9wb3NhbC5rZXlzLmluY2x1ZGVzKG8pKXtjb25zdHttZXNzYWdlOmV9PXUoXCJOT19NQVRDSElOR19LRVlcIixgcHJvcG9zYWwgaWQgZG9lc24ndCBleGlzdDogJHtvfWApO3Rocm93IG5ldyBFcnJvcihlKX1pZihCKHRoaXMuY2xpZW50LnByb3Bvc2FsLmdldChvKS5leHBpcnlUaW1lc3RhbXApKXthd2FpdCB0aGlzLmRlbGV0ZVByb3Bvc2FsKG8pO2NvbnN0e21lc3NhZ2U6ZX09dShcIkVYUElSRURcIixgcHJvcG9zYWwgaWQ6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX1jbGFzcyBTcyBleHRlbmRzIFl7Y29uc3RydWN0b3IobyxlKXtzdXBlcihvLGUsaXQseWUpLHRoaXMuY29yZT1vLHRoaXMubG9nZ2VyPWV9fWNsYXNzIHd0IGV4dGVuZHMgWXtjb25zdHJ1Y3RvcihvLGUpe3N1cGVyKG8sZSxudCx5ZSksdGhpcy5jb3JlPW8sdGhpcy5sb2dnZXI9ZX19Y2xhc3MgSXMgZXh0ZW5kcyBZe2NvbnN0cnVjdG9yKG8sZSl7c3VwZXIobyxlLGF0LHllLHQ9PnQuaWQpLHRoaXMuY29yZT1vLHRoaXMubG9nZ2VyPWV9fWNsYXNzIGZzIGV4dGVuZHMgWXtjb25zdHJ1Y3RvcihvLGUpe3N1cGVyKG8sZSxodCxvZSwoKT0+YWUpLHRoaXMuY29yZT1vLHRoaXMubG9nZ2VyPWV9fWNsYXNzIHZzIGV4dGVuZHMgWXtjb25zdHJ1Y3RvcihvLGUpe3N1cGVyKG8sZSxkdCxvZSksdGhpcy5jb3JlPW8sdGhpcy5sb2dnZXI9ZX19Y2xhc3MgcXMgZXh0ZW5kcyBZe2NvbnN0cnVjdG9yKG8sZSl7c3VwZXIobyxlLHV0LG9lLHQ9PnQuaWQpLHRoaXMuY29yZT1vLHRoaXMubG9nZ2VyPWV9fWNsYXNzIFRze2NvbnN0cnVjdG9yKG8sZSl7dGhpcy5jb3JlPW8sdGhpcy5sb2dnZXI9ZSx0aGlzLmF1dGhLZXlzPW5ldyBmcyh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpLHRoaXMucGFpcmluZ1RvcGljcz1uZXcgdnModGhpcy5jb3JlLHRoaXMubG9nZ2VyKSx0aGlzLnJlcXVlc3RzPW5ldyBxcyh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpfWFzeW5jIGluaXQoKXthd2FpdCB0aGlzLmF1dGhLZXlzLmluaXQoKSxhd2FpdCB0aGlzLnBhaXJpbmdUb3BpY3MuaW5pdCgpLGF3YWl0IHRoaXMucmVxdWVzdHMuaW5pdCgpfX1jbGFzcyBfZSBleHRlbmRzIGJ0e2NvbnN0cnVjdG9yKG8pe3N1cGVyKG8pLHRoaXMucHJvdG9jb2w9Q2UsdGhpcy52ZXJzaW9uPUxlLHRoaXMubmFtZT13ZS5uYW1lLHRoaXMuZXZlbnRzPW5ldyBpcyx0aGlzLm9uPSh0LHMpPT50aGlzLmV2ZW50cy5vbih0LHMpLHRoaXMub25jZT0odCxzKT0+dGhpcy5ldmVudHMub25jZSh0LHMpLHRoaXMub2ZmPSh0LHMpPT50aGlzLmV2ZW50cy5vZmYodCxzKSx0aGlzLnJlbW92ZUxpc3RlbmVyPSh0LHMpPT50aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcih0LHMpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzPXQ9PnRoaXMuZXZlbnRzLnJlbW92ZUFsbExpc3RlbmVycyh0KSx0aGlzLmNvbm5lY3Q9YXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuY29ubmVjdCh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSx0aGlzLnBhaXI9YXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucGFpcih0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSx0aGlzLmFwcHJvdmU9YXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuYXBwcm92ZSh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSx0aGlzLnJlamVjdD1hc3luYyB0PT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5yZWplY3QodCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0sdGhpcy51cGRhdGU9YXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUudXBkYXRlKHQpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319LHRoaXMuZXh0ZW5kPWFzeW5jIHQ9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmV4dGVuZCh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSx0aGlzLnJlcXVlc3Q9YXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucmVxdWVzdCh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSx0aGlzLnJlc3BvbmQ9YXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucmVzcG9uZCh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSx0aGlzLnBpbmc9YXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucGluZyh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSx0aGlzLmVtaXQ9YXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuZW1pdCh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSx0aGlzLmRpc2Nvbm5lY3Q9YXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuZGlzY29ubmVjdCh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSx0aGlzLmZpbmQ9dD0+e3RyeXtyZXR1cm4gdGhpcy5lbmdpbmUuZmluZCh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSx0aGlzLmdldFBlbmRpbmdTZXNzaW9uUmVxdWVzdHM9KCk9Pnt0cnl7cmV0dXJuIHRoaXMuZW5naW5lLmdldFBlbmRpbmdTZXNzaW9uUmVxdWVzdHMoKX1jYXRjaCh0KXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcih0Lm1lc3NhZ2UpLHR9fSx0aGlzLmF1dGhlbnRpY2F0ZT1hc3luYyh0LHMpPT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5hdXRoZW50aWNhdGUodCxzKX1jYXRjaChpKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihpLm1lc3NhZ2UpLGl9fSx0aGlzLmZvcm1hdEF1dGhNZXNzYWdlPXQ9Pnt0cnl7cmV0dXJuIHRoaXMuZW5naW5lLmZvcm1hdEF1dGhNZXNzYWdlKHQpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319LHRoaXMuYXBwcm92ZVNlc3Npb25BdXRoZW50aWNhdGU9YXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuYXBwcm92ZVNlc3Npb25BdXRoZW50aWNhdGUodCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0sdGhpcy5yZWplY3RTZXNzaW9uQXV0aGVudGljYXRlPWFzeW5jIHQ9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnJlamVjdFNlc3Npb25BdXRoZW50aWNhdGUodCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0sdGhpcy5uYW1lPW8/Lm5hbWV8fHdlLm5hbWUsdGhpcy5tZXRhZGF0YT1vPy5tZXRhZGF0YXx8dHMoKSx0aGlzLnNpZ25Db25maWc9bz8uc2lnbkNvbmZpZztjb25zdCBlPXR5cGVvZiBvPy5sb2dnZXI8XCJ1XCImJnR5cGVvZiBvPy5sb2dnZXIhPVwic3RyaW5nXCI/by5sb2dnZXI6VHQoTnQoe2xldmVsOm8/LmxvZ2dlcnx8d2UubG9nZ2VyfSkpO3RoaXMuY29yZT1vPy5jb3JlfHxuZXcgcXQobyksdGhpcy5sb2dnZXI9UHQoZSx0aGlzLm5hbWUpLHRoaXMuc2Vzc2lvbj1uZXcgd3QodGhpcy5jb3JlLHRoaXMubG9nZ2VyKSx0aGlzLnByb3Bvc2FsPW5ldyBTcyh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpLHRoaXMucGVuZGluZ1JlcXVlc3Q9bmV3IElzKHRoaXMuY29yZSx0aGlzLmxvZ2dlciksdGhpcy5lbmdpbmU9bmV3IFJzKHRoaXMpLHRoaXMuYXV0aD1uZXcgVHModGhpcy5jb3JlLHRoaXMubG9nZ2VyKX1zdGF0aWMgYXN5bmMgaW5pdChvKXtjb25zdCBlPW5ldyBfZShvKTtyZXR1cm4gYXdhaXQgZS5pbml0aWFsaXplKCksZX1nZXQgY29udGV4dCgpe3JldHVybiBPdCh0aGlzLmxvZ2dlcil9Z2V0IHBhaXJpbmcoKXtyZXR1cm4gdGhpcy5jb3JlLnBhaXJpbmcucGFpcmluZ3N9YXN5bmMgaW5pdGlhbGl6ZSgpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIik7dHJ5e2F3YWl0IHRoaXMuY29yZS5zdGFydCgpLGF3YWl0IHRoaXMuc2Vzc2lvbi5pbml0KCksYXdhaXQgdGhpcy5wcm9wb3NhbC5pbml0KCksYXdhaXQgdGhpcy5wZW5kaW5nUmVxdWVzdC5pbml0KCksYXdhaXQgdGhpcy5hdXRoLmluaXQoKSxhd2FpdCB0aGlzLmVuZ2luZS5pbml0KCksdGhpcy5sb2dnZXIuaW5mbyhcIlNpZ25DbGllbnQgSW5pdGlhbGl6YXRpb24gU3VjY2Vzc1wiKSxzZXRUaW1lb3V0KCgpPT57dGhpcy5lbmdpbmUucHJvY2Vzc1JlbGF5TWVzc2FnZUNhY2hlKCl9LFRlKHplKSl9Y2F0Y2gobyl7dGhyb3cgdGhpcy5sb2dnZXIuaW5mbyhcIlNpZ25DbGllbnQgSW5pdGlhbGl6YXRpb24gRmFpbHVyZVwiKSx0aGlzLmxvZ2dlci5lcnJvcihvLm1lc3NhZ2UpLG99fX1jb25zdCBOcz13dCxQcz1fZTtleHBvcnR7cHQgYXMgQVVUSF9DT05URVhULGh0IGFzIEFVVEhfS0VZU19DT05URVhULGR0IGFzIEFVVEhfUEFJUklOR19UT1BJQ19DT05URVhULGx0IGFzIEFVVEhfUFJPVE9DT0wsYWUgYXMgQVVUSF9QVUJMSUNfS0VZX05BTUUsdXQgYXMgQVVUSF9SRVFVRVNUX0NPTlRFWFQsb2UgYXMgQVVUSF9TVE9SQUdFX1BSRUZJWCxncyBhcyBBVVRIX1ZFUlNJT04sb3QgYXMgRU5HSU5FX0NPTlRFWFQseCBhcyBFTkdJTkVfUVVFVUVfU1RBVEVTLHYgYXMgRU5HSU5FX1JQQ19PUFRTLGhzIGFzIEhJU1RPUllfQ09OVEVYVCxwcyBhcyBISVNUT1JZX0VWRU5UUyxkcyBhcyBISVNUT1JZX1NUT1JBR0VfVkVSU0lPTixjdCBhcyBNRVRIT0RTX1RPX1ZFUklGWSxpdCBhcyBQUk9QT1NBTF9DT05URVhULHVzIGFzIFBST1BPU0FMX0VYUElSWSxydCBhcyBQUk9QT1NBTF9FWFBJUllfTUVTU0FHRSxhdCBhcyBSRVFVRVNUX0NPTlRFWFQsbnQgYXMgU0VTU0lPTl9DT05URVhULEggYXMgU0VTU0lPTl9FWFBJUlksbWUgYXMgU0VTU0lPTl9SRVFVRVNUX0VYUElSWV9CT1VOREFSSUVTLHhlIGFzIFNJR05fQ0xJRU5UX0NPTlRFWFQsd2UgYXMgU0lHTl9DTElFTlRfREVGQVVMVCxjcyBhcyBTSUdOX0NMSUVOVF9FVkVOVFMsQ2UgYXMgU0lHTl9DTElFTlRfUFJPVE9DT0wsbHMgYXMgU0lHTl9DTElFTlRfU1RPUkFHRV9PUFRJT05TLHllIGFzIFNJR05fQ0xJRU5UX1NUT1JBR0VfUFJFRklYLExlIGFzIFNJR05fQ0xJRU5UX1ZFUlNJT04sTnMgYXMgU2Vzc2lvblN0b3JlLFBzIGFzIFNpZ25DbGllbnQsRGUgYXMgV0FMTEVUQ09OTkVDVF9ERUVQTElOS19DSE9JQ0UsX2UgYXMgZGVmYXVsdH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@walletconnect+sign-client@2.17.3_@react-native-async-storage+async-storage@1.24.0_react-nati_m34b64qedclwzfsxvz22tzpafe/node_modules/@walletconnect/sign-client/dist/index.es.js\n");

/***/ })

};
;